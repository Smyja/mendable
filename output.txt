{
  "data": [
    {
      "id": 1,
      "source": "https://wiki.thrivedx.com/doku.php?id=lucy_onboarding_checklist",
      "content": "lucy_onboarding_checklist [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • lucy_onboarding_checklist Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 lucy_onboarding_checklist LUCY ONBOARDING CHECKLIST According to statistics, phishing simulations conducted in real time have two significant benefits, namely, doubling employee awareness retention rates and bringing about a near 40% ROI, compared to more traditional cybersecurity training methods. Other benefits of a simulated attack training are: It increases specific awareness of the phishing and Malware threats. When employees fall for a simulated attack, they become more aware of the real threat and more receptive to the messages from IT security. It improves the general awareness of security. Simulated attack programs help to open the lines of communication between employees and security staff which in turn helps to improve the efficiency of general security awareness training. It provides security training metrics. Simulated attacks allow you to track the effectiveness of your security training over time and to target the areas or people that most need additional training. You should keep in mind, however, that employees – your organization’s weakest cybersecurity link – cannot be trained overnight, so this endeavor will require careful planning. For security awareness to be successful, it needs to be ingrained into the culture of your organization. The phishing test is just a small part of the whole awareness campaign. Without the appropriate context, the security messages from posters or presentations are lost. A blame-free culture should be created so that your employees can alert you if they feel that a mistake has been made. Education and awareness of security, successfully adopted throughout your organization, can have a measurably positive impact. Naturally, it’s much easier to go through this process if you have a list of tips that can guide you through a simulation. In this article are the points you should consider. General Planning Name Description Questions Link(s) Get approval Similar to approaching any important project, the first step in running a successful internal phishing training campaign is to make sure all concerned parties are notified and ready to comply. This includes executives, board of directors, IT and HR team, and your legal department. This step is usually accomplished fast and easy as it requires only a mild investment in phishing education in exchange of employee knowledge that can protect your company data from hacker attacks. Don’t forget to consult your HR department to ensure your simulations comply with current company policies. It’s also wise to reach out to your IT and Helpdesk Departments and discuss the planned activities with them. •Did you get approval from the relevant departments (legal, risk, HR, support etc.)? •Has anyone voiced concerns you didn’t consider? No links Define goals Always make sure to state the goals of each activity, including information on what you want to be tested. Usually, phishing engagements are concerned with testing people and their reactions to phishing emails. The points of concern are: Will a user click on a suspicious link, fill in their credentials in a web form, install unknown software, or otherwise interact with the email contents? In many cases, however, phishing simulations test non-human defenses as well. These typically come in the form of spam and phishing filters that protect the company’s mail server. Knowing that your network defenses work is great, but it’s imperative that the phishing simulation reaches your employees. Additionally, make sure you warn your testers about any flooding protections set up on your mail server. Remember, running a phishing test has one main purpose: to educate your employees so they are aware of the hackers’ tactics and of the ways to avoid becoming their victim. In no way should you try to catch your employees in a mistake without prior training or warn them about the scenarios beforehand as that wouldn’t help either. The security of your company is your main goal, and your employees should be aware of that. Measure the behaviors: A common issue with many training programs and phishing simulations is that their behavior remains unchanged throughout the course of the test. Identify the goals that your phishing simulation should meet, then design a path that evaluates if, and to what extent, each goal is accomplished. •Did you already perform phishing simulations in the past and if yes: what were the average click/data submit rates? •What is the expected click/data submit rate for the planed phishing simulation? •What is the desired click and data submit rate after the simulation / training; after 1 year of simulation/training? No links Past Education Don’t forget to consider prior simulations and trainings that you’ve conducted on the topic of phishing and scam detection. If your employees have already been trained to spot scams, you should probably consider more sophisticated attack simulations that will be more difficult to recognize. • Have you already trained all users on phishing & social engineering? • Do you keep the results from past trainings to compare with future attack simulations? • How do trainings currently look like (length, interactivity, video, exam, design etc.)? No links Current exposure One main tactic attackers use is ‘spoofing’, that is, creating emails that closely resemble those of trusted organizations. They can then use those spoofed emails to attack your customers or employees. Any publicly available information about your company can be used by attackers to create convincing phishing messages aimed at your employees. Your website and social media pages often offer all the data scammers need to run an attack, so keep an eye on any information that your partners share online about your organization. LUCY offers an employee online footprint analysis service for the price of USD 500. Its aim is to help you understand which of your sensitive employee information can be viewed on the Internet as well as the kind of data your employees tend to share publicly via their company e-mail address. Once you have a better idea of your data exposure on public channels, you’ll be equipped to help your staff understand how sharing their personal information can affect them and your organization. You can use this to develop a clear digital footprint policy for all users. Of course, you should not expect your employees to remove all traces of themselves from the Internet. What you can do instead is help them to better manage their digital footprint, so they share information in a way that protects them and the organization. • Do you request of your employees to not use business email addresses for private services? • Do you want to perform an employee footprint analysis (the results can be used at a later point for specific eLearning)? No links Current Filter It’s common for organizations to keep a sophisticated multi-tier system of defenses on their servers so phishing attacks would not reach their employees. Therefore, in order to successfully run a phishing simulation, you will need to whitelist the addresses from which the ‘threats’ will be sent. This whitelisting will need to take effect at email gateways, anti-virus software and web proxies. •Is it possible to whitelist LUCY's IP and sender domain from the campaign scenario on the SPAM filter? • Is it possible to whitelist LUCY's IP and sender domain from the campaign scenario on the web proxy? • Are there any limitations set on sending emails (for example a maximum number of emails in a specific time range)? [Avoid Spam](/doku.php?id=avoid_spam_issues) [Limit sending rate](/doku.php?id=scheduler) Current protection Do you know which types of malware can get past your defenses? What kind of security do you use against spoofing, malware, etc.? You can never plan a successful phishing simulation until you know and understand all the technical information involved. For instance: Employees who are allowed to run executable files should be tested for awareness toward downloads with executable content. LUCY features a handy built-in functionality called “mail- and web-filter test.” It provides the answer to one of the most important questions in securing Internet and mail traffic: Which file types can an employee download from the Web, and which e-mail attachments are filtered out or not? The tool is part of the LUCY framework and can be used for free. An analysis performed by our consultants is offered at USD 500. •Do you know what file types can be attached to an email or downloaded and executed from the internet from a standard Windows client? [Filter Test](/doku.php?id=mail_and_webfilter_test) Technical Planning Name Description Questions Link(s) Setup location You can run the attack simulation from a cloud server or on-premise. Reasons for installing on an external server in the internet are: ◾ Public IP address outside your network range: Prevents your infrastructure from being blacklisted. ◾ Direct access: The server will not be blocked by any security products already in place within your own infrastructure. ◾ Less possible conflicts with integration: A LUCY server placed directly in the internet will be setup very fast as it does not require a complex integration process with your mail, DNS and firewall infrastructure ◾ Smaller attack surface: As the LUCY server requires a web based access for end users from the internet (e.g. accessing their mails from mobile devices), you might need to punch a hole in your firewall and allow inbound access to a LUCY server. If you place LUCY in the intranet (see this chapter), your might violate your zone concept. Reasons for installing LUCY on premises are: ◾ Legal: Some laws might not allow you to store sensitive data on an external server outside your network or outside your country. Especially with the new data protection law in Europe (GDPR) you need to make sure any personalized or sensitive data is secured. ◾ Integration with certain features: LUCY comes with different API's such as the LDAP API, the REST API etc. which are common for backend applications that are usually not exposed to the internet. ◾ Security: LUCY might store sensitive data like windows login, user names, emails etc. within the database. Integrating the LUCY server in the internal protection layers (IDS, FW etc.) will minimize the risks of successful attacks. • Do you plan to integrate LUCY with your internal systems (LDAP, LMS etc.)? If yes: you might probably want to consider an on-premise installation or a VPC (virtual private cloud) [Setup Guide](/doku.php?id=network_design_-_where_to_setup_lucy) Prepare Hardware Please make sure you have the hardware ready with sufficient disk space (>100 GB) and memory (>4 GB). - [Hardware Specs](/doku.php?id=hardware) Installation Name Description Questions Link(s) Download Software If you have decided to do an on premise installation you will first need to download LUCY from our webpage. Please choose one of our installers or images: ◾ Virtual Box: [http://download.phishing-server.com/dl/lucy-latest/virtualbox.zip](http://download.phishing-server.com/dl/lucy-latest/virtualbox.zip) ◾ Linux Installer: [http://download.phishing-server.com/dl/lucy-latest/install.sh](http://download.phishing-server.com/dl/lucy-latest/install.sh) ◾ ESX/ESXi: [http://download.phishing-server.com/dl/lucy-latest/esxi.ova](http://download.phishing-server.com/dl/lucy-latest/esxi.ova) ◾ Vmware Image: [http://download.phishing-server.com/dl/lucy-latest/vmware.zip](http://download.phishing-server.com/dl/lucy-latest/vmware.zip) ◾ Amazon: [http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=installing_lucy_in_amazon](http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=installing_lucy_in_amazon) If you require a different format (e.g. ovf), search for the according converter (e.g. search for “convert ova to ovf”). All downloads are automatically treated as a community edition. - - Installation Installation Once downloaded, please install LUCY according to the download type: ◾ [Installing LUCY on LINUX](/doku.php?id=installing_lucy_on_linux) ◾ [Installing LUCY in Virtualbox](/doku.php?id=installing_lucy_in_virtualbox) ◾ [Installing LUCY in Vmware](/doku.php?id=installing_lucy_in_vmware) ◾ [Installing LUCY in Amazon](/doku.php?id=installing_lucy_in_amazon) ◾ [Installing LUCY on Windows](/doku.php?id=installing_lucy_on_windows) ◾ [Converting LUCY from VMware ESX to Hyper-V](/doku.php?id=converting_vmware_to_hyperv) As soon as the installation is finished, the automatic setup script should start. - [Setup Script](/doku.php?id=setup_script_tutorial) Permit Access Make sure that the [necessary ports](/doku.php?id=network_communication_-_lucy_--_internet) from and to LUCY are opened. If the server is placed within a DMZ or intranet and you have external mobile users that need to access LUCY, you probably need to enable port forwarding (http/https) on your firewall. - [necessary ports](/doku.php?id=network_communication_-_lucy_--_internet) Post Installation Setup Name Description Questions Link(s) Login [Login](/doku.php?id=lucy_weblogin) to LUCY with the Webbrowser using the IP address of your server. Continue the setup in the browser using the credentials provided in the setup script. As an alternative you can also use a domain name for the administration. If you want to use a domain for your administration UI, Connect to your LUCY instance with the root or phishing account. If you connect as root, please execute the command python /opt/phishing/current/tools/setup/setup.py (if you have a docker based installation, execute: docker exec -it lucy /bin/bash and then press enter and execute \"python /opt/phishing/current/tools/setup/setup.py)\". Within the setup script menu please choose menu item \"domain configuration\" and set the domain for your admin UI • Did you think of reserving a domain for the administration frontend of LUCY? [Domain configuration](/doku.php?id=domain_configuration) Download License Please send us the [workstation ID](/doku.php?id=how_to_activate_lucy) - [LUCY Pricing](https://lucysecurity.com/pricing/) Update Please make sure that LUCY can connect to the internet via http/https to our update server (162.55.130.83 - update.phishing-server.com). If you are using a proxy, please go to “advanced settings” and define your proxy first. • Please test the disk space before updating all templates. Show a warning, if disk space is not sufficient. Always install with “install + replace” • System update: show this button greyed out while templates are downloaded. If all templates are downloaded, allow the user to check for updates. Display an error if the http connection cannot be established. - [Update LUCY](/doku.php?id=update_lucy) Mail Settings Define your [default mail delivery method](/doku.php?id=mail_delivery_methods_in_lucy) in LUCY. If you plan a phishing siluation together with a training, you might want to consider using a different domain or een mail server for the awareness training. In case you use the build in mail server: set the [hostname](/doku.php?id=set_hostname_for_smtp_communication) for the mail server. • Do you want to perform a phishing simulation bundled with awareness training? - Domain Setup You will need two domain types in LUCY: Attack simulation domains This is the domain you could use for your phishing website in your attack simulation. We recommend reserving first a generic domain like \"cloud-services625.com\". If you create a wildcard A-record for that domain, you can then use a matching subdomain. Let’s say you prepare a phishing simulation with some web-based email service. Using the subdomain \"webmail\" would give you the domain \"webmail.cloud-services625.com\" for the landing page. If you ask the user to download a file, you could use \"download.cloud-services625.com\" etc. If you want to do more sophisticated attacks you can reserve a typo squatted version of your own domain name. Typo squatting is a technique of registering domain names which look similar to some legitimate domain name. For instance, given google.com, one example of typo squatting domain might be g00gle.com. You can use the domain from your landing page also for the email sender (like sender@cloud-services625.com). But as the sender email domain is a free text field that can be used with any domain name, it is not required to reserve a domain for just sending emails. There are some rules though when it comes to sending on behalf of other domain names: a) You can only use domain names that really exist b) You can only use domain names that are not SPF protected (unless you white list them on your mail server) c) You can only use domains that also have an MX record That means, you cannot use \"@apple.com\" as there is an SPF entry for this domain. You also cannot use \"@this-does-not-exist.com\". But you could use \"@example.com\" - a domain that exists, but is not protected. The website MX Toolbox helps you verifying if a MX or SPF record exists. Awareness Website Domain Try to avoid using the same domain for attack simulations as for the awareness training. If possible, point a trusted domain record to LUCY like \"training.your-domain.com\" and send awareness emails using your own mail server as a relay in LUCY. If you don't have a domain registered yet, you can use the integrated LUCY Domain Registration Wizard. This feature is only available for commercial licenses, allowing you to reserve all the available domain names for an affordable price. Commercial clients have a built-in budget for using the domain API and are also able to later add credits for the domain reservation. - - SSL Setup If you want to generate a trusted certificate for the admin access you have two options: • Upload your own certificate • Create a trusted certificate using Lets Encrypt SSL for your awareness training or attack simulation landing pages Each campaign scenario can be configured with a custom landing page and SSL certificate. Please start the campaign setup wizard to setup SSL for your campaign after you finished the system setup. - [SSL Setup](/doku.php?id=ssl_configuration) White-Label The application can be visually adapted to corporate branding (custom copyright, software name, admin path, custom error page etc.) - [custom branding](/doku.php?id=white_label_lucy_-_custom_branding) Client Setup A client can be your own organization or the company who asked you to perform a phishing test. Each campaign has to be associated with a client. You can then create also \"view-only accounts\" for selected campaigns from specific clients or view/filter data based on the client name. - [Client Setup](/doku.php?id=client_setup) LDAP - SSO In case you want to [import your recipients](/doku.php?id=add_mail_recipients) via [LDAP](/doku.php?id=ldap_integration) or allow them authenticate via [SSO](/doku.php?id=sso_authentication), you can configure this is LUCY in the according menus. - [LDAP](/doku.php?id=ldap_integration) Advanced Settings Set the time zone, proxy and other [advanced settings](/doku.php?id=advanced_settings) - [advanced settings](/doku.php?id=advanced_settings) Hardening Consider going through the different hardening options LUCY offers - [Security hardening](/doku.php?id=security_considerations) User Management LUCY offers a role-based access control (RBAC) for the administration, restricting system access to authorized users. The permissions to perform certain operations are assigned to specific roles within the user settings. Members or staff (or other system users) are assigned particular roles, and through those role assignments acquire the computer permissions to perform particular LUCY functions. - [User Roles](/doku.php?id=user_management) Create your campaign Name Description Questions Link(s) Initial communication The purpose of your phishing simulation is not to set a trap up for your employees to fall into. On the contrary, it is to provide a safe environment where they can learn what phishing attempts look like in reality. Therefore, it’s a good strategy to warn your employees about the upcoming campaign so they feel included in this plan toward protecting company sensitive data and digital infrastructure. You can also use this notification as a reminder about the importance of recognizing suspicious emails which can cause security breaches and loss of data. For instance, the ransomware attacks that keep developing have the potential to damage your company’s reputation, lose customer trust and revenue, and even result in fines. Thus, it’s even better if your CEO is involved, so your employees can understand that cybersecurity awareness is everyone’s responsibility. Here is a sample first email taken from SANS Security Awareness Program: As you know, we take information security extremely seriously. As part of our on going security awareness program, at different times, we will be testing your understanding of this training, including quizzes, awareness surveys and assessments. Starting next month, we will be kicking off phishing assessments. A phishing assessment is nothing more than when we send out an email pretending to be a hacker. These are the very same email attacks that the bad guys are sending. The only difference is that these emails will not harm you in any way. They are only designed to track how many people fall victim to them and to help you learn how to identify these scams and protect yourself. •Do you plan to communicate to your employees that you will perform phishing simulations? No links Allow users to report emails If your employees notice suspicious emails, but notify no one, the threat remains. Make sure your users feel encouraged to seek help in situations that raise their awareness. A good report system can provide clues about the types of phishing attacks targeting your company, and thus help improve your defenses. A well-working report system where users can freely share their suspicions about potential attacks can also provide information about emails mistaken for phishing, and how that impacts your organization. Make sure you set up a general report email such as: report-phishing@yourorganization.com which employees can use when an email they receive looks suspicious. Educate them about the steps they need to take in case of a perceived threat and provide them with the tools to report it in an easy way, such as a plug-in report button embedded in their inbox. LUCY offers a phishing reporter plugin for various mail service platforms where employees can report suspicious emails with just one click. Note that this ease of reporting usually doubles the report rate of suspected emails, so it would be a good idea to provide your security team with the right tools and resources to handle and analyze the influx of emails. LUCY has a handy solution that applies machine learning to spot real attacks. •Do you plan to give users the option to report emails via a plugin? • What type of email clients do you have in your environment and which ones should be supported? • Where should emails get reported? • Do you have any specifications in terms of icon design (report button) and text that is displayed, when a user reports a suspicious email? [Mail Plugin](/doku.php?id=outlook_plugin_phishing_incidents) Training first? Before you initialize a phishing simulation assessment in your organization, your current employees should to go through an introductory training scheme. This same training will later be provided for new employees upon hiring (preferably before they get access to their company email accounts). Please list all the desired training topics to be covered •Through which medium (flyer, newsletter, on-site teaching, screensaver, poster, web-based teaching, etc.) should the security content be delivered to the employees? •Are all or some parts of the training mandatory? •Is there an optimal structure for training courses (e.g., start with theoretical part, then run a video, followed by a game, with the test at the end)? •Do all employees in the organization get the same training or do you require department-specific training content? •Is the training “success” going to be monitored? And if yes: do you want it monitored on a personalized level? •Are there any penalties for users who refuse to participate in trainings? •What is the desired training frequency for the different training methods? How often do you plan to update the training content? •Are there already existing trainings, which should be incorporated into our training courses? •Do you also want to test the training know-how (e.g., via exams)? •Do you wish to include training gamification elements? •Should users get a certificate when they pass the training exams? •In which languages does the training need to be delivered? •Do training videos need to have close captions? •Do you want the training videos to have your own logo at the start and end? •What are the requirements in terms of corporate design towards the training (font type, size, logo, etc.)? •Does all training content need to work also on mobile devices? If yes: in which minimal screen resolution? •What is the default browser and screen resolution for a standard user? •Are there any technological restrictions for the training courses (e.g., Java scripts blocked)? •Can we include links and sources (e.g., videos) from external servers or does all the training content need to run locally? •Current policies: Which security guidelines are to be incorporated into the training (e.g., training password security: minimum number of characters; internet usage guidelines, etc.)? •Training length: what is the desired length for the different courses (note: the same course could be presented as a 1-minute micro training module and an extended version)? •Training library: do you wish to have all training modules accessible through a central training library? •Do you wish to be able to edit all training content yourself? •Should the training run only on our platform or would you rather we create an export (e.g., SCORM) of all trainings for you? The LUCY database contains more than 250 interactive, web-based training modules (videos, tests, quizzes, games, and more) on various security topics. These can be given to employees based on the results of attack simulations, or independently. All trainings can be customized. - [Training Settings](/doku.php?id=awareness_e-learning_settings) Frequency Before you run a phishing simulation test, you need to plan for it. If you send the test emails too often, most employees will get used to recognizing them. And if you send them on occasion, you will not have enough statistics to analyze.The best approach is to create each phishing test as a series of simulations, e.g., a campaign, that runs for roughly 3 to 4 months. This strategy will give you a clear-cut way to understand the level of your employee-based security. It’s important to set up your campaign with progressive difficulty. In other words, the first simulation email should be easy to recognize, then you can build the following ones up by exploring different angles and tiers of subtlety. Do not run more than 4 attack simulations per user/per year. 2 attack simulations per user/year are perceived as optimal. •How many phishing simulations do you plan per year? •How many phishing emails should a user get per year (minimum/maximum)? No links Choose the groups Sending a phishing simulation campaign out to the whole company at once might cause suspicion. Instead, choose a group of employees you’d like to test, and only target them with a specific simulation. You could also pick a dozen scenarios which you can then split among your employees for better analysis. Keep in mind that not all employees should be targeted in the same way. For instance, customer support may be at higher risk of receiving unsolicited emails, while your IT, financial, and data administration departments may be the target of more sophisticated types of phishing. You would do wisely to train your risk-group staff about all possible threats and provide additional support for them. User coverage and simulation frequency should be determined based on the perceived risk (Example: Finance & Payments – 2 themes / X months, senior leadership – 1 theme / X months). High risk functions / department / individuals handling important role in the organization should be covered more frequently as part of the simulation. - [Creating groups](/doku.php?id=add_mail_recipients) Data pivacy All employee performance data you gather via phishing simulations should be treated as personal data. Don’t overlook the potential implications if this data is made accessible to your company’s public space. Treat your employees with respect and don’t cause reputational or career stress. If your phishing simulation requests user data, you could use encryption. Another alternative is to purposefully use a site without encryption to create additional learning experience, teaching the user to never input sensitive data on an unencrypted site. •How long will gathered data be kept? •What will be done with it? •How securely will it be kept? •Do you want to store the users’ input data? •Do you want to submit the users’ input data? •Encryption: Should the landing page for the attack simulation be accessed over an encrypted channel and does it require a trusted certificate? [Anonymous settings](/doku.php?id=anonymisation) Attack type selection Phishing attacks don’t always come in email form. Many scams come through social media and even phone calls, so you will do good to train your employees to recognize possible threats. Your training should encompass different phishing methods, so your employees will be well equipped for various attack types. It’s advisable that your first phishing template is more basic and easier to recognize, but make sure each iteration of your campaign becomes more sophisticated. Utilize tactics such as smishing, file-based attacks, social engineering, etc. that your employees will encounter in the real world. •What attack types do you want to use in your phishing simulation (you can choose between hyperlink, data entry, download, execution or mixed)? •Do you want to use email as the only delivery option or will you incorporate alternative methods as well (SMS, USB etc.)? [Attack Types](https://lucysecurity.com/test-employees/) Scenario selection When deciding whether to run one or more scenarios in your organization, you should always consider the downsides. For instance, a single scenario received by all employees at the same time is bound to raise suspicion. So, after a short while, you won’t be able to measure the level of security awareness as the clicks will quickly wean down. A better strategy is to use multiple scenarios when you want to test employees in the same office space. If you do want to run a single template, you should make sure the content is general enough to be relevant to everyone in the company. Specific templates, such as “package delivery notification” and “online booking confirmation” will not be of interest to most of your employees. A template like “employee survey about [some generic topic]” or “required employee registration” would garner the interest of your target group. Think carefully about possible template limitations. There may be none, but sometimes clients don’t want specific institutions or people to be impersonated. Another good idea is to keep in mind planned company activities and not jeopardize project trust unreasonably. For instance, if you’re planning to migrate from one security software to another (say, McAfee to Norton), you wouldn’t want to use a Norton phishing template. Once you have all of these figured out, you can start planning your phishing email scenarios. Look up current phishing strategies and refer to scam emails you have received. Think like a scammer and use the knowledge you have of your employees to create a campaign that is likely to get them curious. This may not come natural to you, but it’s important to get shrewd and tricky. Use email templates typically sent out for company events, such as a course/seminar/team building sign-up form, or with an attached downloadable file containing information about a policy change. Devise your scenario by job specification and target that group of employees to whom it will be relevant. Use email templates they usually receive, then tweak them to make them sound believable. For instance, you could impersonate the Head of Finance and ask targeted employees for their invoice/ERP software credentials. Phishing emails that contain offers for “free” stuff are bound to get most clicks, so make sure you test them too. Your employees should have enough common sense to know that nothing comes for free and should be suspicious upon seeing such offers. They can be taught to check the underlying links by hovering over them, but make sure you instruct them to never click any suspicious links because they often are malicious. Remember, every phishing campaign must be thoroughly planned as scammers are getting more sophisticated and creative, sending out very convincing emails. Therefore, you should make sure your templates target the right group of people in a way that is subtle and intriguing for them. That’s the only way you can test your employees’ awareness, so you get realistic results of your cybersecurity. •Do you plan to start with only 1 attack template or multiple templates? •If multiple templates: how many scenarios should be prepared in total? No links Real or not? It’s best to begin your phishing training with the basics. This way you can glean an idea of your employees’ initial level of awareness. To do this, use typos, poor language, bad formatting, etc. in the templates you send. Easy examples include fake package shipments and incredible lottery wins, so start your campaign there. With training progression, you will notice higher report rates and lower click rates as your employees learn to spot the scams. Then you can up the level of complexity, and so on. It’s good to know that emails which look as if sent from internal servers are more difficult to spot. Inherently, employees are likely to trust their colleagues or higher tier personnel. Spear phishing attacks, which use fully customized templates, are usually very effective. However, you shouldn’t go all out with the first simulation round. Find the golden middle between spoofing the company logo or a manager’s email and use a predefined template. Once this scenario runs its course and your employees are better prepared, you can get more creative. Always strive to create believable content. If your campaign includes a spoofed email from your financial department, make sure to use appropriate language, terminology, names, etc. So, don’t set up fake bank account verification requests to be sent from your IT staff, for instance. Also, don’t forget to keep the spoofed party in the loop before you begin the campaign. Adapt the same strategies when sending spoofed external emails, and make sure you use your common sense. If you want to send out fake emails concerning income taxes, do it in tax season, and the holidays are best for using package delivery notification templates. And make sure you spoof real companies (FedEx, UPS, Amazon, etc.); this is a great way to measure employee awareness for actual phishing attacks. Whatever strategy you decide to use, make the phishing attempts look as realistic as possible. This is the only way you can glean your employees’ awareness for real-world scams. Finally, make sure you do not meddle with the copyrighted and trademarked logos of any private company or government agency. Those institutions will most certainly not welcome the usage of their logos even if it’s for fake phishing emails. - [Clone a Webpage](/doku.php?id=copy_web_page) Which Email Sender? An important part of your phishing attempt is choosing the best mail sender domain from which the emails will be sent out. If you have spam filters in place, choose a domain that will normally pass through them. Only use this strategy if you want to allow an external third-party mail sender to spoof your own domain or the domain of a frequently used vendor. There isn’t much sense in using domains that would normally get filtered out via SPF protection – these will never make it to your employees’ inbox anyway and will be met with little cooperation from staff. Spoof a known domain/your own domain? Use our spoofing check first to verify the technical possibility. If you spoof a known external brand, use a legal disclaimer and make sure the user is redirected to the awareness directly after the phishing. • Do you also want to spoof your own company mail domain or spoof a domain from an external third-party vendor? [Spoofing](/doku.php?id=mail_spoofing_test) Catch email replies? For better statistics, catch all possible reply types, including “out-of-office” messages and “no-delivery reports.” Get feedback about the actual attack simulations to better analyze the results. •Do you plan to catch email replies? [Mail Manager](/doku.php?id=mail_manager) [Response detection](/doku.php?id=response_detection) Setup 404 Pages Every phishing simulation you run will have a couple users who choose to type in the domain in the browser (sans the random identifier) instead of clicking the spoofed link. This may bring them to the software admin interface or show a random 404 error page. Make sure you know where they get redirected and adjust the page accordingly. Create custom “homepage”: To prevent error messages from appearing or the end user from even coming to the login area of the admin console, you can create generic “homepages” within LUCY for the domains used in the phishing simulation. •What should happen if the recipient is checking the domain in the browser behind the random URL? [404 Pages](/doku.php?id=not_found_pages_404) When to send training? You can opt in to send your phishing training immediately after a user fails the attack simulation. They could be instantly redirected to the training if they clicked a spoofed link, submitted some credentials, or attempted to download a file. This approach will gain the user’s full attention, though they might warn their colleagues about the simulation. Another option is to delay the training, but make sure you send it from a trustworthy email that is different from the one used in the phishing simulation. •Do you want to include a training for users who fall for the attack simulation? •Should the eLearning be delayed? •What is the content/length/type of the desired follow up training? No links Follow up training? In every test you plan and run, there will be low performers, that is, users who fail to recognize the phishing emails. Part of your post-simulation job is to help those employees learn to recognize the threats and respond accordingly. A good way to continue with those people is to follow up with additional courses in real-time scenarios where you can track their results, as well as onsite trainings. Make sure you treat each employee with respect when discussing their low performance on a phishing test. If you patronize them, that will jeopardize their future communication with you, and you need them to trust you so they will come to you if they spot something fishy in their inbox. If this is the employee’s first test fail, you can simply send them an e-mail noting their poor phishing test result. Make sure you mention how important cybersecurity is for the entire organization and offer additional materials to help them improve their awareness. Gently let them know that more phishing tests will follow, so they will have many more opportunities to show they are not a weak link in the system. Mention the “report phishing” button, if you have implemented it, or the report-phishing@yourcompany.com email that you set up for the purposes of scam reporting. Sometimes there may be people, even a handful of them or more, who continuously fail to recognize a phishing threat. Don’t leave the matter unaddressed, but instead discuss it proactively. Give those users a tutorial explaining what phishing threats are and why they are dangerous for your company. Run some widely known examples from real life situations that have caused organizations tons of trouble and losses. It’s imperative that each of your employees recognizes the legitimacy of cyber threats and that they are very likely to be attacked at some point. •Do you plan to provide additional training for low performers outside of LUCY? No links Run your campaign Name Description Questions Link(s) Test Run For the time being of the test run, make sure all email addresses and page domains that you use in the simulated phishing email templates are whitelisted. Don’t forget to also adjust any internal company settings so that all simulation tests end up in your users’ inboxes. An important step you should not miss is testing the test on a few select emails, before sending it out to your employees. If you’re not using a cloud-based spam filter, you would do best to simply whitelist the LUCY IP addresses and hostnames in your mail server. If this isn’t the case, whitelisting should be done by email header in your mail server and by IP address or hostname in your spam filter. Products and services, you use in your mail or web environment should also be adjusted to prevent issues with deliverability. Note that our support team will be available should you need assistance. Most company mail servers and filters have rate limiting set up. This means that emails sent in bulk may be delivered slowly or get blocked altogether. Ensure your mail server and filter are set up so that the rate limiting rules are adjusted for the time you send out the phishing test emails. As an alternate scenario that isn’t recommended, you can turn off the limiting rate of your server and filter to ensure all users receive the phishing test email. But you have to turn it right back on. ••Do you have an email account that can be used for testing purposes? No links Send all at once? A great option to consider when sending out phishing simulation emails is scheduling. A scheduler allows you to plan test email delivery in a time frame of your choosing. Best practices include scheduling around weekends and vacations, not at night-time or Friday afternoon. •Do you want to use a scheduler and if yes: what are the required rules? [Scheduler](/doku.php?id=scheduler) Monitor When you run your simulation, make sure you can and do monitor it in real time in case something goes awry. Having this kind of understanding of your campaign will allow you to catch replies, out-of-office messages and NDR, and to track any issues that may arise.The LUCY platform allows you to set up view-only users, where real-time statistics can be monitored without access to configuration pages. - [Create Campaign reports](/doku.php?id=create_campaign_reports) [Create Exports](/doku.php?id=export_campaign_data) [Monitor](/doku.php?id=monitor_a_campaign_statistics) Follow up communication After you run your campaign, make sure you send out explanatory emails a few days to a week later. The emails should contain information about the importance of the used scenario as well as the clues you expected your employees to notice. Remember that positive feedback and consequence are the best ways to learn good behavior. So, set up a reward system for those employees who are able to spot the phishing clues and follow up by reporting the scams. Encouraging your staff will create trust in case of future threats – fake and real. For those who fail the test, and there will always be such individuals, follow up with training and additional courses until the employees in question learn to recognize the threats and report them. Your company needs to be immune to cyber threats, and this involves all of your users. •Do you plan to do a follow up communication? No links Next Steps Running a phishing simulation campaign has one main purpose: raising employee awareness to cyber threats. So, the first test is just the beginning. Build a baseline, reward high-performers, educate low-performers, and start planning your next scenario! - - Rewards If any of your employees achieve outstanding results, reward them. Congratulate their success in an email, noting everything they did right (no click-throughs or data leaks, timely reporting, etc.) to keep the company safe from cyber threats. You can stimulate an entire department if their cumulative results rated best in the organization. To bring things further, you can create a contest among departments to determine which one was the safest in a given period of time. As stimulation you could sponsor a lunch or dinner for the team with highest test and report results. - - lucy_onboarding_checklist.txt · Last modified: 2021/09/29 10:28 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 2,
      "source": "https://wiki.thrivedx.com/doku.php?id=supported_operating_systems",
      "content": "supported_operating_systems [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • supported_operating_systems Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 supported_operating_systems Supported Browser All phishing attack and awareness templates are tested and supported in the following browsers: IE 11 Chrome Firefox Microsoft Edge Opera Mobile Browsers: Chrome Firefox Microsoft Edge Opera Safari Please, note that the administration from a mobile device with a low resolution is not possible. Supported OS for Virtualization Software Virtualization Software like Vmware or Virtualbox can be installed on most common operating systems. Please check your vendor's documentation for more info. Awareness Content on mobile devices Our awareness courses are optimized for all types of mobile devices Supported OS for the Installer (install.sh) The installer file (install.sh) is build with \"Docker\". Docker containers wrap up a piece of software in a complete filesystem that contains everything it needs to run: code, runtime, system tools, system libraries – anything you can install on a server. This guarantees that it will always run the same, regardless of the environment it is running in. About containers: Containers running on a single machine all share the same operating system kernel so they start instantly and make more efficient use of RAM. Images are constructed from layered filesystems so they can share common files, making disk usage and image downloads much more efficient. Containers include the application and all of its dependencies, but share the kernel with other containers. They run as an isolated process in userspace on the host operating system. They’re also not tied to any specific infrastructure – Docker containers run on any computer, on any infrastructure and in any cloud. Open Standard: Docker containers are based on open standards allowing containers to run on all major Linux distributions and Microsoft operating systems with support for every infrastructure: Amazon EC2 Installation Arch Linux Microsoft Azure platform Installation from binaries CentOS CRUX Linux Debian Fedora FrugalWare Gentoo Install on Joyent Public Cloud Mac OS X Oracle Linux Rackspace Cloud Red Hat Enterprise Linux IBM SoftLayer openSUSE and SUSE Linux Enterprise Ubuntu Windows Please note, that LUCY Security does not recommend installing LUCY Software on cloud storage solutions. supported_operating_systems.txt · Last modified: 2022/03/25 16:29 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 3,
      "source": "https://wiki.thrivedx.com/doku.php?id=hardware",
      "content": "hardware [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • hardware Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 hardware General Hardware Requirements The hardware requirements may vary depending on the amount of recipients you upload for testing, your campaign type and also how you run the campaign. If you use the [scheduler](/doku.php?id=scheduler) to send the emails over a longer time frame, you need less performant hardware compared to the campaign, where you send all emails at once. Usually, 4 GB RAM and 2 Core CPU are sufficient to support up to 2000 recipients within a campaign. To run larger campaigns (up to 50'000 users) you will need at least 16 GB RAM and 8 Core CPU. Please make sure you have at least 100 GB of Harddisk allocated for LUCY for the basic installation. As there are many video, awareness and attack templates that may be downloaded after the initial installation, the recommended Harddisk size is > 300 GB. LUCY has a built-in [performance testing tool](/doku.php?id=performance_tests) which can help you fine-tune your hardware settings and find the appropriate hardware for your campaign. The [monitoring tool](/doku.php?id=system_performance_monitoring) also gives you a real-time view of the current system performance. If you run a VPS hosted with us, we can dynamically increase the CPU/RAM according to your needs. Supported Amazon Instances More info about installing LUCY within AMAZON can be found [here](/doku.php?id=installing_lucy_in_amazon). hardware.txt · Last modified: 2022/06/13 20:09 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 4,
      "source": "https://wiki.thrivedx.com/doku.php?id=network_design_-_where_to_setup_lucy",
      "content": "network_design_-_where_to_setup_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • network_design_-_where_to_setup_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 network_design_-_where_to_setup_lucy On-premise installation vs. installation in the cloud Lucy can be installed on-premise or in the internet on any cloud server. Reasons for installing on an external server in the internet are: Public IP address outside your network range: Prevents your infrastructure from being blacklisted. Direct access: The server will not be blocked by any security products already in place within your own infrastructure. Less possible conflicts with integration: A LUCY server placed directly in the internet will be setup very fast as it does not require a complex integration process with your mail, DNS and firewall infrastructure Smaller attack surface: As the LUCY server requires a web based access for end users from the internet (e.g. accessing their mails from mobile devices), you might need to punch a hole in your firewall and allow inbound access to a LUCY server. If you place LUCY in the intranet (see [this chapter](/doku.php?id=network_communication_-_lucy_--_internet)), your might violate your zone concept. Reasons for installing LUCY on premises are: Legal: Some laws might not allow you to store sensitive data on an external server outside your network or outside your country. Especially with the new data protection law in Europe ([GDPR](/doku.php?id=privacy_data_protection_and_gdpr)) you need to make sure any personalized or sensitive data is secured. Integration with certain features: LUCY comes with different API's such as the[ LDAP API](/doku.php?id=ldap_integration), the [REST API](/doku.php?id=api) etc. which are common for backend applications that are usually not exposed to the internet. Security: LUCY might store sensitive data like windows login, user names, emails etc. within the database. Integrating the LUCY server in the internal protection layers (IDS, FW etc.) will minimize the risks of successful attacks. Where to place LUCY in an on-premise installation? You can place LUCY in the intranet or within a secured zone (DMZ). If you want to allow external users (e.g. mobile users with smartphones) to access LUCY's websites (attack simulations or e-learning), an installation in the intranet is not recommended for security reasons. The web server would be directly accessible from the Internet. In case of a vulnerability in the system or application, an attacker would have direct access to the intranet via the LUCY server. In such a case you should install LUCY in a separate zone. In that case you could consider using one LUCY instance only as a reverse proxy in that zone, and install the main application within the intranet as a \"master instance\". This configuration is described [here](/doku.php?id=setting_up_a_lucy_master_slave). On premise installation technical checklist Please consult [this chapter](/doku.php?id=installation_checklist). network_design_-_where_to_setup_lucy.txt · Last modified: 2019/10/14 15:45 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 5,
      "source": "https://wiki.thrivedx.com/doku.php?id=installation_checklist",
      "content": "installation_checklist [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • installation_checklist Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 installation_checklist Installation technical procedure Where to place LUCY? You can setup LUCY on premise or in the cloud. See more in [this article](/doku.php?id=network_design_-_where_to_setup_lucy). If you use LUCY in the cloud, you can have a [VPS or dedicated system from us for free](/doku.php?id=advantage_of_using_our_vps). Prepare Hardware Please make sure you have the hardware ready with sufficient disk space (>100 GB) and memory (>4 GB). More details here: [https://wiki.lucysecurity.com/doku.php?id=hardware](https://wiki.lucysecurity.com/doku.php?id=hardware). Download Software If you have decided to do an on premise installation you will first need to download LUCY from our webpage. Please choose one of our installers or images: Virtual Box: [http://download.phishing-server.com/dl/lucy-latest/virtualbox.zip](http://download.phishing-server.com/dl/lucy-latest/virtualbox.zip) Linux Installer: [http://download.phishing-server.com/dl/lucy-latest/install.sh](http://download.phishing-server.com/dl/lucy-latest/install.sh) ESX/ESXi: [http://download.phishing-server.com/dl/lucy-latest/esxi.ova](http://download.phishing-server.com/dl/lucy-latest/esxi.ova) Vmware Image: [http://download.phishing-server.com/dl/lucy-latest/vmware.zip](http://download.phishing-server.com/dl/lucy-latest/vmware.zip) Amazon: [http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=installing_lucy_in_amazon](http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=installing_lucy_in_amazon) If you require a different format (e.g. ovf), search for the according converter (e.g. search for \"convert ova to ovf\"). All downloads are automatically treated as a community edition. Installation Once downloaded, please install LUCY according to the download type: [Installing LUCY on LINUX](/doku.php?id=installing_lucy_on_linux) [Installing LUCY in Virtualbox](/doku.php?id=installing_lucy_in_virtualbox) [Installing LUCY in Vmware](/doku.php?id=installing_lucy_in_vmware) [Installing LUCY in Amazon](/doku.php?id=installing_lucy_in_amazon) [Installing LUCY on Windows](/doku.php?id=installing_lucy_on_windows) [Converting LUCY from VMware ESX to Hyper-V](/doku.php?id=converting_vmware_to_hyperv) As soon as the installation is finished, the [automatic setup script](/doku.php?id=setup_script_tutorial) should start. ![97.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=08dd35&media=97.jpg) Permit access Make sure that the [necessary ports](/doku.php?id=network_communication_-_lucy_--_internet) from and to LUCY are opened. Login [Login](/doku.php?id=lucy_weblogin) to LUCY with the Webbrowser using the IP address of your server. Continue the setup in the browser using the credentials provided in the setup script. If you want to use a domain for your administration UI, Connect to your LUCY instance with the root or phishing account. If you connect as root, please execute the command python /opt/phishing/current/tools/setup/setup.py (if you have a docker based installation, execute: docker exec -it lucy /bin/bash and then press enter and execute python /opt/phishing/current/tools/setup/setup.py). Within the setup script menu please choose menu item \"domain configuration\" and set the domain for your admin UI here. Download License: Please send us the workstation ID ([http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=how_to_activate_lucy&s[]=#where_to_find_the_workstation_id](http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=how_to_activate_lucy&s[]=#where_to_find_the_workstation_id)). Mail setup Define your [default mail delivery method](/doku.php?id=mail_delivery_methods_in_lucy) in LUCY. In case you use the build in mail server: set the [hostname](/doku.php?id=set_hostname_for_smtp_communication) for the mail server. Domain Setup Setup a [domain](/doku.php?id=domain_configuration) in LUCY. This domain can be used for phishing simulations (landing pages) or the elearning portal. SSL Setup Create a [trusted certificate](/doku.php?id=ssl_configuration) for the administration of LUCY. User management (administrators) Create all the required administrators [users](/doku.php?id=user_management) in LUCY. Updating [Download](/doku.php?id=download_templates) all of the latest templates. [Update](/doku.php?id=update_lucy) LUCY to the latest version Hardening Consider implementing additional [security layers](/doku.php?id=security_considerations) Advanced Settings Set the time zone, proxy and other [advanced settings](/doku.php?id=advanced_settings) White Label Give LUCY a [custom branding](/doku.php?id=white_label_lucy_-_custom_branding) LDAP/SSO In case you want to [import your recipients](/doku.php?id=add_mail_recipients) via [LDAP](/doku.php?id=ldap_integration) or allow them authenticate via [SSO](/doku.php?id=sso_authentication), you can configure this is LUCY in the according menus. Test campaign Once you are all set you can try to setup your first campaign [using the setup wizard.](/doku.php?id=create_your_first_phishing_campaign) As an alternative use the [expert setup mode](/doku.php?id=expert_mode_campaign_creation). If emails don't get through: please white list LUCY or [prevent issues with the spam filter ](/doku.php?id=avoid_spam_issues) installation_checklist.txt · Last modified: 2020/08/20 11:22 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 6,
      "source": "https://wiki.thrivedx.com/doku.php?id=download_software",
      "content": "download_software [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • download_software Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 download_software Download Lucy America Region Linux install script (install.sh) - [download](https://us.download.phishing-server.com/dl/lucy-latest/install.sh) VM VirtualBox - [download](http://us.download.phishing-server.com/dl/lucy-latest/virtualbox.zip) VMware (Workstation Player) - [download](http://us.download.phishing-server.com/dl/lucy-latest/vmware.zip) VMware ESXi (ova-file) - [download](http://us.download.phishing-server.com/dl/lucy-latest/esxi.ova) Global Linux install script (install.sh) - [download](https://download.phishing-server.com/dl/lucy-latest/install.sh) VM VirtualBox - [download](https://download.phishing-server.com/dl/lucy-latest/virtualbox.zip) VMware (Workstation Player) - [download](https://download.phishing-server.com/dl/lucy-latest/vmware.zip) VMware ESXi (ova-file) - [download](https://download.phishing-server.com/dl/lucy-latest/esxi.ova) VMware ESXi (ovf-file) - [download](https://download.phishing-server.com/dl/lucy-latest/esxi_ovf.zip) (temporarily non-available) Instructions [Installing LUCY on LINUX](/doku.php?id=installing_lucy_on_linux) [Installing LUCY in Virtualbox](/doku.php?id=installing_lucy_in_virtualbox) [Installing LUCY in Vmware](/doku.php?id=installing_lucy_in_vmware) [Installing LUCY in Amazon](/doku.php?id=installing_lucy_in_amazon) [Installing LUCY in Azure](/doku.php?id=installing_lucy_in_azure) [Installing LUCY on Windows](/doku.php?id=installing_lucy_on_windows) [Converting LUCY from VMware ESX to Hyper-V](/doku.php?id=converting_vmware_to_hyperv) download_software.txt · Last modified: 2022/08/24 09:25 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 7,
      "source": "https://wiki.thrivedx.com/doku.php?id=installing_lucy_on_linux",
      "content": "installing_lucy_on_linux [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • installing_lucy_on_linux Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 installing_lucy_on_linux Install LUCY using the Linux install script (install.sh) How much time is required? The installation is very simple and straight forwarded. After downloading and executing the installer script everything will run automatically in the background. Depending on your internet connection speed an installation can take 30-60 minutes. Which OS is required for the default docker installation of LUCY? LUCY supports docker and therefore runs on all known Linux systems ([https://www.docker.com/](https://www.docker.com/)). Docker Engine is supported on Linux, Cloud, Windows, and OS X. Installation instructions are available for the following: On Linux: Arch Linux CentOS CRUX Linux Debian Fedora FrugalWare Gentoo Oracle Linux Red Hat Enterprise Linux openSUSE and SUSE Linux Enterprise Ubuntu The shell script will check if your system has already docker installed. If not, it will guide you through the installation process and install all necessary components automatically. General Preparation Make sure you have openssl installed: You can do this by typing \"apt-get install openssl\" in the terminal. Make sure you use an updated list of repositories: Get the latest list by typing \"apt-get update\" (apt-get update downloads the package lists from the repositories and \"updates\" them to get information on the newest versions of packages). Make sure you have the latest PEM files: Run \"apt-get install ca-certificates\". This package includes PEM files of CA certificates to allow SSL-based applications to check for the authenticity of SSL connection. Make sure you have enough disk space in your temp drive: Free some space by using \"umount /tmp\" in case there is not enough space. In general, the LUCY installation requires at least 100 GB HDD. Other hardware requirements are described [here](/doku.php?id=hardware). Can I run other applications on the same server? It's highly recommended to install LUCY on a separate virtual or physical host (VPS or dedicated server) as LUCY's shell installer is pretty intrusive and may disrupt other custom software packages installed on the host. Make sure no other applications are running on that host which use same ports as LUCY (like a mail server running on 25 or a web server running on port 80). What minimal packages are needed for the installer to work? Make sure you have an updated repository list and the following packages installed: openssl ca-certificates net-tools What are the hardware/Disk requirements? TMP: You will need at least 2 GB Space in the tmp directory. Please unmount your tmp in case you need to free some space there (example: \"umount /tmp\") Other hardware requirements can be found [here](/doku.php?id=hardware) Installation tutorial Important notice: If you use a Red Hat Linux, before running the LUCY installation script, please deploy Docker manually. [This](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html-single/getting_started_with_containers/index#getting_docker_in_rhel_7) article is pretty handy for instances without active subscriptions. 1) First of all, download the file that you are going to execute e.g. \"install.sh\" from our download [location](https://lucysecurity.com/download/) and save it in your directory. If you are using a terminal you first need to enumerate the current download link by pressing F12 in your browser when visiting our download section and then use wget to download the file (example: \"wget [https://download.phishing-server.com/dl/lucy-latest/install.sh](https://download.phishing-server.com/dl/lucy-latest/install.sh)\" 2) Secondly, open the Terminal from Menu \"Accessories \\ Terminal\". 3) Now type cd to the directory where you downloaded the file. 4) Then type chmod +x name_of_file.sh to make your file executable (example \"chmod +x install.sh\"). 5) Now type ./name_of_file.sh to execute the file (Example \"./install.sh\"). If you are able to install LUCY without docker (this is the preferred method for Ubuntu 20.04 only), please use the \"./install.sh legacy\" command. 6) You will be asked if you want to install LUCY (Install LUCY (y/n)?) Please type \"y\" and press enter. During the installation, LUCY will connect to our centralized custom repository to download the necessary packages. 7) As soon as the installation is finished, the [automatic setup script](/doku.php?id=setup_script_tutorial) should start. ![97.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=08dd35&media=97.jpg) 8) [Login](/doku.php?id=lucy_weblogin) to LUCY with the Webbrowser. Continue the setup in the browser using the credentials provided in the setup script. If you want to install a commercial version, please provide us with the [workstation ID](/doku.php?id=how_to_activate_lucy). 9) Define your [default mail delivery method](/doku.php?id=mail_delivery_methods_in_lucy) in LUCY. In case you use the build in mail server: set the [hostname](/doku.php?id=set_hostname_for_smtp_communication) for the mail server. 10) Setup a [domain](/doku.php?id=domain_configuration) in LUCY. This domain can be used for phishing simulations (landing pages) or the elearning portal. 11) Create a [trusted certificate](/doku.php?id=ssl_configuration) for the administration of LUCY. 12) Create all the required administrators [users](/doku.php?id=user_management) in LUCY. 13) [Download](/doku.php?id=download_templates) all the latest templates 14) [Update](/doku.php?id=update_lucy) LUCY to the latest version 15) Consider implementing additional [security layers](/doku.php?id=security_considerations) 16) Give LUCY a [custom branding](/doku.php?id=white_label_lucy_-_custom_branding) 17) Once you are all set you can try to [setup your first campaign](/doku.php?id=create_your_first_phishing_campaign). If you experience issues with mail delivery (e.g. SPAM filtering), check out [this](/doku.php?id=avoid_spam_issues) chapter. If your test emails do not arrive at all, please consult [this](/doku.php?id=mail_communication_issues:e-mails_do_not_arrive) article. Start the installation script manually after a successful installation Execute the command python /opt/phishing/current/tools/setup/setup.py or in LUCY > 2.8: docker exec -it lucy /bin/bash python /opt/phishing/current/tools/setup/setup.py Installation problem? Contact our support In case you are planning to purchase LUCY or you are already a commercial client you can contact support@lucysecurity.com to open a ticket. We will get in touch with you within 24 hours. Uninstall LUCY If you want to remove LUCY you first need to get a list of all packages installed using the command (which displays installed packages in historical order, and then purges the last packages): awk '/^Selecting/ {gsub(/\\./,\"\"); print $5}' /var/log/apt/term.log That list will enable you to remove the according packages. This method works for legacy installation method only. For Docker-based installation you simply need to stop the container and remove it: docker stop lucy docker ps -a docker container rm <CONTAINER ID> Frequently asked questions (FAQ) Which components are installed with the installer script? What modifications are made to Linux OS by the installer? When Lucy is installed as a docker image, it gets downloaded from [https://hub.docker.com](https://hub.docker.com) (you can search for Lucysecurity there) to internal docker storage that is managed by docker itself – as any other usual docker image. Usually it’s /var/lib/docker/. After that the installer launches the image with specific parameters, extracts a management script (that launches Lucy’s console setup tool) to /tmp/files, moves it to /usr/bin/lucy-setup.sh and removes the /tmp/files folder. These are all changes that the docker-based installer does, all other software and files are within the container. When installing Lucy in a \"legacy\" way (which is possible only for Ubuntu 20.04, as the installer requires some Ubuntu-specific packages and software versions), the installer adds around 500 new packages, does very deep system changes, including configuring the login shell, changing other services (postfix, apache, etc). In case if you use Red Hat, please look at the important notice in the Installation tutorial section. What if I ran the install.sh on Red Hat without manually installing Docker? Our installation script actually does not deploy Docker itself. It pulls Docker Installation script from [https://get.docker.com/](https://get.docker.com/). For some reason, Docker installation script adds a repo which is not operational. To remove the repo, simply run the command below: yum-config-manager –disable docker-ce-stable The installer checks if docker is installed and installs it from the official docker website. Are there any downsides of having docker engine pre-installed? No, pre-installed docker engine is just fine and will work completely the same. Just make sure it will be updated on time. Who patches the Docker Runtime and host Linux system when security vulnerabilities become known? When using a Docker-based installation, the Docker engine and all packages on the host are managed by the host package management system – be it RHEL package management or Debian/Ubuntu APT. Lucy’s docker container has no access to outer system and therefore cannot install any updates there. When using a \"legacy\" installation, all software packages are updated along with Lucy updates using Lucy's Ubuntu mirrors. How does Lucy update when it’s running in Docker? After installing a Docker container with Lucy, Docker's container system is not involved anymore - all updates are performed within the container using container's APT system with our custom package mirror. Is the docker-image included in the installer payload or is the docker-image loaded via docker pull? Lucy's docker-image gets downloaded from [https://hub.docker.com](https://hub.docker.com) (official Docker Hub) during installation. When configuring proxy in Lucy, what software is affected? In case of Docker installation, only software inside the container is affected. There are no consequences for the software on the host system. When using a legacy installer, the proxy configured will be used as a default proxy for the whole Linux system. How do you back up Lucy? Speaking of Docker container installation, the backup is seamless and is a piece of cake. First of all you \"commit\" the container, making a static image of it with all files, changes, etc: docker commit lucy lucy-backup After that you: either save it as a tar file: docker save -o /path/to/lucy-backup.tar lucy-backup or export it to your private docker registry: docker push lucy-backup The backup image can be recovered easily from file by docker load -I /path/to/lucy-backup.tar (in case of local file) or docker pull lucy-backup (in case of private docker registry) After that you can start your container as a regular docker container with this command: docker run –privileged -v /proc/sysrq-trigger:/sysrq -d -p 80:80 -p 443:443 -p 25:25 -p 5001:5001 –name lucy –restart=always lucy-backup /bin/bash /etc/run-services.sh Things get a bit more difficult in case of \"legacy\" installation - you should back up multiple directories, where configurations and files are stored: /opt/phishing /etc/ /var/lib installing_lucy_on_linux.txt · Last modified: 2022/06/22 12:37 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 8,
      "source": "https://wiki.thrivedx.com/doku.php?id=installing_lucy_in_virtualbox",
      "content": "installing_lucy_in_virtualbox [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • installing_lucy_in_virtualbox Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 installing_lucy_in_virtualbox Setup tutorial for virtual box 1) Download the latest free version of Virtual box here: [https://www.virtualbox.org/](https://www.virtualbox.org/). 2) Extract the contents of the ZIP file you downloaded from our page (e.g. [https://download.phishing-server.com/dl/lucy-latest/virtualbox.zip](https://download.phishing-server.com/dl/lucy-latest/virtualbox.zip)). 3) Open the ovf file by clicking “Import appliance”. Make sure your virtual server has at least 4 GB RAM and 100 GB HDD available. ![1.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5ab86d&media=1.jpg) 4) Click “Import”. ![2.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ff2a3a&media=2.jpg) 5) Set the Network adapter to “bridged”. ![3.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=722469&media=3.jpg) 6) Click “Start”. ![4.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c20602&media=4.jpg) 7) Start the Virtual Box image and initiate the [installation script](/doku.php?id=setup_script_tutorial). If you already have a domain name for LUCY, please make sure that you specify it within the setup script as the certificate for the administration will be based on that domain name. 8) [Login](/doku.php?id=lucy_weblogin) to LUCY with a Webbrowser. Continue the setup in the browser using the credentials provided in the setup script. If you want to install a commercial version, please provide us with the [workstation ID](/doku.php?id=how_to_activate_lucy). 9) Define your [default mail delivery method](/doku.php?id=mail_delivery_methods_in_lucy) in LUCY. In case you use the build in mail server: set the [hostname](/doku.php?id=set_hostname_for_smtp_communication) for the mail server. 10) Setup a [domain](/doku.php?id=domain_configuration) in LUCY. This domain can be used for phishing simulations (landing pages) or the e-learning portal. 11) Create a [trusted certificate](/doku.php?id=ssl_configuration) for the administration of LUCY. 12) Create all required administrators [users](/doku.php?id=user_management) in LUCY. 13) [Download](/doku.php?id=download_templates) all of the latest templates 14) [Update](/doku.php?id=update_lucy) LUCY to the latest version 15) Consider implementing additional [security layers](/doku.php?id=security_considerations) 16) Give LUCY a [custom branding](/doku.php?id=white_label_lucy_-_custom_branding) 17) Once you are all set you can try to [setup your first campaign](/doku.php?id=create_your_first_phishing_campaign). If you experience issues with mail delivery (e.g. SPAM filtering), look through [this](/doku.php?id=avoid_spam_issues) chapter. If your test emails do not arrive at all, please consult [this](/doku.php?id=mail_communication_issues:e-mails_do_not_arrive) article. Installation problem? Contact our support In case you are planning to purchase LUCY or you are already a commercial client you can contact support@lucysecurity.com to open a ticket. We will get in touch with you within 24 hours. installing_lucy_in_virtualbox.txt · Last modified: 2021/11/08 20:21 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 9,
      "source": "https://wiki.thrivedx.com/doku.php?id=installing_lucy_in_vmware",
      "content": "installing_lucy_in_vmware [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • installing_lucy_in_vmware Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 installing_lucy_in_vmware Download We offer two types of Vmware downloads: ESX/ESXi: OVA: [https://download.phishing-server.com/dl/lucy-latest/esxi.ova](https://download.phishing-server.com/dl/lucy-latest/esxi.ova) OVF: [https://download.phishing-server.com/dl/lucy-latest/esxi_ovf.zip](https://download.phishing-server.com/dl/lucy-latest/esxi_ovf.zip) Vmware Image ([https://download.phishing-server.com/dl/lucy-latest/vmware.zip](https://download.phishing-server.com/dl/lucy-latest/vmware.zip)) This can be used in the following products: Vmware Player Vmware Workstation Vmware Esx Notes: The Vmware Image cannot be used in Vmware ESX. If you only have access to the Vmware Image file you may need to convert it. To export a Workstation virtual machine to ESX/ESXi, it must be converted using the free VMware vCenter Converter Standalone application. The converter can be downloaded here: [https://www.vmware.com/products/converter.html](https://www.vmware.com/products/converter.html) ESXi version should be 6.5 or later Example: Setup LUCY in VMware Player STEP 1: Download and install the free VMware Workstation Player here: [https://my.vmware.com/web/vmware/free](https://my.vmware.com/web/vmware/free) STEP 2: Download the latest version of Lucy (see above) STEP 3: Extract the contents of the ZIP file. STEP 4: In VMware Player go to the menu “File / Open” and select the phishing.vmx file. ![vmware_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=95d62e&media=vmware_1.png) STEP 5: Next click on “Edit Virtual Machine Settings”. ![vmware_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a2f90e&media=vmware_2.png) Please allocate at least 4 GB RAM and set the Network in \"bridged“ mode. For detailed hardware requirements, please visit [this chapter](/doku.php?id=hardware). ![vmware_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5375d5&media=vmware_3.png) STEP 6: Start the Virtual Machine by pressing \"Play\". ![vmware_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1c5fc5&media=vmware_4.png) STEP 7: Start the Vmware image and initiate the [installation script](/doku.php?id=setup_script_tutorial). If you already have a domain name for LUCY, please make sure that you specify it within the setup script as the certificate for the administration will be based on that domain name. STEP 8: [Login](/doku.php?id=lucy_weblogin) to LUCY with the Webbrowser. Continue the setup in the browser using the credentials provided in the setup script. If you want to install a commercial version, please provide us with the [workstation ID](/doku.php?id=how_to_activate_lucy). STEP 9: Define your [default mail delivery method](/doku.php?id=mail_delivery_methods_in_lucy) in LUCY. In case you use the build in mail server: set the [hostname](/doku.php?id=set_hostname_for_smtp_communication) for the mail server. STEP 10: Setup a [domain](/doku.php?id=domain_configuration) in LUCY. This domain can be used for phishing simulations (landing pages) or the elearning portal. STEP 11: Create a [trusted certificate](/doku.php?id=ssl_configuration) for the administration of LUCY. STEP 12: Create all the required administrators [users](/doku.php?id=user_management) in LUCY. STEP 13: [Download](/doku.php?id=download_templates) all of the latest templates STEP 14: [Update](/doku.php?id=update_lucy) LUCY to the latest version STEP 15: Consider implementing additional [security layers](/doku.php?id=security_considerations) STEP 16: Give LUCY a [custom branding](/doku.php?id=white_label_lucy_-_custom_branding) STEP 17: Once you are all set you can try to [setup your first campaign](/doku.php?id=create_your_first_phishing_campaign) Example: Run LUCY in Vmware ESXi (Sphere) The configuration is very simple. Opposite to VMware Workstation or Player ESXi does not know a \"bridged Mode\" to physically connect the image to an adapter. So the only difference here is that you need to configure a virtual switch in order to connect LUCY directly to the NIC. Installation problem? Contact our support In case you are planning to purchase LUCY or you are already a commercial client you can contact support@lucysecurity.com to open a ticket. We will get in touch with you within 24 hours. installing_lucy_in_vmware.txt · Last modified: 2020/12/18 15:50 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 10,
      "source": "https://wiki.thrivedx.com/doku.php?id=installing_lucy_in_amazon",
      "content": "installing_lucy_in_amazon [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • installing_lucy_in_amazon Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 installing_lucy_in_amazon PREPARATION Instance Type: The LUCY AMI requires at least 2 GB RAM for 1000 recipients or less, 4 GB RAM for 5000 recipients or less and 8 GB RAM for 10'000 recipients or less. The minimal HDD is 100 GB (recommended is 300 GB). Please find your instance type here: [https://aws.amazon.com/ec2/instance-types/](https://aws.amazon.com/ec2/instance-types/) VPS Configuration: You need to enable “enableDnsHostnames” in your VPC configuration in Amazon: [http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-dns.html#vpc-dns-updating](http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-dns.html#vpc-dns-updating). Otherwise you will experience an apache configuration failure due to a missing IP address in /etc/hosts. If you start new instances you need to check your VPC configuration in [https://console.aws.amazon.com/vpc/home](https://console.aws.amazon.com/vpc/home) to verify that this setting is enabled. ![vpc.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=59cc4a&media=vpc.png) SETUP TUTORIAL STEP 1: Download the AMI Image: The AMI is available publicly via your Amazon account (use Ireland). In the AWS Management Console, open the EC2 Dashboard. To choose an Amazon Machine Image (AMI), select the Community AMIs tab on the left hand side of the screen and search by name \"lucy\" (see the screenshot). ![comunity.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c728f0&media=comunity.png) STEP 2: Launch the instance: ![launch.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5482fd&media=launch.png) STEP 3: Choose an Instance Type: there are many instance types available. Please scroll down to see them all. t2.medium matches with minimal hardware requirements. However, if you are not planning to have more than 1000 recipients, t2.small will do as well. ![4gb.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0ee6cc&media=4gb.png) STEP 4: Review Instance, Set Security group and launch: Click on \"edit security group\" ![review_aws.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5f9d31&media=review_aws.png) Make sure you have a security group associated with the instance that allows inbound SSH, HTTP, HTTPS & SMTP. ![aws9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0f6233&media=aws9.png) STEP 5: Create a key pair to connect: Create a new public/private key pair for the SSH authentication and click \"Download Key Pair\". ![select_existing_pair_of_keys.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=573eeb&media=select_existing_pair_of_keys.png) Note: If you are connecting from a windows host you need to convert the PEM file first. You could use PuTTY with a private key to connect to your Amazon EC2 Linux instance. To do so go through the following steps described in this guide: [http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html) STEP 6: Connect to LUCY via the public IP: After you have launched an EC2 instance, you can connect to LUCY’s public IP through SSH in order to configure the System. The public IP is visible as described in the screenshot below. ![public_ip_aws.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e0e9cc&media=public_ip_aws.png) STEP 7: login as admin: After the login type \"sudo su\" and press enter ![aws8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b4c1a0&media=aws8.png) STEP 8: Start the image and initiate the [installation script](/doku.php?id=setup_script_tutorial). If you already have a domain name for LUCY, please make sure that you specify it within the setup script as the certificate for the administration will be based on that domain name. STEP 9: [Login](/doku.php?id=lucy_weblogin) to LUCY with a Webbrowser. Continue the setup in the browser using the credentials provided in the setup script. If you want to install a commercial version, please provide us with the [workstation ID](/doku.php?id=how_to_activate_lucy). STEP 10: Define your [default mail delivery method](/doku.php?id=mail_delivery_methods_in_lucy) in LUCY. In case you use the build in mail server: set the [hostname](/doku.php?id=set_hostname_for_smtp_communication) for the mail server. STEP 11: Setup a [domain](/doku.php?id=domain_configuration) in LUCY. This domain can be used for phishing simulations (landing pages) or the e-learning portal. STEP 12: Create a [trusted certificate](/doku.php?id=ssl_configuration) for the administration of LUCY. STEP 13: Create all the required administrators [users](/doku.php?id=user_management) in LUCY. STEP 14: [Download](/doku.php?id=download_templates) all of the latest templates STEP 15: [Update](/doku.php?id=update_lucy) LUCY to the latest version STEP 16: Consider implementing additional [security layers](/doku.php?id=security_considerations) STEP 17: Give LUCY a [custom branding](/doku.php?id=white_label_lucy_-_custom_branding) STEP 18: Once you are all set you can try to [setup your first campaign](/doku.php?id=create_your_first_phishing_campaign) Installation problem? Contact our support In case you are planning to purchase LUCY or you are already a commercial client you can contact support@lucysecurity.com to open a ticket. We will get in touch with you within 24 hours. Problems with sending mails within Amazon's environment In EC2 environments we have clients reporting that there is a limitation in the amount of outbound SMTP traffic. The limit is 200 mails a day and 1 email per second. More details here: [http://docs.aws.amazon.com/ses/latest/DeveloperGuide/limits.html](http://docs.aws.amazon.com/ses/latest/DeveloperGuide/limits.html) Also, AWS does not support phishing simulations through SES as this is risky for Amazon public IP to get blacklisted. To avoid the limit and send not more than 200 mails per day, please use the [Scheduler](/doku.php?id=scheduler) which helps to distribute the sending messages over a longer period of time. installing_lucy_in_amazon.txt · Last modified: 2020/10/14 10:31 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 11,
      "source": "https://wiki.thrivedx.com/doku.php?id=installing_lucy_in_azure",
      "content": "installing_lucy_in_azure [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • installing_lucy_in_azure Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 installing_lucy_in_azure General help page about Linux Virtual Machines in Azure: [https://docs.microsoft.com/en-us/azure/virtual-machines/linux/](https://docs.microsoft.com/en-us/azure/virtual-machines/linux/) There are two ways to install Lucy in Azure: Use a default Debian 9 \"Stretch\" image available in Azure marketplace (recommended and fastest). Use a custom image made by Lucy and based on Debian 9 \"Stretch\". Recommended method (using a default image) Step 1. Creating a new virtual machine On the Home page of your Azure portal click the \"Virtual Machines\" icon: ![azure:1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=811d8e&media=azure:1.png) Press the \"Add\" button: ![azure:2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b80b7f&media=azure:2.png) Configure new virtual machine. Key parameters is as follow: Image: Debian 9 \"Stretch\" Size: at least 2 vcpus and 4 GiB memory Public Inbound Ports: Allow SSH, HTTP and HTTPS ![azure:3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=51f1fe&media=azure:3.png) ![azure_os_image.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=334fe1&media=azure_os_image.png) ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Attention. Do not use an image with backports kernel. Fill other required fields and press \"Review + Create\" button. Wait until the virtual machine is completed (this may take several minutes). Step 2. Installing Lucy Please refer to this guide for more information: [https://wiki.lucysecurity.com/doku.php?id=installing_lucy_on_linux](https://wiki.lucysecurity.com/doku.php?id=installing_lucy_on_linux) Connect to the server using SSH client (eg. Putty) and login as sudo: ![azure:4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=6718f5&media=azure:4.png) Install system updates: apt-get update && apt-get upgrade -y Change the current directory to /srv and download the installation script “install.sh” from our download location: cd /srv wget [http://download.phishing-server.com/dl/lucy-latest/install.sh](http://download.phishing-server.com/dl/lucy-latest/install.sh) Create a directory to avoid the error during the installation: mkdir -p /usr/lib/php/20160303 Execute installation script: bash install.sh legacy You will be asked if you want to install LUCY (Install LUCY (y/n)?). Please type “y” and press enter. When the installation will be finished, the system will ask you to configure Lucy automatically (Use automatic configuration? Y or N (Y)). Please type “y” and press enter. You will be provided with access to the Admin Web Console: ![azure:5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=a2128e&media=azure:5.png) Alternative method (using a custom image) This method requires to upload a ready-made Debian 9 operating system image to Azure. It can be done different ways: through Azure PowerSheel and AzCopy tool or GUI using Azure Storage Explorer. We'd prefer using a GUI. Step 1. Prerequisites Download VHD file (30 Gb): [https://download.phishing-server.com/dl/images/lucy.vhd](https://download.phishing-server.com/dl/images/lucy.vhd) Install the latest version of [Azure Storage Explorer](https://azure.microsoft.com/features/storage-explorer) Step 2. Upload VHD file to Azure In the Azure Portal, select Storage Accounts. Select the storage account where the VHD file will be uploaded to (if you do not have a storage account, click Add to create one). Note that the selected location will dictate where the image can be created and subsequently deployed to Under Blob service, select Containers. Click Add Container to create a new container. Launch Azure Storage Explorer and click the plug-in icon on the left. Select Add an Azure Account, and then click Next. In the Azure Sign in dialog box, enter your Azure credentials. Select your subscription from the list and then click Apply. On the left pane, expand Storage Accounts and select the resource group that you want to upload the VHD file to. Under Blob Container, select the container you created in one of the previous step. Select Upload. In Upload VHD specify your source VHD, Blob type - select Page Blob. The status of the upload will now display in Activities. If the upload has finished and you don't see the VHD file in the right pane, select Refresh. Please find more details on [this](https://docs.microsoft.com/en-us/azure/virtual-machines/disks-use-storage-explorer-managed-disks) page. Step 3. Create an image Go to the [Azure portal](https://portal.azure.com), on the left menu, select All services. In the All services search box, enter images and then select Images to display the list of available images. For Name, enter a name that you would like to use for the image (e.g. Lucy). For Resource group, select a resource group to use from the drop-down list (use the same resource group where your Storage Account created). For OS type, select Linux. For VM generation, select Gen 1. For Storage blob, select the VHD file. For Storage type, select what you decide to use (in most cases Standard HDD would be enough). Find more [here](http://go.microsoft.com/fwlink/?LinkId=2077396). For Data disk, add at least 100 Gb disk since the OS disk has only 30 Gb space without ability to expand it. The Data Disk will be used later to install Lucy on it. Select Create to create the image. Step 4. Create a VM Go to the [Azure portal](https://portal.azure.com) Type virtual machines in the search, under Services, select Virtual machines. In the Virtual machines page, select Add. In the Basics tab, under Project details, make sure the correct subscription is selected and then choose a resource group. Under Instance details, type Lucy for the Virtual machine name (or any name you want) and choose a Region. For Image, select Browse all public and private images, under My Items tab, choose Lucy. For Size, select at least Standard_B2s (2 CPUs, 4 GB memory). Under Authentication type, select SSH public key, use a default azureuser or enter your own name and SSH public key. Under Inbound port rules, choose Allow selected ports and then select SSH (22), HTTP (80) and HTTPS (443) from the drop-down. Leave the remaining defaults and then select the Review + create button at the bottom of the page. Step 5. Mount Data Disk Connect to virtual machine via SSH using [PuTTY](http://go.microsoft.com/fwlink/?LinkId=2116707) or [any client](http://go.microsoft.com/fwlink/?LinkId=2116708). Once connected to your VM, you need to find the disk. In this example, we are using lsblk to list the disks. lsblk -o NAME,HCTL,SIZE,MOUNTPOINT | grep -i \"sd\" Here, sdc is the disk that we want. If you aren't sure which disk it is based on size alone, you can go to the VM page in the portal, select Disks, and check the LUN number for the disk under Data disks. Format the disk with parted, if the disk size is 2 tebibytes (TiB) or larger then you must use GPT partitioning, if it is under 2TiB, then you can use either MBR or GPT partitioning. sudo apt-get install -y parted xfsprogs sudo parted /dev/sdc --script mklabel gpt mkpart xfspart xfs 0% 100% sudo mkfs.xfs /dev/sdc1 sudo partprobe /dev/sdc1 Mount the disk sudo mount /dev/sdc1 /opt Persist the mount sudo blkid Next, open the /etc/fstab file in a text editor as follows: sudo nano /etc/fstab In this example, use the UUID value for the /dev/sdc1 device that was created in the previous steps, and the mountpoint of /opt. Add the following line to the end of the /etc/fstab file: UUID=33333333-3b3b-3c3c-3d3d-3e3e3e3e3e3e /opt ext4 defaults,nofail 1 2 In this example, we are using the nano editor, so when you are done editing the file, use Ctrl+O to write the file and Ctrl+X to exit the editor. Please find more details on how to add disk to Linux on [this](https://docs.microsoft.com/en-us/azure/virtual-machines/linux/add-disk) page. Step 6. Install Lucy Please refer to [this](/doku.php?id=installing_lucy_on_linux) guide for more information. Download installation script cd /srv wget https://download.phishing-server.com/dl/lucy-latest/install.sh Run the script bash install.sh legacy Follow the instructions on the screen. Installation problem? Contact our support In case you are planning to purchase LUCY or you are already a commercial client you can contact support@lucysecurity.com to open a ticket. We will get in touch with you within 24 hours. installing_lucy_in_azure.txt · Last modified: 2021/11/04 09:31 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 12,
      "source": "https://wiki.thrivedx.com/doku.php?id=installing_lucy_on_windows",
      "content": "installing_lucy_on_windows [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • installing_lucy_on_windows Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 installing_lucy_on_windows Install LUCY on Windows LUCY only supports Linux operating systems. There are several options for installing LUCY on Windows as a virtual machine: [1)](#fn__1) [Docker for Windows](https://docs.docker.com/docker-for-windows/install) [VMware Workstation Player for Windows](/doku.php?id=installing_lucy_in_vmware) [Oracle VM VirtualBox for Windows](/doku.php?id=installing_lucy_in_virtualbox) Note that Docker Desktop for Windows requires the following options to be enabled: [Virtualization](https://docs.docker.com/docker-for-windows/troubleshoot/#virtualization-must-be-enabled) [Hyper-V](https://docs.docker.com/docker-for-windows/troubleshoot/#hyper-v-must-be-enabled) ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Keep in mind that while Hyper-V is installed and enabled you would not be able to run VMware or VirtualBox images. [1)](#fnt__1) Use install.sh command, learn more [here](/doku.php?id=installing_lucy_on_linux). installing_lucy_on_windows.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 13,
      "source": "https://wiki.thrivedx.com/doku.php?id=converting_vmware_to_hyperv",
      "content": "converting_vmware_to_hyperv [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • converting_vmware_to_hyperv Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 converting_vmware_to_hyperv Converting LUCY from VMware ESX to Hyper-V A full guidance can be found on the Microsoft website [here](https://docs.microsoft.com/en-us/system-center/vmm/vm-convert-vmware?view=sc-vmm-1801). The tool is provided by Microsoft and available by the [link](/lib/exe/fetch.php?media=mvmc_setup.msi) The Hyper-V version should be 5.2.0 or later. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Before running the tool, do not forget to power off the Lucy's VM. It's also to be noted that there must be enough disk space on your Hyper-V server (at least larger than the size of the initial VMware virtual drive). Conversion steps 1. Run the application Microsoft Virtual Machine Converter and select a machine type: \"Virtual machine conversion\" ![hyperv_step1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=73b896&media=hyperv_step1.png) 2. Select a migration destination: \"Migrate to Hyper-V\" ![hyperv_step2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0ff8dd&media=hyperv_step2.png) 3. Select a Hyper-V host as the destination for the virtual machine: ![hyperv_step3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7feaf1&media=hyperv_step3.png) 4. Specify a path to store the converted virtual hard disks: ![hyperv_step4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7ff396&media=hyperv_step4.png) 5. Specify the details to connect to an ESX\\ESXi server: ![hyperv_step5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c6e285&media=hyperv_step5.png) 6. Select a virtual machine to convert: ![hyperv_step6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3abe04&media=hyperv_step6.png) 7. Leave the options unchanged and click \"Next\": ![hyperv_step7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0fd79b&media=hyperv_step7.png) 8. Select a location for the converted virtual disks: ![hyperv_step8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=097b48&media=hyperv_step8.png) 9. Review the details and click \"Finish\" to start conversion: ![hyperv_step9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=63be96&media=hyperv_step9.png) 10. Wait until the conversion process is complete. ![hyperv_step10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9c24d1&media=hyperv_step10.png) Finishing After a successful conversion, do not rush to run the newly created virtual machine. You need first create (if not exist) a new External Virtual Switch and assign it to the virtual machine (within Network Adapter settings). See the screenshots below. ![hyper_v_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=43e378&media=hyper_v_1.png) ![hyper_v_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d44684&media=hyper_v_2.png) Connect the external switch to the converted virtual machine: ![hyperv_step11.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=72a061&media=hyperv_step11.png) Power on the virtual machine and reconfigure the network: ![hyperv_step12.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=de9d3b&media=hyperv_step12.png) converting_vmware_to_hyperv.txt · Last modified: 2019/09/10 15:40 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 14,
      "source": "https://wiki.thrivedx.com/doku.php?id=how_to_videos",
      "content": "how_to_videos [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • how_to_videos Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 how_to_videos Introduction INTRO [00_intro.mp4](/lib/exe/fetch.php?cache=&media=00_intro.mp4) 01 Admin Users and Clients [01_admin_users_and_clients.mp4](/lib/exe/fetch.php?cache=&media=01_admin_users_and_clients.mp4) 02 Domain Overview [02_domain_overview.mp4](/lib/exe/fetch.php?cache=&media=02_domain_overview.mp4) 03 Registering a Domain [03_registering_a_domain.mp4](/lib/exe/fetch.php?cache=&media=03_registering_a_domain.mp4) 04 Adding an Already Registered Domain [04_adding_an_already_registered_domain.mp4](/lib/exe/fetch.php?cache=&media=04_adding_an_already_registered_domain.mp4) 05 Creating a Recipient Group and Custom Fields [05_creating_a_recipient_group_and_custom_fields.mp4](/lib/exe/fetch.php?cache=&media=05_creating_a_recipient_group_and_custom_fields.mp4) 06 Uploading a Userlist [06_uploading_a_userlist.mp4](/lib/exe/fetch.php?cache=&media=06_uploading_a_userlist.mp4) 07 LDAP Syncing [07_ldap_syncing.mp4](/lib/exe/fetch.php?cache=&media=07_ldap_syncing.mp4) how_to_videos.txt · Last modified: 2023/01/31 14:33 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 15,
      "source": "https://wiki.thrivedx.com/doku.php?id=setup_script_tutorial",
      "content": "setup_script_tutorial [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • setup_script_tutorial Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 setup_script_tutorial Introduction The setup script is done in python and runs under a special account created for LUCY (not root). It can always be re-started using the command: python /opt/phishing/current/tools/setup/setup.py or if LUCY is running in a Docker container use this command: docker exec -it `docker ps -q` python /opt/phishing/current/tools/setup/setup.py Automatic Setup At the first start Setup Script, you can either let LUCY do all the configuration (select “Y”) or you can manually configure Lucy (select “No”). In case if you choose \"Yes\" LUCY will do the complete setup and won't ask you for further input. Choose \"Yes\" only if you have DHCP (Dynamic IP Address) enabled. At the end of the automatic setup, you will be given a login and password which you will need to authenticate for the web GUI. In case if you forgot to write down the password, you can still go into the manual setup and create a new user and a new password. Manual Setup STEP 1: \"Network Settings\" If you selected “No” in the first menu, you will be asked to configure the network settings (IP address). If you have a DHCP server just choose DHCP. Otherwise, configure your IP address manually. If you selected DHCP it can take a while until the settings are saved since LUCY will also test the connection. ![step1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=db62b0&media=step1.png) Troubleshooting - DHCP fails: If the DHCP fails to obtain an IP address double check that you have enabled BRIDGED mode - especially if you have installed LUCY within a virtualized environment. Also, make sure that no Firewall is blocking access to the DHCP server on your HOST computer and no MAC restrictions are defined on your WLAN/LAN. STEP 2: \"HSM configuration\" The configuration can be done only once during a fresh install. It is not available with Automatic Configuration. ![step2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=30bd39&media=step2.png) [How to configurate HSM Database encryption](/doku.php?id=hsm_db_encryption) STEP 3 \"Domain Configuration\": If you are setting up LUCY for the first time, you will automatically switch to the Domain & User Configuration. LUCY needs a name pointing to the server. It can be anything (like « test.phishing.local » or simply « phishing »). The default name is phish.local. If you hit enter, it will keep this name. Otherwise, provide the DNS name (e.g. a DynDNS name) you have already registered for that IP. ![step3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=95674d&media=step3.png) Troubleshooting - Private vs. Public Domain: If you give LUCY a domain name, which is not registered on the internet, you will only be able to use it on your browser if you create a host file on your PC from where you accessed LUCY. Troubleshooting - Access to the Admin Website: If you want to access the admin interface via an official domain name, which you have registered, make sure that FQDN is also defined in the domain configuration. Otherwise, you will receive a LUCY 404 error page when accessing LUCY via the browser using that domain name. STEP 4: Here,the database of Lucy will be configurated. ![step4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1000&tok=b9673b&media=step4.png) STEP 5: \"User Configuration\" Next, you will be asked to enter a user and a password. This will be needed for the web login. ![step5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1000&tok=eb7849&media=step5.png) STEP 6: \"User Configuration\" Here you get a username and password to enter the command line of your server. Don't forget to save it! ![step66.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e35782&media=step66.png) STEP 7:\"Finish\" Congratulations! You successfully configurated lucy on your server. ![step77.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=063fa1&media=step77.png) STEP 8: The summary of your settings is shown when you have successfully finished the configuration. Press Enter to start the web service with your settings. You don't need to exit the script menu. All remaining configuration is done within the web browser. Troubleshooting In order to test issues with your connectivity, LUCY offers you a few built-in tools. First choose Menu Item 3: \"Network Configuration\". In this Menu, you have Menu Item 3 again (Network Tools) that offers you the possibility to test the basic connectivity to the internet (ping, traceroute, route, etc.). ![troubleshoot1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=f96805&media=troubleshoot1.png) ![troubleshoot2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=daf8aa&media=troubleshoot2.png) ![troubleshoot3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=4ef681&media=troubleshoot3.png) If you have no Network Connectivity, check that you have configured LUCY with the correct Network settings (IP, Gateway, etc). If you are using VMware or any other virtualization software, make sure that you have configured LUCY in Bridged mode. If you see that Network Connectivity is possible, but LUCY is not able to access the internet, it is possible that: a) LUCY is behind Firewall: Check that the Firewall allows LUCY to connect to the internet. b) You are using a Proxy to access the internet: You need to configured LUCY to use a Web proxy and provide LUCY with the necessary authorization (within the WebGUI). Also see: [Proxy Configuration](/doku.php?id=we_use_a_proxy_to_connect_to_the_internet) Hardware Optimization (Postgress) LUCY (after 3.0) allows you to optimize Postgress DB to use the available memory. In order to optimize Postgress please choose the required item on the menu. ![pg.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ffaa52&media=pg.png) setup_script_tutorial.txt · Last modified: 2020/08/07 12:59 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 16,
      "source": "https://wiki.thrivedx.com/doku.php?id=lucy_weblogin",
      "content": "lucy_weblogin [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • lucy_weblogin Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 lucy_weblogin Multi-language UI login If you have successfully completed all of the steps outlined in the setup process, you should now be able to access LUCY by using your browser (via HTTPS) and entering the domain or IP address that you configured during the initial setup. To log in, use the email address and password that were created for you. If you have any issues accessing the platform, please double-check that all setup steps have been completed and that your login credentials are correct as per [Initial Setup](/doku.php?id=setup_script_tutorial). If you are experiencing difficulty logging in with the initial password created during the setup process, please ensure that there are no blank spaces in the login fields. If the issue persists, you may need to manually create a new user and password by re-entering the setup menu. Once you have successfully logged in, it is recommended that you change your password for security reasons. This can be done through the user menu. Additionally, you have the option to create additional users with unique login credentials. ![multi-lang-ui.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7af774&media=multi-lang-ui.png) Password forgotten If you have forgotten your password, you can easily reset it by using the \"Forgot Password\" function located on the login screen. By clicking on this option, a link to set a new password will be sent to the email address associated with your account. This will allow you to access your account again in no time. ![pwd_forgotten.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=740b14&media=pwd_forgotten.png) lucy_weblogin.txt · Last modified: 2023/01/27 14:45 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 17,
      "source": "https://wiki.thrivedx.com/doku.php?id=how_to_activate_lucy",
      "content": "how_to_activate_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • how_to_activate_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 how_to_activate_lucy License Keys Every LUCY installation has a unique, randomized Workstation ID (after downloading LUCY, you will automatically receive a workstation ID in key as soon as you connect to the internet. If you decide to purchase LUCY a license key will be created on a central server that associates that workstation ID with the license key. LUCY just needs to connect one single time via HTTPS to our license server to be activated as a commercial version. Where to find the workstation ID? To locate the workstation ID, please navigate to the top right corner of your profile and select \"License\" from the drop-down menu. The workstation ID will be prominently displayed on the page. ![121-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3416da&media=121-1.png) ![workstationid-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9e9736&media=workstationid-1.png) Where can I see how many messages are sent in LUCY? Under support/license you can identify how many e-mail recipients you used in your current installation: ![license_saved.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=28a4ac&media=license_saved.png) Migration of LUCY keys As the license file is stored on a central server and associated with a unique workstation ID, we cannot simply migrate it to a new workstation ID. If you would like to delete the old installation and create a new one, please email us the new workstation ID, provide your up to date usage by sending us a screenshot of the old license page or tell us the number of recipients tested in previous campaigns. Due to privacy reasons, we do not keep track of your license usage. For previously purchased a user based license transfer, please provide your up to date usage by sending us a screenshot of the old license page or tell us the number of recipients tested in previous campaigns. Purchase of LUCY Lucy can be purchased through the web-based console under support/license or you can place an order. More details [here](/doku.php?id=how_to_purchase_lucy). how_to_activate_lucy.txt · Last modified: 2023/01/27 14:27 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 18,
      "source": "https://wiki.thrivedx.com/doku.php?id=setting_up_a_lucy_master_slave",
      "content": "setting_up_a_lucy_master_slave [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • setting_up_a_lucy_master_slave Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 setting_up_a_lucy_master_slave Introduction If you setup LUCY within your own infrastructure you don't want users from the internet to access the phishing simulation directly within your intranet. If the server gets compromised, the attacker would have an entry point to the internal network: ![setup_lan.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=dd62c4&media=setup_lan.png) A secure design requires that the web service which is accessible from the internet (untrusted network) can be segregated from the internal network (trusted network) and moved to a DMZ. If you do so, please keep in mind that LUCY has different communication channels that depend on the specific use: ![setup_all_in_one.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a28c75&media=setup_all_in_one.png) What is a master/slave? LUCY's master/slave configuration enables the administrator to create such segregation by associating a \"slave\" role to a LUCY instance. Master/Slave: When a proxy mode is enabled, Lucy acts as a reverse proxy and pushes all HTTP/S requests to the \"master\" address, without analyzing the traffic in any way, except the /admin part. You can still access the proxy's admin panel when the proxy is enabled, all other (scenario/static) URLs get forwarded to master. The master is a regular Lucy instance, it just allows proxified requests. So you configure all campaigns on the master, send emails from the master and do nothing on proxy except enabling proxy mode. The master will push all running campaigns to the slave (SSL, virtual hosts, configuration, etc) and get statistics from the slave automatically. When the campaign is stopped, all data is removed from the slave. Reflective Master/Slave: All campaigns & recipients are configured on Master, when launched, the Master pushes everything to the Slave, and pulls the stats from the Slave to the Master. \"Victims (end users)\" access only the Slave. Only running campaigns are published on the Slave, then when a campaign is stopped, it gets wiped from the Slave and stored only on the Master. All mails in such a reflective mode are sent from the slave! ![diagram_mast_sl.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=7d7b2a&media=diagram_mast_sl.png) Please note: There is a caveat with HTTPS - if you generate SSL on master, you have to put it to proxy by hands, as the proxy doesn't automatically interact with master in any way and doesn't exchange information with it. Configuration The Master/Slave configuration can be found under the \"Settings\" menu, specifically within the \"Common Settings\" and \"Web Proxy\" sections. If LUCY is being run as an external proxy within the DMZ (facing the internet), you will need to select the \"proxy\" instance type and provide the domain name of LUCY's master system. This will ensure proper functioning and connectivity: ![master_slave.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=169b19&media=master_slave.png) Please contact our support for further help on this topic (support@lucysecurity.com). Ports and Updates Both master-slave approaches (reverse proxy and DMZ-based) use only HTTPS port (443). A \"recipient\" is an end user. For a proxy, the firewall configuration would be: master should allow connections from slave to port 443 master should allow connections from slave to port 25 (if the SMTP method selected for the incidents reporting) master should allow connections from Lucy admin computers to port 443 slave should allow connections from \"recipients\" to ports 443, 80 master must be able to send emails via port 25 For \"reflective scheme\", the firewall should be configured as follows: slave should allow connections from \"recipients\" to ports 443, 80 slave should allow connections from master to port 443 master should allow connections from Lucy admin computers to port 443 slave must be able to send emails via port 25 Updates: both workstations are updated separately and should have access to [Lucy Update/License Server](/doku.php?id=network_communication_-_lucy_--_internet#outbound_communicationsorted_by_port_ip). Integration with other services Master and Slave End-User portal and all end-users must be configured on the Master since Lucy in Proxy mode forwards all traffic (except Admin console page /admin ) to Master. SSO Settings and LDAP Settings must be applied to the Master server. Mail Server is running on the Master server. In the Proxy mode, SMTP traffic is intercepted by the Slave server and forwarded to the Master server. That means that your domain name used in the sender email address must have an MX record pointed to the Slave server. Incident Plugin Settings is configured on the Master and Slave server in the same way. The slave server forwards (SMTP & HTTP) traffic directly to the Master. Incidents are not saved on the Slave server. Integration with other services Reflective Master and Slave End-User portal and all end users must be configured on the Slave server. In case of the option \"Do not send emails\" you must import all end users to the Slave server manually. But note that the statistics in the End User portal for each recipient will be available while the campaign is running. Once you stop the campaign, the statistics will be stored on the Master server only. Only running campaigns are available on the End User portal. To allow users to see their progress and entire statistics you may give access to the End User portal on the Master server. In case of \"Direct Login\" and\\or \"SSO for Awareness\" options, the SSO Settings and LDAP Settings must be also configured on the Slave server. To access the End User portal for the LDAP-based users on the Slave server you must configure LDAP Settings there. To access Admin Console for LDAP-based and SSO users on the Slave server you must configure LDAP Settings and SSO Settings accordingly. Mail Server is running on the Slave server. SMTP traffic is intercepted by the Slave server only, later the statistics are synchronized with the Master. SMTP Settings must be the same on both, Master and Slave server. Incident Plugin Settings are configured on the Slave server. Incidents are saved on both the Master and Slave server. Slave synchronize each incident with Master. Master and Slave common information Custom admin Port and IP should not limit the communication between the two servers. Adapt should be configured on Master. LUCY Admin users (including End Users) are not replicated between the Master and Slave server. If the option \"Do not send emails\" is enabled for awareness, the end-users will be created automatically on the Slave server when sending an email. Otherwise, all end-users should be imported first on the Slave server. Master and Slave domain info The following is applicable for both type of Web Proxy configuration (Master \\ Proxy configuration and Reflection Master \\ Reflection Slave configuration): SMTP hostname (Mail Settings) must point to the Slave server All domain names used for landing page and sender email must point to the Slave server. Master server may have (or may not have) their own domain name for the Admin Console. Slave server (in case of use of the End User portal) should have a domain name for the Admin Console that point to that server. Troubleshooting Please contact support in case if you have any questions. setting_up_a_lucy_master_slave.txt · Last modified: 2023/01/27 15:19 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 19,
      "source": "https://wiki.thrivedx.com/doku.php?id=set_hostname_for_smtp_communication",
      "content": "set_hostname_for_smtp_communication [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • set_hostname_for_smtp_communication Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 set_hostname_for_smtp_communication Setting Background Info Lucy allows you to set an SMTP server name (that is the server name of LUCY). It must be a FQDN. This is the name of the server that will appear in the SMTP communication after the “helo” or “ehlo” command. This name could be the hostname you defined under domain settings. Let's assume you create a domain example.com and you defined an MX entry called “mail.example.com” then you should add this FQDN in the SMTP server name field for this specific campaign. The hostname MUST match the PTR (reverse DNS for the IP). If you are not sure what your PTR is, you can execute this command in the windows shell: \"ping -a your-ip-address\" (or in Linux \"dig -x your-ip-address\") Where can this be defined? The hostname can be defined within the Settings/Mail Settings: ![mail_ser_1t.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9424ca&media=mail_ser_1t.png) set_hostname_for_smtp_communication.txt · Last modified: 2020/11/11 14:36 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 20,
      "source": "https://wiki.thrivedx.com/doku.php?id=mail_delivery_methods_in_lucy",
      "content": "mail_delivery_methods_in_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • mail_delivery_methods_in_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mail_delivery_methods_in_lucy Introduction LUCY comes with different mail delivery options: Delivery via (built-in) internal mail server (Internal Postfix Server) Delivery via an external mail relay (External SMTP Server) Delivery via pre-paid external mail relay (HTTP Proxy) Delivery via external mail relay (SMTP) using the general settings This chapter concerns the general mail settings which can be set globally for all campaigns. If you might have different delivery methods in campaigns, please define the individual message delivery method within the campaign itself. In LUCY the default delivery method for mails is using the built-in Postfix mail server. As many SPAM filters will block emails coming from a new IP address that has no reputation, the administrator can decide to configure an external mail relay. In LUCY this is done under Settings/Mail settings & Settings/SMTP servers: ![mailrelaysettings.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=489a06&media=mailrelaysettings.png) To use an external SMTP server you will first need to add your mail server by clicking the \"Add mail server\" button: ![addmailserver.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f25c68&media=addmailserver.png) In the second step you need to enter the mail server details: ![addmailserver3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c2c29f&media=addmailserver3.png) After saving the configuration, you can test the connection with the external SMTP server using the tool presented on the same page: enter the Sender and Recipient addresses and press the \"Test\" button. If it is OK, you will see the message \"Success, please see the output\". If something wrong, you will see the message \"Error, please see the output\". In the Console Output you will see a short description of the issue and log of the SMTP session: ![smtp_test.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=965843&media=smtp_test.png) More information regarding the SMTP errors codes you сan find [here](/doku.php?id=smtp_status_codes). Delivery via external mail relay (SMTP) within a campaign Please Note: You can define the mail delivery method on a globally within the settings menu. If you do so, it will overwrite all individual settings in a campaign. The second possibility is to configure the delivery methods within a campaign: ![message_campaign.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c55d36&media=message_campaign.png) Configuration of using a pre-paid, external mail server (via HTTP) In LUCY you can use a pre-paid, external mail server with an excellent reputation as your default communication method. In this model, we use an API to Sendgrid ([https://sendgrid.com/](https://sendgrid.com/)) that allows us to communicate via HTTP to an external mail server to initiate the mail delivery. There are few advantages to this model especially if all other methods of mail delivery fail due to SPAM filtering. You can configure LUCY to use a pre-paid external mail server in two ways: Generic settings for all campaigns: select the HTTP method within \"Settings/mail settings\". ![mail_settings_http.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=49ac43&media=mail_settings_http.png) You will then be presented the option to define the mails sender domain or mail sender name. This setting will overwrite the individual setting within a campaign and ensure that all emails in LUCY are sent using this method: ![external_mail_relay.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c6945c&media=external_mail_relay.png) - Campaign specific delivery method: if you did not specify any generic mail delivery method in \"Settings/mail settings\" you can configure the mail delivery as well in every single campaign under the scenario settings in \"Mail settings\": ![external_mail_relay_ii.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d07788&media=external_mail_relay_ii.png) If you pick \"HTTP\" as your delivery method then you will have only a limited number of domains you can choose as a sender address: ![external_mail_relay_iii.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c66c07&media=external_mail_relay_iii.png) On the recipient side the email might look as follows (depending on the domain you picked): ![external_mail_relay_iv.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8dd5e2&media=external_mail_relay_iv.png) The list of external mail domains will continuously be expanded with each LUCY release. Please note: if a recipient of such an e-mail will press reply, the reply address will be something like \"do-not-reply@example-domain.com\". If he still answers to the mail he will get an error with a non-delivery report. So you won't be able to catch answers to those pre-defined e-mail domains. Pricing:: sending up to 100 emails using the external HTTP mail server is free. Every extra mail will cost 0.1 cents. Please make sure you have enough credits before starting the campaign. Mail Sender Domains for HTTP Proxy: the following mail sender domains are pre-configured sendgrid.net security-information.xyz cloudservice24.xyz delivery365.website web-contest.host file-sharing.host mail-access.site onlineservices.space report365.us cloudaccess.space online-survey.site printservices.press webmail-access.space vpn-access.host online-statistics.site cloud-encryption.host web-login.site secure-login.host Delivery via internal Postfix Server The most frequent email delivery method is using an internal Postfix Server. Servername should match with the FQDN of the LUCY instance. We recommend having a subdomain for mail purposes, as it is shown on the screenshot below. ![internal_postfix.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=b71d6b&media=internal_postfix.png) Troubleshooting [Emails do not arrive](/doku.php?id=mail_communication_issues:e-mails_do_not_arrive) [Emails arrive delayed](/doku.php?id=mail_communication_issues:mails_may_arrive_delayed) [Emails are not send](/doku.php?id=mail_communication_issues_-_mails_do_not_get_send_at_all) [Not all mails are send](/doku.php?id=not_all_mails_are_send_after_a_campaign_is_started) mail_delivery_methods_in_lucy.txt · Last modified: 2022/01/18 21:23 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 21,
      "source": "https://wiki.thrivedx.com/doku.php?id=user_management",
      "content": "user_management [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • user_management Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 user_management Introduction LUCY offers a role-based access control (RBAC), restricting system access to authorized users. The permissions to perform certain operations are assigned to specific roles within the user settings. Members or staff (or other system users) are assigned particular roles, and through that role, assignments acquire the computer permissions to perform particular LUCY functions. Where can you configure the user settings? In LUCY you will find the user settings under Settings > Administrative Users. Press +New User button in order to set up new account. ![admusers1.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=96dd75&media=admusers1.jpg) User Roles in Lucy There are four types of admin accounts in Lucy: Administrator User View Supervisor ![admusers2.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=64993e&media=admusers2.jpg) Please note that there are also End Users accounts in Lucy that come as a part of End User Portal functionality and have no admin rights. This type of accounts is automatically created for the recipients that were assigned to awareness training. More info [here](/doku.php?id=end_user_e-learning_portal) Is there a limitation on how many users can access LUCY? No. You have the ability to create as many LUCY users that can access the web console as you want. What are the different user roles? Administrator An administrative account with full access and the highest priveleges. An administrator is capable of creating and deleting campaigns, managing all the custom data: recipients, clients, templates and etc. Administrator is also able to manage other administrative users' account data. You cannot segregate administrators in a way, that an admin A doesn't see the clients from an admin B. This can only be done in the LUCY SaaS edition. However, content and recipient data can be managed separately with Users type of administrative account. User This user role can be used in order to separate control of Lucy content based on its affiliation with Clients. Users attributed to specific clients and branches (see below) will have access only to content (campaigns, custom templates, recipient groups) attributed to the same clients and branches. Please make sure to disable the user's permission \"Access all Campaigns\" to avoid the users from different clients / branches to access the data of one another. Details on this permission are mentioned in the table below in this article. Branches Starting from the 4.8 version [Branches](/doku.php?id=client_setup#branches) functionality is introduced in Lucy. In order to manage client-related Administrative Users, Lucy allows to create Branches for a [client](/doku.php?id=client_setup) and may represent practically anything - from a tier of management to physical locations, to languages, to organization divisions, to openly defined security levels. In case a client has already predefined branches (under the Settings > Clients > Branches - more [here](/doku.php?id=client_setup#branches)) it is possible to assign them to a user. ![admusers3.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=d7ff3f&media=admusers3.jpg) User permissions This user role can be given individual rights for each LUCY feature. After filling out personal data for User account, one may choose various user permissions - that will define which data User will have access to and which Lucy functionality will be available for that account. Please Note - Clients and Branches attributes access policy. In order to separate control of the data related to particular Clients and Branches users are granted access to the content (templates, recipient groups, campaigns, reports) associated with their Client and Branch attributes. Also, data that is not associated with any client or branch is available for all users despite the Clients and Branches attributes access policy. Some of the User permissions are affected by this policy. Please refer to the table below in order to check whether Clients and Branches attributes access policy affects certain permission. ![admusers4.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=da570f&media=admusers4.jpg) List of permissions and its description Access All CampaignsRight to access campaigns. If you activate this checkbox, the user can access all campaigns, regardless of who created them. This permission overrides Clients and Branches attributes access policy. Create/Delete CampaignsRight to Create or Delete campaigns. The user can create and delete campaigns and later access only the campaigns he created himself. Campaigns of other users are not displayed. Save Campaign As TemplateRight to save a campaign as a template. A campaign template can be used in the setup process when generating new campaigns. Attack TemplatesAccess to the list of Attack Templates. Attack templates are predefined emails or websites which can be used for phishing simulations. Affected by Clients and Branches attributes access policy. Campaign TemplatesAccess to the list of Campaign templates. Affected by Clients and Branches attributes access policy. Awareness TemplatesAccess to the list of Awareness Templates. Awareness templates are used in training campaigns. Affected by Clients and Branches attributes access policy. File TemplatesAccess to the list of File Templates. Affected by Clients and Branches attributes access policy. File Templates are used for [file based attacks](/doku.php?id=create_a_phishing_campaign_with_malware_simulations). Report Templates. Affected by Clients and Branches attributes access policy.Access to the [Report Templates](/doku.php?id=create_campaign_reports) Download TemplatesAccess to the menu of [Templates Downloading](/doku.php?id=download_templates) ClientsAccess to the [Clients](/doku.php?id=client_setup) menu RecipientsAccess to the list of [Recipients](/doku.php?id=add_mail_recipients). Recipients are the users that get attacked or trained. Affected by Clients and Branches attributes access policy. End UsersAccess to the list of [End Users](/doku.php?id=end_user_e-learning_portal) User ManagementAccess to the [User Management](/doku.php?id=user_management) Reputation LevelsAccess to the [Reputation Levels](/doku.php?id=assign_multiple_e-learning_templates_based_on_user_reputation_level) SSH AccessAccess to the [SSH Access](/doku.php?id=remote_ssh_support) menu SSH PasswordRight to reset SSH Password Benchmark SectorsAccess to the [Benchmark Sectors](/doku.php?id=benchmark) LicenseRight to access License menu UpdateRight to [Update](/doku.php?id=update_lucy) LUCY RebootRight to [Reboot](/doku.php?id=reboot_lucy) LUCY DomainsRight to access [Domains menu](/doku.php?id=domain_configuration) Register DomainsRight to register a [domain](/doku.php?id=domain_configuration) Dynamic DNSAccess to Dynamic DNS feature. Automated Response DetectionAccess to the [Automated Responce Detection](/doku.php?id=response_detection) menu SettingsAccess to the [Advanced Settings](/doku.php?id=advanced_settings) including the abillity to customize the [404](/doku.php?id=not_found_pages_404) (not found page) SMS SettingsAn ability to set up Short Message Service (SMS) systems to send out text messages. LUCY has a build-in API that will connect to a centralized LUCY gateway when initializing SMS delivery. Please find more information [here](/doku.php?id=smishing) Performance TestAccess to the [Performance Tests](/doku.php?id=performance_tests) Test emailRight to send a [test email](/doku.php?id=test_mail) Spam TestAccess to the [Spam Test](/doku.php?id=spam_check) System MonitoringAccess to the [System Monitoring](/doku.php?id=system_performance_monitoring) System Status PageAccess to the System Status Page. The status page gives a user access to certain [logs](/doku.php?id=log_files_in_lucy) Incident ManagementAccess to the [Incident Management](/doku.php?id=outlook_plugin_phishing_incidents) Plugin configurationRight to configure Outlook plugin Incident Management ConfigurationRight to configure Incident Management ManualAccess to LUCY manual. This is the WIKI page hosted on th LUCY server ExportsAccess to the [exports](/doku.php?id=export_campaign_data) InvoicesAccess to the [Invoices](/doku.php?id=invoices_and_balance_refill). Invoices can be created inside LUCY as a receipt for purchases like domains, sms credits etc. Send LogsAccess to \"[Send Logs\" menu](/doku.php?id=send_us_logs_through_lucy). Service LogsAccess to the [Service logs](/doku.php?id=log_files_in_lucy) ChangelogAccess to the Changelog Mail ManagerAccess to the [Mail Manager](/doku.php?id=mail_manager) TicketsAccess to the Ticket system Supervisor Maintain the overview with access to the campaign specifications. Communicate directly with the campaign creator (user) to suggest changes and give approval to greenlight the campaign. The supervisor is in the hierarchy above the user. Therefore it is not possible to supervise a system admin. The Supervisor is technically the same as the user account, but you may assign users to the supervisor account and approve/reject their campaigns. Within the settings you can select which users you want to supervise: ![admusers5.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=647850&media=admusers5.jpg) You have the ability to define a supervisor who is able to START/STOP the campaign which was created by a user. To do so add a user to a campaign with all permissions selected, add his supervisor to the same campaign with \"Campaign start/stop\" permission selected. As a result, the supervisor will only be able to go into the campaign and approve or reject the start. View Only Users The View Only User can only see certain statistics of the campaign. This user cannot start/stop a campaign. The user also has no rights in viewing or changing any of the campaign settings. First, you need to create a client name. The client name is always associated with a campaign. Then you can associate that user with the Client and Branch. As a result, the View Only User will only see all the campaigns which belong to that specific client. ![admusers6.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=49ca7b&media=admusers6.jpg) Please make sure you also add the view only user to the specific campaign: ![admusers7.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2d03d1&media=admusers7.jpg) Can I enforce a password policy or strong authentication? Yes. It is possible to adjust the password policy in the advanced settings. Please find more [here](/doku.php?id=password_policies_login_protection_strong_authentication). Can I authenticate administrative users via SSO? Yes. It is possible to use the AD Federation service and authenticate the users automatically. See [chapter SSO.](/doku.php?id=sso_authentication) How to set up a multitenant capable administration To set up a multitenant capable administration, you first need an administrator account. From there you can set up the appropriate users and rights. Here are two use cases and the corresponding configuration: Use case 1: You create a campaign for your customer but want to give your customer access to the statistics within the campaign. It must be ensured that the customer only sees his own data and cannot intervene in the campaign configuration. ![admusers8.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a1fbe7&media=admusers8.jpg) Solution use case 1: You create a view-only account (1) in \"settings/users\" and assign this account to your customer. As soon as you create a campaign, you will be asked to enter the customer of the campaign (2). The customer can be yourself, an organizational unit or a third party. Next, you should add the user to the campaign (3). You can then assign the rights to view the statistics to the user (4). Use case 2: You have a customer who wants to create their own campaigns. However, the customer should only have access to his statistics and not see other customers. ![admusers9.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=94dabe&media=admusers9.jpg) Solution use case 2: You create an account with the status \"user\" in \"settings/users\". Give the user only the right \"Create/delete campaign\" (1). As soon as the customer logs in, he can then create his campaign and see only the data of the campaigns he created himself (regardless of the assignment of the customer). He won't have access to any other menu item (2). However, there are areas where this limited administrator has access to possibly sensitive data of other customers. Examples are custom-created templates that may contain customer-related information. But also all recipient groups created on the system can be seen by this customer when assigning recipients. user_management.txt · Last modified: 2022/10/21 13:22 by editor8 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 22,
      "source": "https://wiki.thrivedx.com/doku.php?id=advanced_settings",
      "content": "advanced_settings [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • advanced_settings Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 advanced_settings Where to find the advanced settings This navigation menu can be found here under \"/Settings/Advanced System Settings/Advanced Settings\" What can you configure in the advanced settings? ![advanced_settings_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2d4719&media=advanced_settings_1.png) ![advanced_settings1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1f553e&media=advanced_settings1.png) In this navigation menu find the possibility to: Save your time zone & time: Please make sure that you have set the correct time zone. This will allow you to get accurate results in your statistics. You should also run the scheduler with the right timing. Proxy: Define & save the details of your own web proxy server (outgoing). This is important to receive updates. Default Editor Type: Choose the default editor type between Code Mirror and Visual Editor. Login policies: Protect your access to LUCY. See [here](/doku.php?id=password_policies_login_protection_strong_authentication). Bruteforce protection: Use security image (CAPTCHA) for the login page to prevent bruteforce attack. 2FA Key: Authy 2FA API key. Please create an account on Authy.com for two-factor authentication. Set Ajax Updating period: define , how often the client browser will refresh the page (e.g. every 5 seconds). Export Data Separator: Select a delimeter to separate data in CSV. Export Double Quotes: Enclose all fields in double quotes to export data. Campaign Approval period: Supervisor must approve a campaign within this period, otherwise the launch will be rejected. SPAM test: Define if you want to use the full blacklist (more than 200 URL's will be checked within the campaign which can take up to 20 minutes). Recipients URLs: Check this to generate short recipient links (maximum 5 alphanumerical sequential characters). Let's Encrypt Autorenew: Enable the checkbox, if you don't want the certificates in LUCY to expire. Disable Campaign Check: Enable the checkbox, if you don't want LUCY to perform any campaign checks when you start a campaign. Send Anonymous Benchmark Data: Enable the checkbox if you want to participate in sending anonymous benchmark data to our server. Don't ask to send Anonymous Benchmark Data: Activate the checkbox if you want to disable messages asking if you want to send data. Anonymous settings: Enable the checkbox, if you want to maintain the anonymity of the campaign results. Use Password-less Login: Allow Users and Endusers to login the system via special links (to generate them please visit Settings→Users→SAML). Anonymize Recipient Attributes: Hide the fields below in Anonymous Campaigns and Scenarios. Use DLP Activation String: Add string which contains victims credits to the end of all email bodies sent by Lucy. System Notification Email: Set the email to be shown for automatic system notification feedback. Factory Reset: Delete all settings/data on your server (including log files). Please keep in mind also your domains will be deleted. advanced_settings.txt · Last modified: 2023/02/01 09:06 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 23,
      "source": "https://wiki.thrivedx.com/doku.php?id=white_label_lucy_-_custom_branding",
      "content": "white_label_lucy_-_custom_branding [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • white_label_lucy_-_custom_branding Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 white_label_lucy_-_custom_branding Introduction LUCY's licensing model includes the possibility to resell the software or use a commercial license to test external companies. Therefore, we offer the possibility to adapt the software’s visual appearance in a few areas: Custom LOGO Custom Copyright Custom Software Name Custom Admin Path Custom Error Pages Custom Client Logins Custom Manual Page/Link Custom Background / Fonts Where can you access the white label features? Please go to settings/white label to start adjusting your software: ![wl-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f1f835&media=wl-1.png) Settings Details ![wl-2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=721abd&media=wl-2.png) (1) Custom software name: the current home directory and software name can be changed in Settings>Whitelabel. ![whtlbl_scrn_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c34b73&media=whtlbl_scrn_1.png) (2) Custom Admim path\": BY default you can reach LUCY admin interface under /admin. You can change that to a different directory like \"/company-x-login\". (3)Custom Manual Page/Link: By default the LUCY admin or view only user will have access to the LUCY WIKI inside the application. If you don't want to expose the WIKI or create your own web based manual with your corporate design, you can go to the advanced settings and define a link to your LUCY manual (example: [http://yourserver.com/manual](http://yourserver.com/manual)). (4) Custom error pages: When doing a phishing simulation users will receive a random link send within a campaign that might look like this: [https://phishing.does-it.net/a5b3/](https://phishing.does-it.net/a5b3/). If a user will enter just the domain name in the browser to see what is running behind that link (e.g. [https://phishing.does-it.net/](https://phishing.does-it.net/)) he will get a 404 error. By default this error looks like below: ![404err.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ef9fe1&media=404err.png) If you don’t want LUCY to expose itself, you can define a global custom error message in the settings. This error message will appear as a customized 404 (not found page). You could of course also create some custom \"homepage\" that appears instead of an error. ![whtlbl_scrn_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=254b30&media=whtlbl_scrn_3.png) When you save a new domain in LUCY you have the ability to define a custom 404 or homepage for that specific domain. Please click on \"Use custom Not found template\" within the domain setting: ![whtlbl_scrn_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=adc1bd&media=whtlbl_scrn_4.png) You will be able to set your custom 404 for this domain which will overwrite the global 404 setting. If you want to embed an image you can do this with a img tag that points to the external image on a 3rd party server (e.g. <img src=http://www.yourserver.com/img.jpg>). If you create a campaign using an IP address instead of a domain then the 404 page will not be displayed if the user enters the URL to the document root directory (e.g. [http://91.228.11.25/](http://91.228.11.25/)). (5 & 6) Custom logo and copyright info on the login page & dashboard: You have the ability to upload your custom logo & copyright info to the login page or dashboard. ![logo1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e9bd75&media=logo1.png) ![logo2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f06f84&media=logo2.png) Login for your clients The idea of using custom brands is the ability to create [view only accounts](/doku.php?id=user_management) for your clients (so they can monitor their individual campaigns in a live view) white_label_lucy_-_custom_branding.txt · Last modified: 2023/02/01 16:33 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 24,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_custom_firewall_rules_iptables_in_lucy",
      "content": "create_custom_firewall_rules_iptables_in_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_custom_firewall_rules_iptables_in_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_custom_firewall_rules_iptables_in_lucy Firewall settings in LUCY < 3.2 LUCY comes with a set of firewall rules build into linux (iptables) to restrict access from the network. The firewall config is restored on each reboot. The rules are stored in \"/opt/phishing/config/iptables.conf\". The script that reads iptables rules is located in \"/etc/network/if-up.d/iptables\". Using [root access](/doku.php?id=recover_your_root_password) you can either edit the rules in the file, or change/remove the script that reads them on each reboot. To remove the currently applied iptables rules and clear the firewall table you need to run a command \"iptables -F\". Firewall settings in LUCY > 3.2 In LUCY > 3.2 you [can set custom access control lists](/doku.php?id=firewall_security_settings) within the GUI. create_custom_firewall_rules_iptables_in_lucy.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 25,
      "source": "https://wiki.thrivedx.com/doku.php?id=ssl_configuration",
      "content": "ssl_configuration [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • ssl_configuration Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 ssl_configuration LUCY offers you to create a certificate for: Campaigns the Admin Interface Trusted ADMIN Certificate Generation with LUCY First set the correct FQDN within the [setup script](/doku.php?id=setup_script_tutorial) (domain configuration). Example: if you configured the domain \"phishig-server.com\" within LUCY you could create the FQDN access.phishing-server.com within the setup script. If you want to generate a trusted certificate for the admin access please go to \"settings/ssl settings\" and choose \"lets encrypt\" as the method. LUCY will automatically use the domain configured in the system to generate the certificate. The certificate generation might take up to 5 minutes. Please be patient and wait until the message \"certificate created\" appears. If you get a \"request failed\" error it means that you ran into performance issues. In that case please retry to initialize the setup again. Here is a summary again: Step 1: create a DNS entry, that points to LUCY and which is reachable from the internet (LetsEncrypt needs to verify the domain in order to save the settings). E.g. create a DNS entry like admin.yourdomain.com that points to LUCY. Step 2: Start the [setup script](/doku.php?id=setup_script_tutorial) and go to the domain configuration. In the domain configuration please save your FQDN (e.g. admin.yourdomain.com). Step 3: Restart LUCY Step 4: Go to the settings/SSL settings menu, choose \"letsencrypt\" and let LUCY generate the trusted certificate. If the page is not refreshing automatically: please refresh the page after max 5 minutes. ![trusted_cert.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6cf563&media=trusted_cert.png) Using SSL for attack simulations or awareness training SSL for attack simulations: You have the option to generate a certificate, upload one or select an existing one. If you want the certificate to be trusted to avoid an SSL error message please pick \"lets encrypt\". Please go to the scenario settings within the base settings of your campaign and then click on \"SSL settings\" (1). In case of LetsEncrypt (2) it will automatically use the domain (3) configured within the scenario settings. You can enter a valid email address (4) in the last field. Please note, that \"Let's Encrypt\" needs a publicly available domain name to generate a certificate. Please make sure your domain is accessible and points to Lucy. ![ssl_campaign.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6ae51a&media=ssl_campaign.png) SSL for E-Learning:: Please go to \"awareness settings\" within your campaign and then within the according to scenario settings of your awareness template select the SSL options: ![awarw_ssl.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f73b61&media=awarw_ssl.png) ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Please take into account that Lucy uses a third-party SSL provider - Let's Encrypt that has some limitations. The most common one is that you cannot issue more than 5 certificates per week for the same domain name. Find more at: [https://letsencrypt.org/docs/rate-limits/](https://letsencrypt.org/docs/rate-limits/) To avoid that limit you can use a previously issued SSL certificate in your campaigns by choosing the option \"Select Existing SSL Certificate\" in the SSL Provider list. Link generation within the message template:: If you enable SSL in your campaign scenario, LUCY will populate the %link% variable with \"[https://domain-in-scenario-settings](https://domain-in-scenario-settings)\" instead of \"[http://domain-in-scenario-settings](http://domain-in-scenario-settings)\" Delete/renew certificates Deleting certificates requires you to uncheck the certificate checkbox and save the changes: ![uncheck_ssl.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2e7529&media=uncheck_ssl.png) Create a Certificate within a Campaign LUCY ===== Create a CSR (Certificate Signing Request) =====¨ If you want to create a new official certificate, you first need to create a CSR. You can use an online service like: [https://tools.ssl.com/](https://tools.ssl.com/) [https://www.thesslstore.com/ssltools/csr-generator.php](https://www.thesslstore.com/ssltools/csr-generator.php) [https://www.gogetssl.com/online-csr-generator/](https://www.gogetssl.com/online-csr-generator/) After the verification, (most providers will either do verification by sending an email to the email address within the WHOIS record or to the email specified within the CSR) you will have to upload the certificate to LUCY. Import Certificate You can also import an official trusted certificate. Simply upload the files to LUCY. If the private key is protected with a password, you need to enter that password as well. Note that the server only accepts files with the following extension: SSL Certificate: crt SSL Key: key SSL Chain: crt, ca, ca-bundle ![ssl_gen_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ab55b5&media=ssl_gen_2.png) Note: If you want to get an official certificate for free, you can always use trial certificates which are valid for 90 days (example: [https://www.comodo.com/e-commerce/ssl-certificates/free-ssl-certificate.php](https://www.comodo.com/e-commerce/ssl-certificates/free-ssl-certificate.php)) Known Issues In LUCY < 4.5 the certificate autorenew might not work for several reasons. a. If you are using Lucy 4.2 or older version and using the \"Let's Encrypt\" provider SSL certificate generation fails, you need to delete the old certificate before re-creating the certificate again. You can do that using the following command: cd /tmp sudo -u postgres psql phishing -c \"UPDATE domains_ssl SET is_deleted=TRUE WHERE NOT is_deleted\" (!) Please take into account that the command above will delete all existing SSL certificates! b. For Lucy 4.3 and newer version this could have happened after the migration from version 4.2 via the Migration Tool. In that case please contact our support team ([support@lucysecurity.com](mailto:support@lucysecurity.com)) to fix the issue. ssl_configuration.txt · Last modified: 2022/04/20 10:24 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 26,
      "source": "https://wiki.thrivedx.com/doku.php?id=custom_admin_url_title",
      "content": "custom_admin_url_title [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • custom_admin_url_title Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 custom_admin_url_title LUCY's administrative access URL is by default \"/admin\". You can change that URL within the Whitelabel menu: ![cust_url_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=babb90&media=cust_url_1.png) custom_admin_url_title.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 27,
      "source": "https://wiki.thrivedx.com/doku.php?id=confidentiality_of_campaign_data",
      "content": "confidentiality_of_campaign_data [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • confidentiality_of_campaign_data Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 confidentiality_of_campaign_data What Data Gets Logged? LUCY has different logging levels: Normal logging: All campaign data is logged in the database. Anonymous Mode: Use this mode to hide all victim data (IP address, login details etc.) from statistics, reports and database. Details about anonymous mode If the anonymous mode checkbox is selected within the scenario settings then all personalized data automatically gets deleted. There is no possibility to track any individual users anymore. Only generic statistics will be visible. The following screenshots show a few examples of the output if the anonymous mode checkbox is enabled: ![anonymous1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=947c5c&media=anonymous1.png) ![anonymous2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=47ba03&media=anonymous2.png) ![anonymous3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e163f8&media=anonymous3.png) Questions about confidentiality Is Data Shared among Clients or Sent Back to Us? All data is stored in a local PostgreSQL RDBMS that comes with LUCY. As a result, there is no centralized storage and data will never be sent back to us. Even if you choose LUCY as a SAS, you will have a dedicated Linux server with a separate DB which is not shared with other clients. How Can You Delete Campaign Data? Once you reset the statistics data in LUCY, delete a campaign or remove the recipients from a running campaign, the data is removed from the database and cannot be restored. Does LUCY Send Any Confidential Data Back to Us? No - never. LUCY has the ability to send us to log files. This needs to be initiated manually. Those logs contain only technical data about your installation (mainly Apache logs). However, all possible confidential data is deleted (we don't collect any information about your campaign settings). When running the checks in a campaign, LUCY connects to external servers to test certain settings (SPAM, accessibility etc.) without sending back any information about your settings, environment or campaign. Is the data in the DB encrypted? Yes - all data in the DB is encrypted (AES). confidentiality_of_campaign_data.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 28,
      "source": "https://wiki.thrivedx.com/doku.php?id=security_considerations",
      "content": "security_considerations [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • security_considerations Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 security_considerations We work hard in making LUCY a secure product. Here is a quick overview of the most important security topics: Restricted network-based access to LUCY: [Firewall](/doku.php?id=firewall_security_settings) Secure the user access: [Password Policy](/doku.php?id=password_policies_login_protection_strong_authentication) 2-Factor Authentication: [2FA](/doku.php?id=2-factor_authentication_2fa) Restrict the user access: [Administrative Users](/doku.php?id=user_management) Secure Setup of LUCY in DMZ: [Master & Slave](/doku.php?id=setting_up_a_lucy_master_slave) Secure (and anonymous) storage of data: [Confidentiality of Data](/doku.php?id=confidentiality_of_campaign_data) Delete sensitive data: [Data clean-up](/doku.php?id=deleting_sensitive_data) Secure communication channels: [Trusted ADMIN Certificate Generation with LUCY](/doku.php?id=ssl_configuration) Transparent network communication: [Network Communication](/doku.php?id=network_communication_-_lucy_--_internet) Secure support: [SSH in LUCY](/doku.php?id=remote_ssh_support) Updates of the application: [Lucy Update](/doku.php?id=update_lucy) OS, Patches & Software: [Technical Information](/doku.php?id=technical_information) Custom Admin URL creation: [Admin Path](/doku.php?id=custom_admin_url_title) Ability to monitor all system activities: [System Logs](/doku.php?id=log_files_in_lucy) Ability to monitor the system in real-time: [System Monitoring](/doku.php?id=system_performance_monitoring) Data Security, Processes Privacy (GDPR): [Company, Application, Data Security and Privacy](/doku.php?id=company_application_and_data_security) Ability to store key on HSM: [HSM Database encryption](/doku.php?id=hsm_db_encryption) Block access to campaigns based on IP-ranges and browser types: [Filters](/doku.php?id=filters) VPS Hardening info: [VPS Hardening](/doku.php?id=vps_hardening) Optional protection system: [IPS/IDS](/doku.php?id=suricata) Additionally we perform regular external (anonymous) penetration tests according to the OWASP testing categories ([https://www.owasp.org/](https://www.owasp.org/)). If you still should experience a security issue, please contact us under support@lucysecurity.com. security_considerations.txt · Last modified: 2021/12/13 15:13 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 29,
      "source": "https://wiki.thrivedx.com/doku.php?id=firewall_security_settings",
      "content": "firewall_security_settings [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • firewall_security_settings Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 firewall_security_settings Within the Firewall settings (you find them under setting in (/admin/settings/firewall) you can define the following settings: Block Access to SSH: Click this, if you want to disable SSH access completely HTTP & HTTPS Access Range: You can define the IP Ranges, from which the HTTP or HTTPS service will be reachable. Please note, that your users won't be able to access the phishing simulations if you don't include their IP range. If you only want to block access to the administrative admin GUI you will need to run the campaigns on HTTP only and then restrict the access to HTTPS. Custom Admin Port: define here the port, under which the administrative LUCY access (web-based) will be accessible (do not change the admin port if you have a docker based installation and use LUCY < 4.4!) Admin Access IP Range: You can define the IP Ranges, from which access to the Lucy admin panel is allowed. ![firewall.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2639ae&media=firewall.png) firewall_security_settings.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 30,
      "source": "https://wiki.thrivedx.com/doku.php?id=password_policies_login_protection_strong_authentication",
      "content": "password_policies_login_protection_strong_authentication [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • password_policies_login_protection_strong_authentication Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 password_policies_login_protection_strong_authentication Password Policy A password policy is a set of rules designed to force users to employ strong passwords and use them properly. In LUCY you can configure the password policy under the advanced settings: ![set_psw_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d532fa&media=set_psw_2.png) You can define the following settings: Enable password policy for all LUCY users Set a minimal password length Require Digits within the password and set the number of required digits Require Special Characters within the password and set the number of required Special Characters Require Upper and Lower Case Characters within the password Rotation period: force the user to change the password after a custom time frame Brute Force Protection If you enable the security image within the login page the user will have to enter a captcha text together with his login which will protect the login from automated login attempts (see [https://www.owasp.org/index.php/Blocking_Brute_Force_Attacks](https://www.owasp.org/index.php/Blocking_Brute_Force_Attacks)). ![shw_psw_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8a62ce&media=shw_psw_3.png) Strong Authentication (Certificate Based) Certificate-based authentication is the use of a Digital Certificate to identify a user, machine, or device before granting access to a resource, network, application, etc. In the case of user authentication, it is often deployed in coordination with traditional methods such as username and password. In order to enable certificate-based authentication for a LUCY user, you need to go into the user management (in settings) and within the specific user you have to enable the checkbox \"certificate required\". Before creating the certificate you need to save the changes. Once you enabled this setting you have to click on the certificate generation icon. After a few seconds, you will be able to download the certificate. ![certificate_auth.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=91fb80&media=certificate_auth.png) password_policies_login_protection_strong_authentication.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 31,
      "source": "https://wiki.thrivedx.com/doku.php?id=2-factor_authentication_2fa",
      "content": "2-factor_authentication_2fa [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • 2-factor_authentication_2fa Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 2-factor_authentication_2fa 2-Factor Authentication (2FA) 2-factor authentication in Lucy is based on [Authy](https://authy.com) service, which allows you to login to the system using a security token obtained via the mobile application or via SMS message. In order to set up 2FA for your Lucy, you will need to go through a few simple steps: Obtain an API key Configure Lucy to use the API key Setup 2FA for all users Obtain an API Key You may either use our pre-configured API key or set up your own key. We strongly recommend to obtain your own API key for production setups, as using the pre-configured key will share your Lucy login information (emails, phone numbers and time of the login) with our Authy account. More than likely this is not what you need. By default Lucy has no 2FA API key configured and doesn't send any login information outside. Use Pre-configured Key (NOT RECOMMENDED) In order if you are running a test system and just want to check how 2FA works, you may use our test API key: ROnCZuDlRyPYa9Cys0L1q4x08hIIN06m (just copy it and proceed to \"Configure Lucy\" section below) Generate Your Own Key Create a new account on Twilio (free of charge): [https://www.twilio.com/try-twilio](https://www.twilio.com/try-twilio) Login to Authy dashboard: [https://dashboard.authy.com/signin](https://dashboard.authy.com/signin) In the dashboard press \"Authy\"→\"Applications\"→\"Get Started\" ![get_started.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f7bd09&media=get_started.png) Press \"Verify your phone number\", enter your phone number to recieve a verification code, then enter it to get your number validated. ![phone_number.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c59c19&media=phone_number.png) Set the application name (i.e. Lucy) in \"Friendly name\" column and hit \"Create Application\". ![create_application.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=744a6d&media=create_application.png) Add your first user email and phone number. ![first_user.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c6c14c&media=first_user.png) Select \"App Token\", then enter generated token number from \"Authy\" app on your phone. ![app_token.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c1065f&media=app_token.png) ![token.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=045ef4&media=token.png) Choose your created application, ![application.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7c88b8&media=application.png) go to \"Settings\", press an eye icon at \"Production API KEY\" and the system will show you your unique API key. ![api_key.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c814d4&media=api_key.png) Copy this API key - you will need to paste it into Lucy Configure Lucy At this step, you should already have an API key. Open Lucy interface and go to \"System\" → \"Advanced Settings\" in the main menu and paste your API key into \"2FA\" field, then hit \"Save\". ![2fa:2fa-4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=18a36b&media=2fa:2fa-4.png) Now you're all set and can configure 2FA for your account. Setup 2FA for user accounts All users in the system should configure 2FA for them on their own (as it sends SMS to their phone). In order to do so, each user should: Go to the \"Account\" page Enter their phone in the corresponding fields Hit \"Save\" Press \"Configure 2FA\" and follow instructions on the screen ![2fa:2fa-5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=17372d&media=2fa:2fa-5.png) A user will be logged out after configuring 2FA and the system will ask a 2FA token during the next login. In order to obtain a 2FA token, you may either use Authy mobile application or request a token via SMS. 2-factor_authentication_2fa.txt · Last modified: 2021/11/10 13:35 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 32,
      "source": "https://wiki.thrivedx.com/doku.php?id=sso_authentication",
      "content": "sso_authentication [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • sso_authentication Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 sso_authentication Single sign-on authentication (SSO) Background Info ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) This feature is available in Lucy 4.6 or newer version. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) We do not recommend using Let's Encrypt certificates with an SSO provider due to the short live term of charge-free certificates. Lucy allows you to set the SSO authentication by using the Lightweight Directory Access Protocol (LDAP) to access Admin console and EndUser portal. This also allows you to use a non-unique link for the awareness website within a campaign. In general terms, SSO in Lucy can be used for: authorization on Lucy’s admin console and End-User portal: to identify users on awareness website. Where can this be configured? To use SSO in Lucy you should have installed [Active Directory Federation Services](https://docs.microsoft.com/en-us/windows/desktop/srvnodes/active-directory-federation-services) (AD FS) on your Windows server. Lucy uses [Security Assertion Markup Language 2.0](https://en.wikipedia.org/wiki/Security_Assertion_Markup_Language) (SAML 2.0) for exchanging authentication and authorization data, which supports the following versions of AD FS: ADFS 2.0 (Windows Server 2008 and Windows Server 2008 R2) ADFS 2.1 (Windows Server 2012) ADFS 3.0 (Windows Server 2012 R2) ADFS 4.0 (Windows Server 2016) ADFS 5.0 (Windows Server 2019) Azure AD (refer to [this guide](/doku.php?id=sso_azure) to have a detailed instructions) Okta (refer to [this guide](/doku.php?id=sso_okta) for more details) The connection to the AD FS can be configured within the Settings / SSO Configuration: ![sso_configuration_menu.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=c9de5d&media=sso_configuration_menu.png) What preparations need to be done before connecting to AD FS? Upload or create an SSL certificate for Lucy Admin console - see [this article](/doku.php?id=ssl_configuration). Make sure you have an Administrator account in Lucy (Settings> Users) with an email address that corresponds to your Windows account in Active Directory. Both accounts must have the same email address: ![sso_ldap_user1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=5ba103&media=sso_ldap_user1.png) ![sso_ldap_user2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=22a018&media=sso_ldap_user2.png) Download the FederationMetadata.xml file from your AD FS server. Log in to Windows Server > open Server Manager > click Tools > click AD FS Management > expand Service and select the Endpoints node: ![sso_download_metadata.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2f6c8f&media=sso_download_metadata.png) For example, your Federation Service is located at [https://fs.domain.tld/](https://fs.domain.tld/), then the link to download the FederationMetadata.xml file looks like: [https://fs.domain.tld/FederationMetadata/2007-06/FederationMetadata.xml](https://fs.domain.tld/FederationMetadata/2007-06/FederationMetadata.xml) Open a browser and navigate to the FederationMetadata.xml location where you’ll be prompted to save the file to disk. Enable Single sign-on in Lucy Navigate to the SSO Configuration page Active the option \"Enable Active Directory FS\" Insert the URL in to the field Identity Provider Endpoint: The URL of Identity Provider Endpoint can be taken from the FederationMetadata.xml file we downloaded earlier: ![sso_entity_id_url.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8ec9c3&media=sso_entity_id_url.png) Select the FederationMetadata.xml file in to the field Identity Provider Server XML metadata. Insert the Thumbprint information in to the field Identity Provider Certificate Thumbprint: The Certificate Thumbprint can be taken from the AD FS server. Open Server Manager > click Tools > click AD FS Management > expand Service and select the Certificates node > open the certificate from the \"Token-signing\" section: ![sso_thumbprint.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8fa40f&media=sso_thumbprint.png) In the end, the SSO Configuration page will look like this: ![sss_complete_configuration.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ac69a6&media=sss_complete_configuration.png) Click Save. Create the Relying Party Trust in AD FS Copy the Lucy Metadata Endpoint link from the SSO Configuration page: ![sso_metadata_link.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c6a867&media=sso_metadata_link.png) On your AD FS server, open the AD FS Management console, expand Trust Relationships and select the Relying Party Trusts node. In the Actions pane, click Add Relying Party Trust: Attention ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) If the Lucy Admin Console is configured on a non-standard port (for example, port 8443, see more [here](/doku.php?id=firewall_security_settings)), then you will need to add two separate entry of Relying Party Trust with the identical parameters, but different Federation metadata address (URL): The first will be: [https://lucydomain.com/service-provider/endpoint/metadata/lucy-sp](https://lucydomain.com/service-provider/endpoint/metadata/lucy-sp) Second: [https://lucydomain.com:8443/service-provider/endpoint/metadata/lucy-sp](https://lucydomain.com:8443/service-provider/endpoint/metadata/lucy-sp) In case access to the Lucy Admin Console is limited to a range of IP addresses, you must include an ADFS server in this range. ![sso_add_relying_party_trust.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b3e475&media=sso_add_relying_party_trust.png) Click Start then paste the Entity ID url in to the Federation Metadata address field and click Next. ![sso_insert_metadata_url.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e42bff&media=sso_insert_metadata_url.png) Accept the warning: ![sso_insert_metadata_url_warning.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3061d4&media=sso_insert_metadata_url_warning.png) Click the Next button in the wizard until you reach the Ready To Add Trust page. Check the Encryption and Signature tabs have certificates associated with them: ![sso_trust_signature.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=472587&media=sso_trust_signature.png) Click Next and the Relying Party Trust is added: ![sso_trust_added.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=741c01&media=sso_trust_added.png) Select the Relying Party Trust you have just added and then click Edit Claim Rules: ![sso_edit_claim_rules.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cf1582&media=sso_edit_claim_rules.png) Add an Issuance Transform Rule based on the Send LDAP Attributes as Claims template: ![sso_new_it_rule.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=f649aa&media=sso_new_it_rule.png) ![sso_new_it_rule1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c2ba81&media=sso_new_it_rule1.png) Select UPN, uid and mail as shown on the screenshot below: ![sso_new_it_rule1_upn.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9d3e57&media=sso_new_it_rule1_upn.png) Add another Issuance Transform Rule based on the Transform an Incoming Claim template: ![sso_new_it_rule2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7b34ea&media=sso_new_it_rule2.png) ![sso_new_it_rule2_upn.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5f5ab1&media=sso_new_it_rule2_upn.png) Once configured, you should have two Issuance Transform Rules that look as follows: ![sso_it_rules.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=aa360a&media=sso_it_rules.png) Testing Authentication Now that we have configured Lucy as the service provider, ADFS as the identity provider (IdP), exchanged metadata between the two and configured some basic claims rules. We are now able to test authentication. Navigate to the SSO Configuration page in Lucy Admin console and click the button Test Connection: ![sso_test_connection1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1ae90e&media=sso_test_connection1.png) You will be immediately forwarded to the AD FS server (or Web Application Proxy depending on how your AD FS farm is configured). Enter your user ID in the format \"domain\\user\" or \"user@domain\": ![sso_test_connection2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d1b03f&media=sso_test_connection2.png) Note ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) User ID may differ from the E-mail address specified in the Active Directory attributes. If this is the case, you can enabled [Alternate Login ID](https://technet.microsoft.com/en-us/library/dn659436.aspx). Microsoft strongly recommend using the mail attribute for sign in. Once signed in, you will be bounced back to Lucy Admin console. If an error occurs, double-check everything and then check the Event Viewer for hints as to what could have gone wrong. Click Logout to test this works as expected. On the Login page you can now choose a way of login to the Admin console: ![sso_login_method.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7cc794&media=sso_login_method.png) Enable SSO for Awareness Websites This option allows you to obtain a static link of the awareness website. This can be useful in the case when you do not need to send e-mail messages to each user, and to distribute only one link through other sources. The link is unique in the context of a specific awareness scenario and campaign. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) The list of possible domains for the awareness web site is limited to those domains that you added to the [Relying Party Trust](/doku.php?id=sso_authentication#create_the_relying_party_trust_in_ad_fs) in AD FS. You can add as many domains as you need by simply replacing the domain name in the Lucy Metadata Endpoint link. The option SSO for Awareness Websites is available in the Base Settings section of campaign: ![sso_awareness_website.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c352e7&media=sso_awareness_website.png) The option can be used in conjunction with the option \"Do not send emails\" (Awareness Settings) that blocking the sending of e-mail messages to users: ![sso_donot_send_emails.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7cbc99&media=sso_donot_send_emails.png) The global link that can be used by users to access awareness website is placed under the Website section of the Awareness Settings: ![sso_awareness_link.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b9a165&media=sso_awareness_link.png) Note ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) In order this feature to work you should also enable SSL for the domain used in the awareness scenario: ![sso_ssl_for_awareness_website.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9cc6aa&media=sso_ssl_for_awareness_website.png) Useful tips How to update or replace SSL certificate used for SSO authentication? You should first update your SSL certificate within the SSL Settings. Refer to this [page](/doku.php?id=ssl_configuration) for detailed instructions. Once the SSL certificate is updated, go to the SSO Settings page, upload XML metadata file and click Save button. To verify whether the certificate is applied, click \"Download Certificate\" link, open the file and check certificate details. Troubleshooting Issue: An error occurs when importing a data about the relying party (Lucy Metadata Endpoint URL): ![troubleshooting_metadata_url.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=083c47&media=troubleshooting_metadata_url.png) Solution: Copy the URL of Lucy Metadata Endpoint from the SSO Configuration page and paste into the address bar in your browser. Rename the downloaded file to \"lucy-sp.xml\". Use the file to import the data about relying party: ![troubleshooting_metadata_url2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=bd5e49&media=troubleshooting_metadata_url2.png) Issue: A blank page is opened after successful login with a single sign-on. Solution: The time difference between AD FS and Lucy servers can cause an authentication problem. Make sure that the time zone setting is correct on the Advanced Settings page in Lucy. Issue: (AD FS) Login with a single sign-on sometimes does not work (it redirects to the Lucy's login page after successful login at AD FS website) . Solution: Disable the revocation check on your AD FS server by the PowerShell command (see details [here](https://docs.microsoft.com/en-us/powershell/module/adfs/set-adfsrelyingpartytrust?view=win10-ps)): Set-AdfsRelyingPartyTrust -TargetName \"Your RelyingParty Name\" -SigningCertificateRevocationCheck None Issue: (AD FS) Login with a single sign-on stopped working after update to Lucy 4.7 (it redirects to the Lucy's login page after successful login at AD FS website) . Solution: Update the Relying Party Trust on your Windows Server by clicking \"Update from Federation Metadata…\" link in AD FS Management console or through the [PowerShell](https://docs.microsoft.com/en-us/powershell/module/adfs/update-adfsrelyingpartytrust). Issue: A blank window appears after successful authentication at SSO provider website and there an error in the web server logs (Apache): \"Uncaught exception 'SimpleSAML\\\\Error\\\\Error' with message 'ACSPARAMS'\". Solution: Verify your SSO provider settings, make sure that all required attributes are passed to Lucy during Single sign-on authentication. sso_authentication.txt · Last modified: 2021/03/16 14:36 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 33,
      "source": "https://wiki.thrivedx.com/doku.php?id=sso_azure",
      "content": "sso_azure [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • sso_azure Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 sso_azure Enabling single sign-on authentication (SSO) for Azure Active Directory (Azure AD) Background Info ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) This feature is available in Lucy 4.6 or newer version. This article describes step by step instruction of the SSO integration with Azure AD. An additional information about what SSO in Lucy is designed for can be found [here](/doku.php?id=sso_authentication). What preparations need to be done before connecting to Azure AD? Upload or create an SSL certificate for Lucy Admin console - see [this article](/doku.php?id=ssl_configuration). Make sure you have an Administrator account in Lucy (Settings > Users) with an email address that corresponds to your account in Azure Active Directory. Both accounts must have the same email address: ![sso_azure_user1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=58d614&media=sso_azure_user1.png) ![sso_azure_user2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bc81eb&media=sso_azure_user2.png) Enable Single sign-on in Lucy Configure SAML-based single sign-on to your non-gallery application Find more about Azure AD Single Sign-on configuration [here](https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/configure-single-sign-on-non-gallery-applications) ![sso_azure_enable_saml.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3db6ad&media=sso_azure_enable_saml.png) Add a new non-gallery web app to your Azure AD, see more [here](https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/add-non-gallery-app) ![sso_azure_new_app.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9ea0f6&media=sso_azure_new_app.png) Open Lucy Admin console Navigate to the SSO Configuration page (Settings > SSO Settings) Tick the option \"Enable Active Directory FS\" Download the FederationMetadata.xml file from Azure AD and fill the Identity Provider Endpoint and Certificate Thumbprint in Lucy ![sso_azure_lucy_configs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a8515c&media=sso_azure_lucy_configs.png) ![sso_azure_lucy_configs2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=55206c&media=sso_azure_lucy_configs2.png) Download a pre-configured SAML metadata file (copy the URL and paste into your web browser address bar, change the extension of the file to .XML, for example \"lucy-sp.xml\") ![sso_azure_lucy_metadata_file.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=450&tok=1399e7&media=sso_azure_lucy_metadata_file.png) ![sso_azure_lucy_metadata_file2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3e5dde&media=sso_azure_lucy_metadata_file2.png) Upload the pre-configured SAML metadata file ![sso_azure_lucy_metadata_file3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=885df0&media=sso_azure_lucy_metadata_file3.png) Add a new Claim \"mail\" that contain an e-mail address of the user, see more [here](https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-saml-claims-customization) ![sso_azure_new_claim1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=24cd1e&media=sso_azure_new_claim1.png) ![sso_azure_new_claim2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=02d6e5&media=sso_azure_new_claim2.png) Note ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) The attribute user.mail is always empty if the user does not exist in your Office 365 Exchange server. Instead you will have to use the attribute user.userprincipalname or other one that contains user's email address. Configure Azure AD SAML token encryption, see more [here](https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/howto-saml-token-encryption) ![sso_azure_lucy_download_ssl.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=6082ba&media=sso_azure_lucy_download_ssl.png) ![sso_azure_import_ssl.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=965926&media=sso_azure_import_ssl.png) ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Do not forget to activate the encryption for the uploaded certificate ![sso_azure_import_ssl2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ea3292&media=sso_azure_import_ssl2.png) (optional) You may also configure a domain name that Azure AD will use to receive authentication requests. Azure supports both single domain and range of subdomains, however, for this you need to use a wildcard SSL certificate. By default, Lucy is configured to use system domain. To enable support for the subdomains, set the value in the Domain field in the following way \".domain.com\" ![sso_azure_domain_name.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=59df68&media=sso_azure_domain_name.png) Using wildcard domain name will allow you to use different subdomains in your campaigns. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Please note, Azure AD does not support multiple second-level domains in a single application. (optional) If the option \"Auto Login\" enabled, Lucy tries to automatically log in using Single Sign-on instead of showing the Login page. Testing Authentication Make sure you have added users to your app ![sso_azure_users.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a79412&media=sso_azure_users.png) Navigate to the SSO Configuration page in Lucy Admin console and click the button Test Connection: ![sso_azure_lucy_test1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8c553a&media=sso_azure_lucy_test1.png) You will be immediately forwarded to the Microsoft login page. Enter your username and password: ![sso_azure_lucy_test2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0467c7&media=sso_azure_lucy_test2.png) Once signed in, you will be bounced back to Lucy Admin console. If an error occurs, double-check everything and then check the Sign-ins page within the Activity section for hints as to what could have gone wrong. ![sso_azure_login_activity.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cee2c3&media=sso_azure_login_activity.png) OAuth 2.0 The method of authentication is described [here](/doku.php?id=microsoft_azure_oauth_2_0). Troubleshoot problems I am redirected back to Lucy's login page after successful authorization through the Single sing-on. If you are getting back to the login page, try checking the Claim rules (see the section [Enable Single sign-on in Lucy](/doku.php?id=sso_azure#enable_single_sign-on_in_lucy), \"Add a new Claim 'mail'…\"). There must be a claim named \"mail\", with empty \"Namespace\" and Source attribute that contains user email address. For example: ![sso_azure_new_claim3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a28a64&media=sso_azure_new_claim3.png) sso_azure.txt · Last modified: 2021/08/27 12:17 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 34,
      "source": "https://wiki.thrivedx.com/doku.php?id=microsoft_azure_oauth_2_0",
      "content": "microsoft_azure_oauth_2_0 [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • microsoft_azure_oauth_2_0 Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 microsoft_azure_oauth_2_0 Configuration of OAuth 2.0 for Microsoft Azure First of all, it is necessary to register the application. More information about it can be taken from [here](https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app) However, the first step is to go to App Registrations. ![new_app_registration.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d10a95&media=new_app_registration.png) Create a new Registration, name it. Leave everything else by default except the redirect URI. ![register_an_application.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9327aa&media=register_an_application.png) It should look like this: [https://lucyurl.com/oauth/admin](https://lucyurl.com/oauth/admin) [https://lucyurl.com/oauth/user](https://lucyurl.com/oauth/user) Make sure that there is no extra trailing slash in the end of the URI, it can cause an error. It is possible to configure the second URI later. These two URIs are required for administrative authentication and user login. If SSO is not required for Admins, it is possible not to set the link. The front-channel logout URL is optional. As soon as done, please copy Tenant ID and Client ID into your LUCY app. Settings → SSO Settings. ![sso_oauth2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b9e3da&media=sso_oauth2.png) Copy Tenant ID and the Client ID from Azure to LUCY. ![tenant_and_client.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=45d892&media=tenant_and_client.png) Create Client Secret in Azure's Clients and Secrets section, paste the VALUE into LUCY as well. ![client_secret.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d0f3f4&media=client_secret.png) Do not forget to add the second Redirect URI (If required). It can be done in the Authentication section. ![auth_section.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=fb9978&media=auth_section.png) Azure SMTP Settings To use an external SMTP server via Azure you will first need to add the redirect URI in the Authentication section of the App that you registered. This URI is required for SMTP authentication. It should look like this: [https://lucyurl.com/smtp/oauth](https://lucyurl.com/smtp/oauth) Make sure that there is no extra trailing slash at the end of the URI, it can cause an error. ![auth_url.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=82c6b5&media=auth_url.png) After that, go to settings/SMTP servers section in Lucy. ![mailrelaysettings.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=8511e9&media=mailrelaysettings.png) To use an external SMTP server you need to add your mail server by clicking the \"add mail server\" button: ![addmailserver.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f25c68&media=addmailserver.png) Enter the mail server details: Host: smtp.office365.com Port: 587 Encryption: STARTTLS Authentication Method: OAuth2 Provider: Office 365 Copy Client ID, Client Secret Value, Tenant ID from Azure to LUCY. ![smtpex.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=c01955&media=smtpex.png) After saving the configuration, you can test the connection with the external SMTP server using the tool presented on the same page: enter the Sender and Recipient addresses and press the Test button. If it is OK, you will see the message \"Success, please see the output\". If something wrong, you will see the message \"Error, please see the output\". In the Console Output you will see a short description of the issue and log of the SMTP session: ![smtp_test.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=965843&media=smtp_test.png) More information regarding the SMTP errors codes you сan find [here](/doku.php?id=smtp_status_codes). Azure AD Settings Starting from version 4.8, LUCY allows to import recipients from Azure AD and provides a possibility to automatically synchronize a recipient group with your Active Directory. Active Directory settings can be found under Settings > Azure AD Settings. ![azure_ad_settings.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=7e3ad5&media=azure_ad_settings.png) As soon as the SSO has been configured via OAuth 2.0 protocol, just copy the Tenant ID, Client ID, and Secrets section into Azure AD Settings. Then navigate to Authentication on Azure portal and add the following URI: [https://lucyurl.com/oauth](https://lucyurl.com/oauth) ![authuri.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=b0fdcd&media=authuri.png) Therefore Lucy allows you to import recipients and administrative users directly from your Active Directory service. Importing functionality is the same for Azure AD as for LDAP (described [here](https://wiki.lucysecurity.com/doku.php?id=ldap_integration)) A dedicated article on Azure AD import procedure can be found here: [Azure AD Synchronization](/doku.php?id=azure_synchronization) microsoft_azure_oauth_2_0.txt · Last modified: 2021/12/06 15:23 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 35,
      "source": "https://wiki.thrivedx.com/doku.php?id=deleting_sensitive_data",
      "content": "deleting_sensitive_data [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • deleting_sensitive_data Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 deleting_sensitive_data There are different ways to delete data in LUCY: Within a campaign, all data can be deleted irrevocably with one click using \"Reset Stats\". ![reset_stats_a.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b4bea3&media=reset_stats_a.png) By removing a recipient group within the campaign, all data for this group is irrevocably deleted. ![reset_stats_b.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=32142d&media=reset_stats_b.png) Deleting a campaign irrevocably deletes all data for this campaign. ![reset_stats_c.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=54d2cb&media=reset_stats_c.png) All settings are irrevocably deleted by the factory reset. ![reset_stats_d.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=96086c&media=reset_stats_d.png) All access logs are deleted irrevocably with the \"clear\" button. ![reset_stats_e.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a42ef5&media=reset_stats_e.png) All logs (databases, application logs, etc.) can be deleted irrevocably with one click within the system monitoring. ![reset_stats_f.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e84831&media=reset_stats_f.png) deleting_sensitive_data.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 36,
      "source": "https://wiki.thrivedx.com/doku.php?id=filters",
      "content": "filters [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • filters Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 filters Filters LUCY allows you to create filters within the campaigns that determine whether the victim is allowed to access the campaign. According to the rules set by the campaign administrator requests from certain mail clients, IP-addresses or IP-ranges are either denied or allowed to access the campaign. Filters can be defined within the particular campaign “Campaign Name” → Advanced Settings → Filters. ![filters.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=647b7b&media=filters.png) There are three policies available: Allow all (default) - allows all recipients to access the campaign, regardless of their IP address and browser. Allow only - allows only recipients that have an IP address or browser that matches one of the rules you add below, all other recipients will be blocked. Deny for - denies the access for recipients that have an IP address or browser that matches one of the rules you add below, all others will be allowed. ![filters_policies.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9d78df&media=filters_policies.png) ![filters_add.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fa870c&media=filters_add.png) In order to set the rule, choose the desired policy, and click Add, then choose the filter criteria (IP or User-agent) and click Save after. ![filters_criteria_correct.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a1fd3b&media=filters_criteria_correct.png) Preventing false clicks by Office 365 Advanced Threat Protection service In case there are strict policies within the network one is able to use filters in order to provide clear statistics gathering. For example, ATP policies for Office365 track user's clicks on phishing links and rewrite suspicious URLs. Thus, the first request to Lucy server is made by Microsoft services, and this request counts as the one made by the victim. As a result, unreliable statistics are gathered. In order to avoid such an issue, one might use filters feature and deny access for certain IP-addresses that belong to Microsoft protection services. IP-ranges for O365 ATP service are: 40.94.0.0/16 and 104.47.0.0/16 ![filters_atp.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1b0d08&media=filters_atp.png) Please note that the IP-ranges may vary from client to client and those from above are known by the LUCY team. In case aforementioned policies do not work, one will have to track which IP-addresses requests are made from. Otherwise, contact the support in order to receive help. filters.txt · Last modified: 2021/09/15 12:38 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 37,
      "source": "https://wiki.thrivedx.com/doku.php?id=suricata",
      "content": "suricata [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • suricata Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 suricata IPS/IDS Any LUCY instance can be optionally hardened with the additional security system. Suricata IPS/IDS IDS (Intrusion Detection System) IPS (Intrusion Prevention System) In comparison to the traditional layers of protection: antiviruses, spam filters and firewalls, the IDS / IPS provide a much higher level of network protection. IDS works by identifying threats based on traffic analysis. Traffic analysis is carried out according to pre-compiled rules. Both external repositories with rules for detecting the most common attacks and rules prepared at the request of the client for detecting incidents based on specific characteristics are used. The IPS/IDS can be implemented into VPS or on-premise linux-based system by request. Contact us via support@lucysecurity.com. Please note, the ssh access would be required for this feature. suricata.txt · Last modified: 2021/12/13 15:12 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 38,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_your_first_phishing_campaign",
      "content": "create_your_first_phishing_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_your_first_phishing_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_your_first_phishing_campaign PREPARATION Before creating your first campaign you need to go through a few questions: Is the [organizational part](/doku.php?id=general_planing) taken care of? Are you using [latest LUCY version and updated all templates](/doku.php?id=update_lucy)? Did you make sure to reboot after the update? If you send emails via LUCY: did you [set a hostname](/doku.php?id=set_hostname_for_smtp_communication) for LUCY's mail server? Did you already reserve a [domain](/doku.php?id=domain_configuration) that points to LUCY? Are the [necessary ports](/doku.php?id=network_communication_-_lucy_--_internet) open from and to LUCY? Is LUCY able to send mails correctly? This can be tested under [support/test mail](/doku.php?id=test_mail). Do you have the correct [time/time zone](/doku.php?id=advanced_settings) set in advanced settings? Does your hardware meet the [Requirements](/doku.php?id=performance_tests)? Did you whitelist LUCY's domain/IP and did you make sure that [mails don't end up in SPAM](/doku.php?id=avoid_spam_issues)? Does your [License](https://lucysecurity.com/pricing/) meet the requirements for your campaign? STEP 1 - Create a New Campaign After the login, you can create your first phishing campaign by pressing the button “New Campaign”. This will start Campaign Wizard. ![wizard1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=667557&media=wizard1.png) STEP 2 - Select Type of a Campaign A wizard menu appears which lets you choose the type of your campaign. There are several types: [Attack Simulation](/doku.php?id=create_a_data_entry_phishing_campaign) [Educate Employees](/doku.php?id=create_an_awareness_only_campaign_no_phishing) [Infrastructure Tests](/doku.php?id=create_a_purely_technical_test_with_the_malware_testing_suite) [Engage Employees](/doku.php?id=create_an_awareness_only_campaign_no_phishing) ![wizard2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a72daa&media=wizard2.png) The next menu lets you choose a type of attack. There are also several types: [Data Entry Attack](/doku.php?id=create_a_data_entry_phishing_campaign) [Hyperlink Attack](/doku.php?id=create_a_phishing_campaign_with_only_a_hyperlink_in_mail_no_landing_page) [File Attack](/doku.php?id=create_a_phishing_campaign_with_malware_simulations) [Portable Media Attack](/doku.php?id=create_a_campaign_with_portable_media_devices) [Smishing](/doku.php?id=create_a_smishing_campaign) ![wizard3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=12dc29&media=wizard3.png) STEP 3 - Basic Campaign Settings Type in name of your first campaign (e.g.: \"My Test Campaign\") and [choose a client](/doku.php?id=client_setup). ![wizard4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f84db0&media=wizard4.png) STEP 4 - Choose Attack Template At this step, you'll see the list of templates that your LUCY instance has available. You can preview each template before selecting it by hitting on the \"Preview\" button. When you have selected your template, choose its language, hover over the \"Next\" button and press it. List of templates and the preview ability could vary according to the type of chosen scenario. ![wizard5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1619b0&media=wizard5.png) STEP 5 - Configure Basic Attack Settings Domain - Domain name for your scenario. It is possible to set an IP address as well. LUCY detects its local and external addresses. The addresses are available in the drop-down list. However, you can set an IP address manually. A [domain](/doku.php?id=domain_configuration) name can be set as well if you have it. Sender Name - Define a name that will be seen by recipients of the campaign in the field \"Mail From\". More can be found [here](/doku.php?id=mail_settings) Sender Email - Insert an email address that will be set by Lucy as the email address of a sender. More in [the same article](/doku.php?id=mail_settings). Subject - Insert text for the subject of your phishing email. Now, select \"Next\". ![wizard6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=88c9e3&media=wizard6.png) STEP 6 - Add Recipients There are 2 options: Select Existing Group of recipients. More in [this](/doku.php?id=add_mail_recipients) article. ![wizard7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bcc06b&media=wizard7.png) Enter Manually each recipient. Each time you press the \"Add\" button, a new field appears allowing you to enter an email address of a recipient for this campaign and a name of the recipient. The name is required for some templates to insert a name variable in the text of a phishing email. This makes attacks more \"personal\". ![wizard8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f2f126&media=wizard8.png) As soon as you are done with this step, use the \"Next\" button. STEP 7 - Review Review the information that you've entered. If everything is correct, press the \"Next\". If you see a typo or want to modify something, hover over the list of steps and click on any desired. It is possible to switch quickly between the Wizard Steps by a single mouse click. ![wizard9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=41acaa&media=wizard9.png) STEP 8 - Finish I'll just duplicate the words from the wizard: You're all set! Hit Start if you would like to start the campaign right away. You will be able to start the campaign any time later from the campaign summary page. ![wizard10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4e6715&media=wizard10.png) create_your_first_phishing_campaign.txt · Last modified: 2022/10/27 13:34 by editor8 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 39,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_phishing_campaign_double_barrel_attack",
      "content": "create_phishing_campaign_double_barrel_attack [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_phishing_campaign_double_barrel_attack Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_phishing_campaign_double_barrel_attack Create a Phishing Campaign with Double Barrel Attack When using Double Barrel Attack, the system first sends a “Lure” email containing some teaser text. After that, the system waits for a while (you can configure that time in settings below) and sends an actual phishing email. The “Lure” delay defines, in seconds, the time frame between the Lure and the attack emails for a Double-Barrel Attack. To configure the LURE attack, please enable the options in the scenario settings: ![lure1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=54a155&media=lure1.png) Once enabled, you can configure the lure template in the settings to the left: ![lure1x.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=16010e&media=lure1x.png) Then ![lure2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e2d80f&media=lure2.png) create_phishing_campaign_double_barrel_attack.txt · Last modified: 2023/02/03 11:14 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 40,
      "source": "https://wiki.thrivedx.com/doku.php?id=expert_mode_campaign_creation",
      "content": "expert_mode_campaign_creation [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • expert_mode_campaign_creation Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 expert_mode_campaign_creation Background Info Once you are all set you can try to setup your first campaign using the [ setup wizard](/doku.php?id=create_your_first_phishing_campaign). LUCY provides you with an alternative option using the expert setup mode. How to Create a campaign by enabling the Expert Setup STEP 1 - Create a New Campaign: You can create a phishing campaign by pressing the button New Campaign. This will start [ Campaign Wizard](/doku.php?id=create_your_first_phishing_campaign). ![expert1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=552426&media=expert1.png) STEP 2 - Select Expert Setup (Manual Configuration): At the bottom of the Campaign Wizard window, choose the Skip the wizard and enable the expert setup. ![expert2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=372fa0&media=expert2.png) Base Settings Every campaign has some Basic Settings which do not relate to a specific scenario template. Those basic settings can be found at a later point in the according menu to the left: ![expert40.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert40.png) STEP 3 - Configure the Base Settings of Your Campaign The following settings can be configured: ![expert41.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert41.png) Number Description Mandatory? WIKI link 1 Campaign Name: Give your campaign a name. This name will be displayed on the main dashboard. Yes [Monitor a campaign](/doku.php?id=monitor_a_campaign_statistics) 2 Client: Create a client or choose the built-in client (a client can be your own organization or the company that asked you to perform a phishing test). This is important because you can also create [view only accounts](/doku.php?id=user_management) which are associated with those clients. Yes [Create a Client](/doku.php?id=client_setup) 3 Setup Mode: As you are using the expert setup, please make sure you also selected Expert Setup (Manual Configuration) mode in this menu. You have different setup options like the Start with Default Campaign Template, Start with Predefined Campaign Template (called sample campaign in LUCY < 3.0). or Mail & Web Test. Yes - 4 Industry: Please select the industry type for the organization. This is an optional setting. It will allow [Benchmarks](/doku.php?id=benchmark) No - 5 Notes: Internal notes for you or other campaign admins No - 6 Awareness Re-Scheduling: The recipient will be able to re-schedule awareness training. He/She will be able to define a new time/date. On that specified date/time the system will re-send the awareness email No - 7 Ignore Repeated Answers in Awareness: If you added an awareness training, you may specify that only the first answer to an exam or quiz gets recorded and repeated answers will be ignored No - 8 End-User Profiles: Users might not have time to finish an awareness course right away. They have the ability to re-schedule the training. But you have also the ability to create a login page for your end users where they can login and access their custom training links at any time, without the need to re-send an awareness mail. No [End User Profile Page](/doku.php?id=end_user_e-learning_portal) 9 Track responses: For accurate statistics, Lucy has the functionality to work with emails that came in response to a phishing email. Thus, you can determine which of the recipients did not actually receive the e-mail(for example email was not delivered and Lucy received a response from the mail server) or do not include the auto-responses in the statistics. No [Track responses](/doku.php?id=response_detection) 10 E-Mail Tracking: You may use this feature to track if a campaign is functional and working as expected (e.g if mails arrive, the landing page works as expected etc.). With this feature, the system will periodically send emails to a test address, while the campaign is running. That will help you to make sure that the attack is executing correctly No [E-Mail Tracking](/doku.php?id=email_tracking) 11 Stop the campaign automatically: if enabled, the campaign will stop on the specified date. No more E-mails will be sent out. Campaigns with landing pages won't be accessible anymore No [Start/Stop a campaign](/doku.php?id=start_a_campaign_campaign_checks) 12 Send a report when you stop the campaign: if enabled, the system will send you a report automatically. Please make sure you configured the according report template No [Create a report template](/doku.php?id=create_campaign_reports) 13 Pinned: “Pinned campaigns” are used to group different campaigns within a view, similar to browser favorites. As soon as you have activated the checkbox “pinned” within the campaign, the campaign will appear on the dashboard within the according frame. No [Pinned Campaigns](/doku.php?id=pinned_scenario) 14 Delete protection: The system will keep a backup of the campaign in the system. If the campaign accidentally gets deleted, the support team will be able to restore it. No - 15 Enable Anonymous Mode: Use this mode to hide all victim data from statistics and reports. No - 16 Suppress duplicated recipients in campaign: Lucy checks if there are emails from the new group who are already included as recipients in the campaign and disables the creation of new recipients in the campaign for those whose emails are already in the campaign. To do this just remove checks from such recipients. No - 17 Antivirus / Firewall Protection: Sometimes a remote Firewall, Spam filter, or Virus Filter might automatically scan all the URL's within a link. As a result, you end up with false positives and LUCY will show all link clicked (success). To avoid such automatic link requests by some 3rd party application you can enable the antivirus/firewall protection and LUCY will ignore all* GET requests for the first 30 or 60 seconds No [Firewall Protection](/doku.php?id=antivirus_spam_protection_interval_setting) STEP 4 - Select one or multiple Scenario(s) Now you need to select one or multiple scenarios. A scenario can be: a) An attack simulation scenario b) An Awareness training c) A technical test like [LHFC](/doku.php?id=create_a_purely_technical_test_with_the_malware_testing_suite) For a) & b): Please, go to Attack Settings and then click the New Scenario button at top right ![expert6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert6.png) If you want to do a [ training only campaign](/doku.php?id=create_an_awareness_only_campaign_no_phishing): Please, go to Awareness Settings and then click the New Awareness button at top right ![expert7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert7.png) You are able to preview every template before selecting it. In the [Preview Mode](/doku.php?id=links_in_preview_mode) you can test the site using all the features (just enter some random login to get to the next page). ![expert8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert8.png) Notes Use multiple Scenarios: You can allocate multiple scenarios within one campaign and they can all be started simultaneously! Example: A company might want to split the employees into 2 or 3 groups. One group could get a phishing mail with a landing page that contains many obvious errors and should be easily detectable while the other scenario is almost perfect. This way the client can identify the variables that drive the awareness in one single campaign. Editing scenarios in a campaign: If you edit a scenario template within a campaign, the changes in the template will only apply to the campaign. If you change a scenario template in the generic settings, then the changes in the template are permanent. Scenario Types: Please learn which [different scenario types are available](/doku.php?id=scenario_types). Update Templates: Make sure you have [downloaded all the latest scenarios](/doku.php?id=download_templates) first. If you allocate multiple scenarios in a campaign, you can still [activate or deactivate](/doku.php?id=scenario_activation) them at a later point. For this tutorial, as an example, we select the Dropbox 1.2 Click Use and select the language. ![expert9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert9.png) STEP 5 - Configure the Base Settings of the template Once you have selected the scenario, you need to configure the Settings of this template. So every template has its own unique settings (mail delivery method, domain, ssl etc.). You could, for example, send an attack simulation X using the built-in mail server and an attack simulation Y using an external mail relay. You find the settings of each scenario if you click on the left navigation item under Attack/Awareness settings within the general campaign settings, and then at the top according to settings in the scenario: ![expert12.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert12.png) Once you opened the specific scenario editing menu, please, navigate to Scenario Settings to get back to this page at a later point. Here is a list of configuration items in this menu: ![expert13.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert13.png) Number Description Mandatory? WIKI link 1 Scenario Name: First, give your scenario a name. This could be the name of the attack for example (like \"social-media-hyperlink-attack\" Yes - 2 Languages: Within the scenario settings you now have the possibility to add further languages. No - 3 Domain: Choose how your recipients will be able to access the webpage by defining the [Domain](/doku.php?id=domain_configuration). This domain does NOT relate to the email domain from where you send the attack simulations. It only refers to the landing page (the domain of the page that appears when users click the link). Finding the appropriate domain name is a very important step for success and it depends very much on your campaign scenario. If you plan to create a fake web mail login you could reserve a domain like \"webmail-server365.com\" and point it to LUCY. Yes [Domain configurations](/doku.php?id=domain_configuration) 4 Sub Domain: If you selected a domain, you can now specify the subdomain. Let's say your main domain is cloudservices.com and you want to spoof your own company called \"spoofy\". The subdomain you could enter in this field could be \"spoofy\". The link to the attack simulation page then would be spoofy.cloudservices.com No - 5 URL Shorting: When you place the %link% variable within the message body and your scenario uses a public domain name, it will automatically be shortened. The link will look like “[http://is.gd/9VjDKF](http://is.gd/9VjDKF)” to fit into one text message. If you use an IP address for your landing page the link will be not shortened. No [URL Shortener](/doku.php?id=url_shortening) 6 Track Opened Emails: Inserts an invisible image into outgoing emails to track if users opened the message. Use this feature carefully as some email servers may put such emails into the Spam Folder. Also, some email clients (like Outlook) block the automatic downloading of images in the Preview window. No [Track Open Emails ](/doku.php?id=track_opened_mails) 7 Advanced Information Gathering: Enable this option to enable advanced information gathering on the user who accesses your attack simulation. No [Advanced Information Gathering](/doku.php?id=advanced_information_gathering) 8 Send Link to Awareness Website Automatically: Send a link to the [Awareness Website](/doku.php?id=awareness_e-learning_settings) after a user has been successfully attacked. Please note that the Awareness Website should be published for this feature to work. You don't need to send the user an email for the training. You could also redirect the user to the training page directly within the attack scenario No [Redirect the user to the training](/doku.php?id=redirecting_users) 9 Success Action: Defines what LUCY considers as a successful attack. There are 4 options. Those success actions define at what point the eLearning should be started. If you choose data entry, the eLearning would only be started once the user enters some data on a landing page. So if you use data entry as a success action on a file-based template without a login, the eLearning will never be sent to the user! Yes [Success Actions](/doku.php?id=success_actions) 10 Collect Data: Choose \"Full\" if you want to record all entered logins and passwords, \"Partial\" to record only the first 3 letters (remaining letters will be masked with asterisks) or \"No\" to skip user data collection. Yes [Do not transmit data](/doku.php?id=prevent_lucy_from_collecting_passwords_in_form_submits) 11 Double Barrel Attack: When using Double Barrel Attack, the system first sends a \"Lure\" email containing some teaser text. After that, the system waits for a while (you can configure that time in settings below) and sends an actual phishing email. The \"Lure\" delay defines, in seconds, the time frame between the Lure and the attack emails for a Double-Barrel Attack. No - 12 Login Regex: Another option is to define some login filters to only catch valid logins (you could define the Domain Name in the User Name field or say that the Password has to be at least 8 characters to be accepted from LUCY). No [More Info](/doku.php?id=regular_expressions_in_login_fields) 13 Password Regex: If you want to validate logins and passwords using regular expressions (\"Login Regexp\" and \"Password Regexp\" fields in Scenario Settings), please set the name of the login field to \"Login\" and the name of the password field to \"Password\". No [More Info](/doku.php?id=regular_expressions_in_login_fields) Once you saved the base scenario settings, a new menu for this specific scenario will appear on the top: ![expert14.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert14.png) It allows you to configure more options. Some of them are part of the next chapter. Two should be listed here: Mail Delivery Method (1): a scenario will be sent by the [mail delivery method](/doku.php?id=mail_delivery_methods_in_lucy) you specified in the generic settings. Those settings can be overwritten for every single scenario here. In LUCY the default delivery method for mails is using the build-in Postfix mail server. As many SPAM filters will block emails coming from a new IP-address that has no reputation, the administrator can decide to configure an external mail relay. SSL (2): If you decide to use SSL for the campaign (either generate a custom certificate or import a trusted certificate) you can do this via the [SSL Wizard](/doku.php?id=ssl_configuration). STEP 7 - Edit your Landing Web Page within Your Campaign After saving the Base Settings, you can now [Edit the Landing Page](/doku.php?id=edit_landing_page), [Upload Your Own Webpage](/doku.php?id=upload_your_web_page) or simply [copy any website on the internet](/doku.php?id=copy_web_page). The Landing Page is the webpage that the users will see when they click on the link in the email they receive. First, select the drop-down menu at the top of the page where you want to edit. Please note, that the same landing page may be available in different languages. So make sure you [edit the correct language](/doku.php?id=dealing_with_multiple_languages_in_your_recipient_group). ![expert15.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert15.png) Note: If you edit a Landing Page which is based on a pre-defined scenario template in a campaign, it won't affect the default scenario templates. Only if you go into Settings → Scenario templates and start editing the templates outside the campaign will all changes will be stored permanently to this specific scenario. Example: Let’s assume that you want to replace the logo on the Landing Page: Just double click on the existing logo (1). In case your new logo is stored in [ File Manager](/doku.php?id=file_browser) then just click Browse Server (2) and add it to the page. ![expert_setup_logo_upload.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert_setup_logo_upload.jpg) If you need to upload a new file to use within the template, navigate to Upload tab, then select your own file (4), Upload it (5) and save the changes by clicking OK. ![expert_setup_logo_upload2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert_setup_logo_upload2.png) STEP 8 - Configure the Message Template (Email or SMS) It’s time to setup email communication (if you want you can also use [SMS](/doku.php?id=smishing) as an alternative). ![expert16.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert16.png) Step 8a: Choose your: Message Type (1): Email or SMS Choose your Language (2) Sender Name (3): The sender name equals the \"from\" line in the SMTP message header and it is only used for display purposes. You can just write a name in there (like \"Jon Smith\"). If you just want to display a different name together with an e-mail address, write the e-mail address with the display name in brackets as such: <Joe Example> joe@example.com. Sender Email (4) address: Note: The most common reason for emails not arriving at your Recipient's Inbox are SPAM filters. When using a known email domain like test@microsoft.com or a non-existing email domain like test@nonexistant.com, your email might get deleted by SPAM filters. Some public email providers are very restrictive and might not even forward emails to your Recipient's SPAM folder. To verify this you can use LUCY's built-in SPAM Checker. Recipient Header (5): Lucy also provides an ability to send all mails via CC or BCC. Fake CC (6): You can define a fake TO: address. Subject (7): Create a Unique Subject Title In your e-mail header, include something unique to the recipient that's unlikely to be in a Spam message. Examples could include your company name, the name of one of your target's competitors, or the name of a person with whom the target is already familiar. Step 8b: Please also choose the language (2) for each group. If you configured an English landing page, then select English also within that recipient group. If you have different groups with different languages within your company you can simply create a group and select a language for each recipient. LUCY then will direct each user to an individual landing page that [matches that language](/doku.php?id=dealing_with_multiple_languages_in_your_recipient_group). Step 8c: Insert a link. The editor allows you to insert a link. You have two options: either insert %link% somewhere in your email body (this will generate a randomized link to identify the user) or select and mark a word in your mail body (1) and then click on the link symbol (2) and then insert the \"LUCY link\" with %link% in the input field. ![select_link.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2dc9d0&media=select_link.png) Please make sure the link variable is set in the HTML code, if you hide it behind another Link. If you type a hyperlink instead of a word, the editor will automatically detect that, and create the link in the code. But this link will be wrong: If you type [http://www.example.com](http://www.example.com) in the editor, LUCY will automatically create a hyperlink to [http://www.example.com](http://www.example.com) in the HTML code (1) and underline the URL. But if you want [http://www.example.com](http://www.example.com) pointing to your LUCY URL, please remove the link pointing to [http://www.example.com](http://www.example.com) in the source code directly, or remove it by clicking on the \"unlink\" symbol (2), and then select the text \"[http://www.example.com](http://www.example.com)\" and click on the link symbol again and insert %link% in the HTML code (3). ![link_behind_l.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7b795e&media=link_behind_l.png) For all other settings please read the [Mail Settings Chapter](/doku.php?id=mail_settings). STEP 9 - Add recipients You need to create the Recipients List in the Menu item Recipients. ![expert17.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert17.png) This is the list of users that will get the phishing emails. You can add them manually, import a file with all your recipients, [import them via LDAP](/doku.php?id=ldap_integration) or even search them on the internet. Once you have created that group, you can select it in your campaign and map them to a specific scenario. You can also define if they should be used only for the Landing Page link, the [Awareness site link (e-learning)](/doku.php?id=awareness_e-learning_settings) or both. ![expert18.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert18.png) ![expert19.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert19.png) Please read the [Recipients Settings Chapter](/doku.php?id=add_mail_recipients) for more configuration options. STEP 10 - Add Scheduling Options to Your Campaign If you want, you can create a schedule to run the campaign using a delay or customized time delays between campaign phases. If you are new to the system, we'd recommend that you go with the Default Timing Settings and skip this step. Please read the [Schedule Settings Chapter](/doku.php?id=scheduler) for more configuration options. STEP 11 - Add E-learning Content to Your Campaign You have the ability to provide the user with some awareness training in case he fails the phishing simulation. A failure to pass the phishing simulation is considered as a successful attack in LUCY. Therefore, it is very important that you define what you consider as an [successful attack](/doku.php?id=success_actions) (because only those who have been successfully tested, will receive an awareness training). The awareness training can be done in two ways: Send the eLearning via Mail: There is the option to have LUCY automatically send some e-learning content to all users or only users who have failed the phishing test. This configuration setting is part of an [Separate Chapter (E-learning).](/doku.php?id=awareness_e-learning_settings) If you want the users to get an e-mail with a link to the awareness content, you need to make sure that in STEP 5 - Configure Basic Settings the checkbox Send Link to Awareness Website Automatically is selected and you configured an awareness template (mail and optional landing page). ![expert20.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert20.png) Redirect the user from the phishing simulation directly to the eLearning page: If you don't want the e-learning content to be delivered via mail you can also [redirect the user directly to a landing page with the awareness content](/doku.php?id=redirecting_users). Among the many variables that may be used in LUCY there is one called %awareness%. You can place that in the redirect input field described above (hyperlink based or web-based). It will redirect the user automatically to the eLearning content when a link is clicked or data is submitted. ![expert21.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert21.png) STEP 12 - Start Your Campaign Now you are ready to start. Although we recommend performing a test run with a single recipient before you start attacking all users, additionally it is a good idea to use the [LUCY SPAM Checker](/doku.php?id=spam_check). Just click Start and LUCY will test your settings before starting the campaign. If you want to skip the checks, press Skip Checks. Your first recipients should receive the emails within seconds. Please read the [Start Campaign Settings Page](/doku.php?id=start_a_campaign_campaign_checks) for more configuration options. If you experience any problems with starting/running your campaign, please [Consult the Troubleshoot Section](/doku.php?id=troubleshooting_known_issues) first. ![expert22.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert22.png) STEP 13 - Monitor Your Campaign The progress of the campaign can always be monitored in Real-Time. Click Statistics within your campaign. Please, read the [Statistics Chapter](/doku.php?id=monitor_a_campaign_statistics) for more configuration options. ![expert23.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert23.png) STEP 14 - Create Reports Once you have finished the campaign, you may either [export the raw data](/doku.php?id=export_campaign_data) (CSV/TXT export) or create different types of reports (PDF, HTML, DOX or raw export). Please read the [Creating Reports Chapter](/doku.php?id=create_campaign_reports) for more configuration options. ![expert24.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expert24.png) Troubleshooting If you experience problems with your campaign please use this WIKI with the free text search option or contact us under support (at) lucysecurity.com expert_mode_campaign_creation.txt · Last modified: 2022/10/28 12:32 by editor8 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 41,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_phishing_campaign_with_malware_simulations",
      "content": "create_a_phishing_campaign_with_malware_simulations [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_phishing_campaign_with_malware_simulations Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_phishing_campaign_with_malware_simulations FILE BASED ATTACKS (INSIDE OUT) Introduction Inside-Out attacks try to initiate network connections from the trusted (corporate) to the untrusted (Internet) network. These attacks require that an “insider” execute code. This is usually because the person that executes the code is unaware of security issues and doesn’t realize that an application can do anything to their system within the limits of the access that is granted to that user. The inside out attack consists of three steps: STEP 1 Getting the backdoor in the network (delivery) STEP 2 Executing the backdoor by the user (execution) STEP 3 Sending the data out (output delivery) LUCY's approach With LUCY's file-based attack you are able to perform the following steps: STEP 0 Trojan compilation: Via the Web GUI you will be able to define the settings of the trojan simulation (e.g. what the file should look like & do upon execution). The trojan simulation can be either an executable (which gets compiled during the campaign), some payload which you upload to LUCY yourself or some [Office file that contains a Macro](/doku.php?id=create_a_phishing_campaign_with_a_word_macro). STEP 1 Delivery: The trojan simulation can be integrated into a landing page on LUCY so it may be downloaded from the clients or it can be attached in the mail. STEP 2 Execution: By using a phishing mail which can be edited on LUCY you can try to lure the recipient into opening the Trojan simulation. Once the Malware Simulation is executed on a Windows Client, you can see the file in the Task Manager as \"file.exe\". LUCY has some command restrictions to prevent LUCY administrators from damaging the client's system, therefore not all shell commands are allowed. ![117.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=aa6cad&media=117.jpg) STEP 3 Output Delivery: The files compiled by LUCY communicate back to your server using HTTP/HTTPS. Therefore LUCY needs to be reachable via those protocols to make the scenarios work. Note: The files are non-intrusive, run only in the memory and have no effect on the System (no changes are made). In the current edition, the executable runs only on Windows (Windows 7/8/10). File based attack simulation templates List of all file-based attack templates, with Success actions and Preferable delivery methods can be found [here](/doku.php?id=file_based_attack_simulation_templates). File based attack simulation configuration STEP 1 - Create a New Campaign: After the login, you can create your first Phishing Campaign by pressing the button “New Campaign”. Then choose Attack Simulation campaign type. ![file-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=15ba3c&media=file-1.png) STEP 2 - Choose Attack Type: In order to configure file-based campaign choose File Attack type. ![file-2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d5f267&media=file-2.png) STEP 3 - Select or Create a Client: Create a client or choose the built-in client (a client can be your own organization or the company that asked you to perform a phishing test). This is important because you can also create [view only accounts](/doku.php?id=user_management) which are associated with those clients. ![file-3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=36e730&media=file-3.png) New clients are created under Settings → Clients → New Client. ![file-4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ce7a5d&media=file-4.png) STEP 4 - Select your Phishing Scenario: Now you need to select one or multiple phishing scenarios. Since you are going to do a file-based attack you need to pick a scenario either from the \"file-based templates\" or the \"mixed templates\" ![file-5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1a15f2&media=file-5.png) You are able to preview every template before selecting it. In the [Preview Mode](/doku.php?id=links_in_preview_mode) you can test the site using all the features (just enter some random login to get to the next page). ![file-6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6a75af&media=file-6.png) Note: You can allocate multiple scenarios within one campaign and they can all be started simultaneously! Example: A company might want to split the employees into 2 or 3 groups. One group could get a phishing mail with a landing page that contains many obvious errors and should be easily detectable while the other scenario is almost perfect. This way the client can identify the variables that drive the awareness in one single campaign. STEP 5: For this tutorial, as an example, we select the SRA Cloud Encryption 1.1 template, where the user will be asked to download an encrypted file. To select the template for the campaign click the Select Language button and choose the preferred language from the drop-down menu. ![file-7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=eb206e&media=file-7.png) STEP 6 - Configure basic attack settings of Your Campaign Once you have selected the scenario, you need to configure the Base Settings of the campaign. First, give your campaign a name and then choose how your recipients will be able to access LUCY by defining the [Domain](/doku.php?id=domain_configuration). Finding the appropriate domain name is a very important step for success and it depends very much on your campaign scenario. If you plan to create a fake webmail login you might try to reserve a domain like \"webmail-server365.com\" and point it to LUCY. ![file-8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=dd1b1d&media=file-8.png) STEP 7 - Configure Your File: There are several types of the file available in a file-based campaign: Archive Tunnel Executable Java Applet PDF document In this particular case, we choose the Archive type of the file with .RAR extension. Instead of sending the attachment as a plain file (e.g. file.exe) or providing it as an executable file to download, you can set the compression option (this is recommended). Like this, the file will be archived. ![file-9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c0c443&media=file-9.png) Custom file name: you can give the archive a custom name (e.g. \"encrypteddoc.zip\") Archive Type: you can choose which compression type you want (the common type which is supported by all windows clients is .zip; other compression types will need additional client software) Password: You can set up a password for your archive and insert it into the message to make the simulation more realistic. Delivery Method checkbox: ![file-10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=03b231&media=file-10.png) Then add Recipients to the campaign and watch through the Review of the campaign. ![file-11.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c69ba1&media=file-11.png) The campaign can be started from that point by pushing the Start button. Otherwise, push Go to the Campaign button in order to set up the campaign further. All the further configuration is performed through Base Settings. ![file-12.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8c2691&media=file-12.png) STEP 8 - Edit your Landing Web Page within Your Campaign: After saving the Base Settings, you can now [Edit the Landing Page](/doku.php?id=edit_landing_page), [Upload Your Own Webpage](/doku.php?id=upload_your_web_page) or simply [copy any website on the internet](/doku.php?id=copy_web_page). The Landing Page is the webpage that the users will see when they click on the link in the email they receive. First, select the drop-down menu at the top of the page where you want to edit. Please note that the same landing page may be available in different languages. So make sure you [edit the correct language](/doku.php?id=dealing_with_multiple_languages_in_your_recipient_group). When you choose a file-based attack scenario you will see some additional configuration options appearing at the bottom of the page. Those settings define what file is provided within the download button for the recipient and what the executable should do upon opening. We recommend starting with a \"harmless\", non-intrusive trojan simulation that doesn't violate the recipients' data privacy. A harmless simulation is, for example, the ConsolePost\" Trojan, which will stealthily execute a few pre-defined commands (like \"whoami\") in the user's shell and send the output back to LUCY. You have a few additional options: Decide if the user should see [some fake GUI](/doku.php?id=file_based_gui_options) upon execution or not Specify a specific error message that will appear upon execution Specify the Trojan settings (e.g. enable/disable specific Trojan features or define custom commands) ![79.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4265c7&media=79.jpg) STEP 9 - Configure Message Settings (Email): It’s time to set up email communication (if you want you can also use [SMS](/doku.php?id=smishing) as an alternative). Choose your sender's name, email address, and subject. Please also choose the language for each group. If you configured an English landing page, then select English also within that recipient group. If you have different groups with different languages within your company you can simply create a group and select a language for each recipient. LUCY then will direct each user to an individual landing page that [matches that language](/doku.php?id=dealing_with_multiple_languages_in_your_recipient_group). Please read the [Mail Settings Chapter](/doku.php?id=mail_settings) for more configuration options. ![42.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a1dbee&media=42.jpg) When choosing a file-based scenario LUCY will offer you additionally to send the Trojan simulation via mail. If you already have chosen a landing page where the Trojan simulation can be downloaded it is not necessary to attach it via mail as well. Therefore if you don't want LUCY to send the file via mail choose \"NA\" within the malware simulation template dropdown menu: ![mail_file.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ced2b0&media=mail_file.png) STEP 10 - Add Recipients to Your Campaign: You need to create the Recipients List in the Menu item \"Recipients\". ![47.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=201ce0&media=47.jpg) This is the list of users that will get the phishing emails. You can add them manually, import a file with all your recipients or even search them on the internet. Once you have created that group, you can select it in your campaign and map it to a specific scenario. You can also define if they should be used only for the Landing Page link, the [Awareness site link (e-learning)](/doku.php?id=awareness_e-learning_settings), or both. ![49.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=198d98&media=49.jpg) Please read the [Recipients Settings Chapter](/doku.php?id=add_mail_recipients) for more configuration options. STEP 11 - Add Scheduling Options to Your Campaign: If you want, you can create a schedule to run the campaign using a delay or customized time delays between campaign phases. If you are new to the system, we'd recommend that you go with the Default Timing Settings and skip this step. Please read the [Schedule Settings Chapter](/doku.php?id=scheduler) for more configuration options. Step 12 - Add E-learning Content to Your Campaign There is the option to have LUCY automatically send some e-learning content to all users or only users who have failed the phishing test. This configuration setting is part of an [Separate Chapter (E-learning).](/doku.php?id=awareness_e-learning_settings) Step 13 - Start Your Campaign: Now you are ready to start. Although we recommend performing a test run with a single recipient before you start attacking all users, additionally it is a good idea to use the [LUCY SPAM Checker](/doku.php?id=spam_check). Just click “Real Attack” and LUCY will test your settings before starting the campaign. If you want to skip the checks, press \"Skip Checks\". Your first recipients should receive the emails within seconds. Please read the [Start Campaign Settings Page](/doku.php?id=start_a_campaign_campaign_checks) for more configuration options. If you experience any problems with starting/running your campaign, please [Consult the Troubleshoot Section](/doku.php?id=troubleshooting_known_issues) first. ![59.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=626826&media=59.jpg) Step 14 - Monitor Your Campaign: The progress of the campaign can always be monitored in Real-Time. Click \"Statistics\" within your campaign. Please read the [Statistics Chapter](/doku.php?id=monitor_a_campaign_statistics) for more configuration options. ![63.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=baf048&media=63.jpg) The output from each Trojan execution can be found under \"statistics/collected data\": ![collected_data.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=b0f488&media=collected_data.png) Step 15 - Create Reports: Once you have finished the campaign, you may create different types of reports (PDF, HTML or raw export). Please read the [Creating Reports Chapter](/doku.php?id=create_campaign_reports) for more configuration options. ![69.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3db392&media=69.jpg) Edit File based templates All attachments can be edited within LUCY. The Attachments Settings can be stored as Default templates under Settings/Attachment templates. ![83.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ed5f98&media=83.jpg) ![84.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c4a954&media=84.jpg) You can rename the file templates from file.exe to any filename. In LUCY < 3.2 you can do that by downloading the file.exe, renaming it & then uploading it back to the generic file template. Technical Details about the data delivery Upon execution, this tool will execute the predefined commands or access documents. It will open the built-in Internet Explorer or another default browser (in hidden mode) or access Outlook and send out the collected data to LUCY via HTTP or HTTPS or via SMPT (it will automatically choose HTTPS if you run your campaign via SSL). This tool will also work in environments where the Internet is accessed with Proxy servers - only allowing access for authorized Windows users. The file can then be downloaded as a plain exe or as a zipped archive. Note: The current edition of LUCY will include tools that access files on shares and upload them to the campaign or access the email client via MAPI. These features have restricted configuration options in the community edition (like maximum number of files that can be uploaded, etc.) the same goes for the number of screenshots or length of videos. Only the Commercial Editions have no limitations. You can upload your own custom payload. But keep in mind that reverse channels to LUCY won’t work; only attachments from LUCY are compiled in Real Time with certain settings (IP, Domain Name, URL etc.). Delivery Challenges Executable files usually cannot be delivered to a user via e-mail attachment. These are blocked by most email programs. In order to deliver a malware simulation to the user, the attachment should not be provided via email, but via download on a website. There you have the possibility to download the file: Inside an archve (zip, jar, rar etc.) Inside an encrypted file (e.g. zip with a password) [Inside a PDF](/doku.php?id=pdf_attacks) [Tunneled through an aplet](/doku.php?id=create_a_phishing_campaign_with_a_java_dropper_applet) Download as a plain exe Those settings can be applied within the scenario settings of the specific template. Choose archive (1), Tunnel (2) or PDF (3) for the according method: ![sc_et_fil.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=002af0&media=sc_et_fil.png) Q&A Q: Do the files need to be installed? A: No, the files are non-intrusive, run only in the memory and have no effect on the System (no changes are made). Q: Do the files need to be run with elevated permissions? A: No. The files can run with limited, standard windows user rights. Q: Our filters block file types like .exe- How can I still use the files? A: Use a different file format within the scenario settings (e.g. place the exe in an archive like a zip file or place it within a PDF as an attachment). Q: Can I run the files on MAC or Linux? A: No. In the current edition, the executable runs only on Windows (Windows 7/8/10). Q: Windows Defender blocks the files - can this be prevented? A: Yes, It can be prevented using \"whitelisting\" inside the Windows Defender Security Center. But it is normal that the defender blocks the code as the defender will block any unknown code which is not officially signed. The files unfortunately cannot be signed, as the hash value is different for each user (the files get compiled on the fly individually for every single user) create_a_phishing_campaign_with_malware_simulations.txt · Last modified: 2021/12/15 13:20 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 42,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_phishing_campaign_with_only_a_hyperlink_in_mail_no_landing_page",
      "content": "create_a_phishing_campaign_with_only_a_hyperlink_in_mail_no_landing_page [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_phishing_campaign_with_only_a_hyperlink_in_mail_no_landing_page Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_phishing_campaign_with_only_a_hyperlink_in_mail_no_landing_page Hyperlink based campaigns A hyperlink based campaign will send users a mail with a randomized tracking URL within the mail. If users click that hyperlink they get redirected to an external webpage which needs to be defined within the campaign. As a result a hyperlink only campaign does not contain a webpage hosted on LUCY, it only contains a message template (mail or SMS) which a hyperlink. To start a \"hyperlink campaign\" go through the following steps: Press \"New Campaign\". ![1hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=3010da&media=1hyperlink.png) Select Attack Simulation, click \"Next\" button. ![2hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=71f6e8&media=2hyperlink.png) Select Hyperlink attack, click \"Next\" button. ![3hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=dda7b9&media=3hyperlink.png) Name your Hyperlink campaign and choose a client, click \"Next\" button. ![4hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6f42b6&media=4hyperlink.png) If you mark \"include training\" and you want to set up an Awareness course - you can find information here [Awareness (eLearning) Settings](/doku.php?id=awareness_e-learning_settings) All information regarding advanced settings you can find here - [Expert set up](/doku.php?id=expert_mode_campaign_creation). You can always set up these settings after creating a campaign. Find the necessary template, which you think will be the best for your business. Select language and then press next. You can jump on any previous step by clicking on it in the list on the left side of the wizard window. ![7hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2c1c3b&media=7hyperlink.png) Choose domain according to your system settings, Mark SSL Certificate if you have it and then fill Sender Name, Sender Email and Subject of your Email. These lines should be filled and look like a real mail. ![8hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=216458&media=8hyperlink.png) Add recipients in your campaign, you can add a group, if you add it before in recipients tab - [Here](/doku.php?id=add_mail_recipients) is more information regarding recipients or you can add manually. Click \"Next\" button. ![9hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=736342&media=9hyperlink.png) Check all settings again, if everything good - click \"Next\" button. ![10hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4424bd&media=10hyperlink.png) Here you go! You can start your campaign right now or you can go to the campaign and set up other settings. ![11hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0be23c&media=11hyperlink.png) Redirection in hyperlink based campaigns In case nothing has been defined in the redirect field in the campaign, the recipient would be redirected to the Google main page once the hyperlink has been press in the campaign. This is expected and it means that the link actually works. The common redirection to be used with a hyperlink phishing simulation is the awareness webpage. To use this go to Campaign > Attack Settings > Edit Scenario Settings and insert into the field \"Redirect ULR\" the value: %awareness% ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=74ad84&media=hl_awareness_01.png) Make sure to add the awareness scenario into the campaign by going to Campaign > Awareness Settings > New Awareness ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9d0e43&media=hl_awareness_02.png) The training can be chosen from the list. The list of available awareness templates can be extended by going to Settings > Templates > Download Templates. For more redirection options please consult [this](/doku.php?id=redirecting_users) article. create_a_phishing_campaign_with_only_a_hyperlink_in_mail_no_landing_page.txt · Last modified: 2021/10/01 18:22 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 43,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_purely_technical_test_with_the_malware_testing_suite",
      "content": "create_a_purely_technical_test_with_the_malware_testing_suite [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_purely_technical_test_with_the_malware_testing_suite Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_purely_technical_test_with_the_malware_testing_suite The Malware Testing Toolkit AKA LHFC (Low Hanging Fruit Collector) ![85.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a1142e&media=85.jpg) The idea behind LHFC: testing your defenses You have invested time, effort, and money in defenses. But, how do you know they are working? Unless you are willing to intentionally get owned or you want to introduce a piece of malware into your environment, you need safe and effective ways to test your visibility. This is where LUCY's LHFC comes in place. There are multiple products that may help detect a malware activity. While it can be detected at the host level, you have another chance detecting it at the network level. These devices include, but are not limited to: Firewalls (unfortunately, the larger the network, the more difficult it can be to track down a host and determine the functionality of the host. Knowing the functionality can be instrumental in determining if the traffic is normal or suspicious) Web Proxies IDS (an intrusion detection system can potentially detect malware activity if a rule is triggered. This is useful as a layered defense, but the traffic will usually have to be something that is previously known and understood in order for a rule to hit. If the IDS has additional intelligence such as traffic thresholds or trending, then there is a low chance it could be detected from this capability) Malware/anomalous traffic detection appliances (Malware detection appliances go a step beyond traditional IDS by integrating multiple detection mechanisms into one device. Some for example, use an layered detection mechanism with Antivirus definitions, Network signatures, File Reputation, IP reputation & Static file analysis. Security Information and Event Management (SIEM) solutions (Security Information and Event Management solutions can also help detect the presence of a malware, but it is usually using logs from one or more of the devices mentioned above. The advantage here is greater visibility by using multiple different types of logs—from hosts to network gear. Additionally, some advanced SIEMs can do trending to detect and understand what is normal and then set thresholds to alert on unusual traffic). Background Info about APT (Advanced Persistent Threats) An Advanced Persistent Threat is a Network attack in which an unauthorized person gains access to a network and stays there undetected for a long period of time. The intention of an APT attack is to steal data rather than to cause damage to the network or organization. There are hundreds of millions of Malware variations which makes it extremely challenging to protect organizations from APT. Hackers who employ APTs are a different breed compared to traditional Malware attackers. A real and constant threat to the world's companies and networks, APT hackers tend to be well organized, working together as part of a professional team. Their goal, typically, is to steal valuable intellectual property, such as confidential project descriptions, contracts, and patent information. Generally, APT hackers employ familiar methods, using phishing emails or other tricks to fool users into downloading Malware. Those who deal in APTs have the following in common: Customized – An attack on your network is a carefully planned heist. Attackers carry out extensive research and tailor the attack to evade your set defenses, explore your network, and steal determined types of high-value data. Surgical – Rather than being scattered to the wind, targeted attacks and APTs are carefully delivered to specific targets, often using highly convincing emails intended for a single individual within your organization as a penetration vector. Highly Sophisticated – Today’s targeted attacks and Advanced Persistent Threats use complex techniques to conceal themselves from your defenses. Once inside the network, they can alter their appearance, switch ports and protocols, and remain undetected for long periods of time as they move around the network to find and steal your data. Detecting these attacks requires a modern advanced solution that provides visibility into every corner of your network. Since there are millions of Malware types, and even more combinations of attack patterns: How would a IT security officer know if the network can prevent APT attacks? This question can now be answered with LUCY’s Malware Testing Module (initially called Low Hanging Fruit Collector). It simulates APT behavior without harming your infrastructure. It enables you to test your defenses (AV, hardening, monitoring etc.). So What is the Typical APT Behavior? APTs rapidly escalate from compromising a single computer to taking over the whole environment. They do this by reading an authentication database, stealing credentials, and reusing them. They learn which user (or service) accounts have elevated privileges and permissions, then go through those accounts to compromise assets within the environment. APTs often add stolen data to internal collection points before moving it outside over different channels. What is LUCY's APT Simulation doing and which questions can the tool answer? The malware simulation toolkit is an advanced malware simulation suite capable of emulating various threat simulations. The toolkit is allowing an auditor to access an advanced set of features equivalent to many of the tools employed by criminal gangs. The tool therefore allows the user to perform security checks without involving employees outside your IT Department. Depending on your initial settings the tool can connect to the domain controller searching for passwords in configuration files, access shares in the network, search for sensitive data locally and remotely, search for privileged accounts and for clear text password hashes in the Memory. The Tool may also test if it possible to connect back to the attacker using common attack methods like reverse DNS or HTTP Tunneling Techniques. We simulate all those attack patterns and report the result back to the security officer allowing him/her to identify and close GAPS in the security infrastructure. Main Questions answered by this tool: Does your AV detect known Malware downloads? Is your SIEM able to trigger activities from this tool? Is Malware able to modify System Settings? Is Malware able to communicate to External servers? Can Malware access sensitive data on the local host or share drives? Etc. LHFC SETUP STEP 1 - Create a New Campaign After the login, you can create your first Phishing Campaign by pressing the button “New”.Choose Your Configuration Mode: You may either continue with the Campaign or the Campaign Wizard. We recommend using the Setup Wizard when used for the first time. ![lhfs_cr_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=811244&media=lhfs_cr_1.png) STEP 2 - Select or Create a Client: Create a client or choose the built in client (a client can be your own organization or the company who asked you to perform a phishing test). This is important because you can also create [view only accounts](/doku.php?id=user_management) which are associated with those clients. ![lhfs_cr_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0dec5d&media=lhfs_cr_2.png) New clients can be created under \"clients\". In LUCY this is created under settings/clients. ![lhfs_cr_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=483bdf&media=lhfs_cr_3.png) STEP 3 - Select your Phishing Scenario: Now you need to select one or multiple phishing scenarios. Since you are going to do a technical testing you need to pick the technical malware testing template: ![lhfs_cr_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=956a93&media=lhfs_cr_4.png) STEP 4 - Configure the Base Settings of Your Campaign Once you have selected the scenario, you need to configure the Base Settings of the campaign. First give your campaign a name and then choose how your admin will be able to access LUCY by defining the [Domain](/doku.php?id=domain_configuration). As this is a technical scenario it will work with an IP address as well. STEP 5 - Fine Tune the Basic Settings (each scenario has its own base settings): There a few Optional Settings that you can apply within the Base Settings. For the technical testing you can adjust those settings within the \"scenario settings\": File Type: you can choose which compression type you want (the common type which is supported by all windows clients is .zip; other compression types will need an additional client software) Custom file name: you can give the archive a custom name (e.g. \"LHFC.zip\") Password: Most common filters (HTTP,SMTP etc.) will block the download of an executable or the sending of an email attachment. Setting a password might help you to get the executable on the desired target host. ![lhfs_cr_10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=44bbbe&media=lhfs_cr_10.png) STEP 6 - Edit the LHFC download page: After saving the Base Settings, you can now [Edit the Landing Page](/doku.php?id=edit_landing_page). On this page, you can configure the settings of the tool. When downloaded via email or the Web, the tool will be pre-configured with those settings. ![lhfs_cr_7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=52e4a1&media=lhfs_cr_7.png) All LHFC settings can be saved as general templates as well for future use: ![tempalt_f.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=68c9fc&media=tempalt_f.png) An important setting is “showgui”. If disabled the client won’t see the testing suite. Upon execution the vulnerability tests are performed automatically and all data is send back to LUCY. The toolkit process visible in the task manager runs in the background under its name (e.g. file.exe). ![89.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5054e0&media=89.jpg) STEP 7 - Configure Message Settings (Email): It’s time to setup email communication. Choose your sender's name, email address and subject. The reason why you need a mail recipient is because within the mail you will find a custom download link to LHFC (keep in mind that LHFC is compiled on the fly within the campaign. That's why you cannot just download the tool from the file based templates). When choosing the LHFC scenario, LUCY will offer you additionally to send the tool via mail. If you already have chosen a landing page where LHFC can be downloaded it is not necessary to attach it via mail as well. Therefore if you don't want LUCY to send the file via mail choose \"NA\" within the malware simulation template dropdown menu. STEP 8 - Add Recipients to Your Campaign: You need to create the Recipients List in the Menu item \"Recipients\". In this case it would be the account of an admin, who will execute the file on the target host. ![lhfs_cr_8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=adb02e&media=lhfs_cr_8.png) Please read the [Recipients Settings Chapter](/doku.php?id=add_mail_recipients) for more configuration options. Step 9 - Start Your Campaign: Now you are ready to start. If you want to skip the checks, press \"Skip Checks\". Your first recipients should receive the emails within seconds. Please read the [Start Campaign Settings Page](/doku.php?id=start_a_campaign_campaign_checks) for more configuration options. If you experience any problems with starting/running your campaign, please [Consult the Troubleshoot Section](/doku.php?id=troubleshooting_known_issues) first. ![lhfs_cr_9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fa7b2c&media=lhfs_cr_9.png) Step 12 - Track the output: Click \"Statistics\" within your campaign. Please read the [Statistics Chapter](/doku.php?id=monitor_a_campaign_statistics) for more configuration options. The output from LHFC can be found under \"statistics/collected data\" in case you have configured, not to show the GUI. An alternative is to create an report directly from the GUI. If you click on save report it will create a folder containing a html report within the same directory of LHFC. The save button is only available after all tests have been completed. ![lhfc_save.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8621ca&media=lhfc_save.png) AV problems & security warnings Antivirus flagged the tool as malicious: some antivirus solutions might flag the tool as a virus or suspicious file. Especially behavior based AV's may show such alerts. It means that your AV is able to detect certain methods used by the tool that are commonly used by malware. This is a good indication your AV is able to detect also malicious code without depending on signatures. Since the toolkit imitates malware activities this alert is not wrong by default. You can ignore it or if necessary disable your AV if this prevents you from completing the malware assessment test. Windows Security Warnings: there are multiple security warnings upon opening or execution of the file. If you open the file as a mail attachment or download, window will warn you that executable are dangerous and can harm your computer. This warning applies to all executable content and is not related to the toolkit. You can ignore this warning or adjust your windows security settings. MALWARE TESTING TOOLKIT SINGLE CHECKS Check Name Background Info Check Details Command line access test All tools tested within the custom malware test are custom made and use windows functionalities (not exploits) to access data within the protected network. This makes them harder to detect. Still they are not built in a way that they hide their malicious functionality (e.g. they post back data to a server using long base64 strings in a fix rhythm). This tool will allow executing commands which are hardcoded into the code. We verify if an external program can initiate the shell and execute commands. Recent documents access If a malware is able to access the recent doc path it will learn a lot about what files were recently used and where they are stored. The tool is able to use the cached user credentials to access the last documents (locally or on a share drive). This Tool will read out the absolute paths from the recent docs directory and try to access it. Outlook access An external tool is able to overwrite the security warning from outlook and access all your mails or even send mails via exchange on behalf of the user that got attacked. This tool will use Outlook MAPI, overwrite the security message and try to access the last message in the inbox. Screenshot test A Malware that can make screenshots might even record on screen activity (like passwords entered within an onscreen keyboard). This tool will try to make screenshots of the current desktop. Webcam access test A Malware that can make pictures with the webcam might be used to spy on users or to blackmail them. This tool will try to take a picture with the webcam. Microphone check Malware is capable of not only embedding itself onto computer systems without being identified by traditional anti-virus applications, but able to execute total surveillance and monitoring that includes turning on your camera and microphone, copying your data, and recording emails and chat conversations. We will test if it is possible for a third party application to access and record from an attached or built in microphone. Access to the Internet via IE Inside-Out attacks try to initiate network connections from the trusted (corporate) to the untrusted (Internet) network. These attacks require that an “insider” execute code. This is either because the person that executes the code is unaware of security issues and doesn’t realize that an application can do anything to their system within the limits of the access that is granted to that user or purposely executing this code to bypass security restrictions (for unknown purposes). The technique derives its stealthy nature by virtue of the fact that it sends traffic through ports that most firewalls will permit through. In our scenario we used http as the protocol to send out the data. Even though an HTTP connection was designed to provide web services to users, HTTP is simply data passing between a client and a server with headers to identify it as web content. This means that an HTTP connection has become conduit for a full-fledged bi-directional connection between two networks. Inside out attack consists of three steps (Getting the backdoor in the network - delivery, Executing the backdoor by the user - execution, Sending the data out - output delivery) We verify if a malware is able to connect back to the internet using the internet explorer via HTTP. Access to the Internet via http Malware could have its own custom web browser embedded. We verify if a malware is able to connect back to the internet using an own HTTP class. This simulates a little portable tool with its own build in custom browser. HTTP access with IE proxy Malware could have its own custom web browser integrated and read out proxy details from registry. We verify if a malware is able to connect back to the internet using an own HTTP class with the current proxy settings. HTTP access with IE proxy with credentials Malware could have its own custom web browser integrated and read out proxy details from registry and access the stored credentials We will try to access the internet using the default credentials stored on the system. This simulates a malware which can bypass security controls like integrated windows authentication on a corporate proxy. HTTP access with proxy from Firefox settings In case the company disabled IE the malware could try to access the internet using Firefox. We verify if a malware is able to connect back to the internet using an own HTTP class with the current proxy settings accessed in a different browser (Firefox). Access to the Internet via https The malware might hide its activity by using an encrypted connection. We verify if a malware is able to connect back to the internet via HTTPS using an own HTTP class simulating a malware that has a built in custom web browser to access the internet. DNS tunneling test By using DNS tunneling, a malware will be able to access a remote server via http even though the proxy is blocking the website. Normally when you consider a proxy server, all the HTTP traffic will be received by a proxy server, but no DNS traffic will fall on a proxy server. So exploiting this DNS traffic will allow us to use all blocked websites as well. So on a DNS tunnel, data are encapsulated within DNS queries and replies, and the DNS domain name lookup system is used to send data bi-directionally. Therefore, as long as you can do domain name lookups on a network, you can tunnel any kind of data you want to a remote system, including the Internet. We can use DNS records (NULLTXTSRVMXCNAME) to encapsulate (downstream) IP traffic. We will test if we can resolve an external 3rd party domain on the client directly ICMP test ICMP tunneling works by injecting arbitrary data into an echo packet sent to a remote computer. The remote computer replies in the same manner, injecting an answer into another ICMP packet and sending it back. The client performs all communication using ICMP echo request packets, while the proxy uses echo reply packets. We can send various ICMP packets with some random data and random sizes inside to an external host. SMTP test SMTP is a common protocol for malware to distribute among users We verify if a malware is able to connect to the internet directly using a protocol like SMTP. FTP test A common protocol for malware to use to export collected data is FTP We verify if a malware is able to connect to the internet directly using a protocol like FTP. SSH test Using SSH a malware could establish an outbound connection that cannot be logged We verify if a malware is able to connect to the internet directly using a protocol like SSH. Check mounted shares An attack can use one or many different methods to try and replicate between computer systems. When computers were provided a mechanism to connect to each other directly via a network, malware writers were presented with another transport mechanism that had the potential to exceed the abilities of removable media to spread malicious code. Poorly implemented security on network shares produces an environment where malware can replicate to a large number of computers connected to the network. This method has largely replaced the manual method of using removable media. We will try to access known shares and test their access security and in a second step we will scan within the same network range as the host access to shares as an anonymous user. Check non http on 80/443 port Attack techniques have evolved to where traditional packet filtering firewalls, proxies, and even intrusion prevention systems are dramatically less effective at securing a corporate network. The common flaw in most perimeters is that they are designed to thwart inbound session establishment, while being relatively permissive in what they pass towards the Internet. If a malware can only contact remote hosts on certain ports (example: port 80), the solution would be to contact remote hosts via allowed port. This method is called HTTP tunneling, which is a method of evading network firewalls. When people hear the words HTTP tunnels they often think quite literally. To them it is some data being transported inside of HTTP data. This line of reasoning is in actuality not far off from the truth. Data is being transported via port 80 and that port is normally associated with HTTP, but that is where the literal interpretation mentioned above ends. Typically, data is not encapsulated within the HTTP protocol itself, but merely sent over port 80. In this test we will try to establish a SSH connection to our host on port 80 & 443 and execute a few unix commands. Check domain shares An attack can use one or many different methods to try and replicate between computer systems. When computers were provided a mechanism to connect to each other directly via a network, malware writers were presented with another transport mechanism that had the potential to exceed the abilities of removable media to spread malicious code. Poorly implemented security on network shares produces an environment where malware can replicate to a large number of computers connected to the network. This method has largely replaced the manual method of using removable media. We will try to access known shares and test their access security and in a second step we will scan within the same network range as the host access to shares as an anonymous user. Port scan The malware, after infecting a host, will try to scan neighboring IP addresses to find the next targets. The malware writers do not depend on standard commands, as monitoring and restricting the commands might lead to containment of the malware Instead they try to evaluate the next host by scanning all the IP addresses in the address space of the host. We will scan a small selection of hosts in the same network for some common ports. Force firewall drops A malware might try to connect on some random unknown ports back to the attacker We will test if an outbound TCP connection on a very high port is possible. Usually such connections are suspicious and should be dropped. Your SIEM should be able to detect such abnormal network activity. Direct DNS access In this test we verify if a malware would be able to perform a DNS tunneling attack by simply resolving a third party domain from the client. If you see that the server resolves to an IP address it means that your client is able to make DNS queries to external domains using internal DNS forwarders. This is a basic requirement for a malware to communicate with an attacker in the internet via DNS. If you want to test if your SIEM is able to trigger real world DNS tunneling traffic please use the test \"DNS tunneling test\". We will test if we can resolve an external 3rd party domain on the client directly. Suspicious communication When you visit a malicious website, a number of actions may occur. A search result in Google may mark the result with the message \"This website may harm your computer\" and prevent you from visiting the address.The web browser, such as Internet Explorer, Firefox and Chrome, maintain their own list of known malware sites and will prevent or warn you from accessing the site. So usually you should be safe from known malware sites. But in this test you also want to check if your SIEM will detect suspicious GET requests to malware related sites. First we try to parse a current list of a few malware releated websites like [https://www.malwaredomainlist.com](https://www.malwaredomainlist.com). The we try to make simple GET requests to a few selected sites to see if a connection to such malicious sites gets triggered. File operations on share Ransomware is malicious software that cyber criminals use to hold your computer or computer files for ransom, demanding payment from you to get them back. Sadly, ransomware is becoming an increasingly popular way for malware authors to extort money from companies and consumers alike We will test on a mounted share (if detected) if multiple hundret write/read operations within a short time windows from the same source are possible. IRC check Internet Relay Chat (IRC) is an application layer protocol that facilitates communication in the form of text. The chat process works on a client/server networking model. These clients communicate with chat servers to transfer messages to other clients. IRC is an open protocol that uses TCP. Channels on a network can be displayed using the IRC command LIST. IRC is wideley used anmong the hacker community to share information. We will test if we can connect to an external IRC server and channel, the send a couple of messages and after waiting a short period disconnect from thet server. OS version This check is only informational In this step we try to identify which OS we are connected to. Search for local administrators Malicious Software infections on the client. If a user has local administrative rights they are able to disable the security enhancements that protect them (Firewall, Bitlocker, Antimalware etc.). This check verifies if there are users which have local admin rights on the PC. Firewall test If someone brings in a laptop that is infected, it will try to infect everyone on the LAN, bypassing the corporate firewall. If you have local firewalls also running it will not successfully pass the virus on. We verify is the firewall is running and then test, if it can be disabled. Antiviruses test Even if you’re careful, you should use an antivirus. It’s possible you may be infected by a zero-day vulnerability in a browser plugin like Adobe Flash or your web browser itself. Even if you keep your browser updated, you may be infected by a new, unpatched vulnerability just by visiting a web page. Now, this isn’t extremely common — but it does happen. An antivirus is an important layer of protection, as it will help protect you even in the face of such vulnerabilities. We verify if there is an Antivirus product running and if it can be disabled. Downloading some viruses Simda is a multi-component malware family that includes Trojan, backdoor, password-stealing, downloader and file-infector variants. It is very rare for a single malware family to possess all of these characteristics. Simda was first seen in mid-2009 with samples detected as Backdoor:Win32/Simda.A. This variant allows a remote user to connect to an infected machine and perform various malicious actions, such as stealing user credentials and taking screen grabs. At the same time, the backdoor component drops a malicious DLL that is injected into Windows processes to gather user information. The DLL is detected as PWS:Win32/Simda.A. The backdoor variant can exploit vulnerabilities to gain elevated privileges to perform more restrictive behaviors, such as Windows process injection. It may also gain admin privileges by trying to brute-force the administrator password with a dictionary attack. Once it gets access, it gathers user information such as user names and passwords, logs keystrokes, and takes screen grabs. The backdoor connects to its command and control server to report infection and download a configuration file. Once connected, a remote attacker can collect the stolen information and run other commands. In this check we test if a known dangerous virus called SIMDA can be Downloaded. In case the download works we will test if the downloaded file can be placed under “documents” folder. Access to hosts file Imagine clicking on [www.thewindowsclub.com](http://www.thewindowsclub.com) and seeing a completely different web site load in your browser. Malware can redirect Web addresses on your computer by altering your hosts file. This is referred to as the Host File Hijack. We verify if write access to the host file is granted Add new user Windows 8 also introduces the ability to create and login as a Local account or a Microsoft account. A Local account is an account that is local to your computer and is not integrated into any of Microsoft's online services. This account is the same as what was used in previous Windows versions. A Microsoft account, which was previously known as a Windows Live ID, is an online account that you register with Microsoft and that allows you to integrate all of Microsoft's online services into Windows 8. These services include the Windows Store, SkyDrive, Calendar, Hotmail, and the ability to synch your account settings and preferences to other Windows 8 machines you may use. Ultimately, there is no wrong choice when selecting the type of account to use as you have the ability to switch between a Microsoft account and a local account at any time. If a malware is able to create users it might “backdoor” the system and allow access that bypass other security mechanism in place. We try to add local users. Analyze patch level If there is a patch missing and an exploits exists the system can be easily compromised. The most obvious thing we need to look at is the patch level. We will compare the patches with current exploits. As always with Windows, the output isn't exactly ready for use. Here we look for privilege escalation exploits and look up their respective KB patch numbers. Such exploits include, but are not limited to, KiTrap0D (KB979682), MS11-011 (KB2393802), MS10-059 (KB982799), MS10-021 (KB979683), MS11-080 (KB2592799). Passwords in configuration files If passwords can be accessed an hacker or a malware might be trying to use them to elevate their privileges. We have a look at mass rollouts. If there is an environment where many machines need to be installed, typically, a technician will not go around from machine to machine. There are a couple of solutions to install machines automatically. What these methods are and how they work is less important for our purposes but the main thing is that they leave behind configuration files which are used for the installation process. These configuration files contain a lot of sensitive information such as the operating system product key and Administrator password. What we are most interested in is the Admin password as we can use that to elevate our privileges. Typically these are the directories that contain the configuration files (however it is a good idea to check the entire OS). Passwords in policies GPO preference files can be used to create local users on domain machines. When the box you compromise is connected to a domain it is well worth looking for the Groups.xml file which is stored in SYSVOL. Any authenticated user will have read access to this file. The password in the xml file is \"obscured\" from the casual user by encrypting it with AES. It is only obscured because the static key is published on the msdn website allowing for easy decryption of the stored value. On the recommendation of Ben Campbell we are adding Group Policy Preference saved passwords to the list of quick fails. Check alwaysInstallElevated Malware could install itself permanently even though it does not run under admin rights We look for is a registry setting \"AlwaysInstallElevated\". If this setting is enabled it allows users of any privilege level to install *.msi files as NT AUTHORITY\\SYSTEM. It’s a Group Policy setting for Windows Installer that, if enabled, runs any Windows Installer Package (.msi file) that the user launches under the all-powerful Local System account. The idea behind this setting is to allow users to install applications that they need, without directly granting the user administrative rights. However, it makes no distinction between a management-approved, digitally-signed installer of a business-critical application from a trusted publisher, and an unsigned MSI wrapper around a malicious script. That’s a real problem. Anybody can create an MSI – it doesn’t take deep knowledge, expensive developer tools or admin rights. In an environment with this setting, any user who wants admin rights can get them, and any malware that runs can silently take over the whole system. Test write access Permissions are what you configure for resource access. A resource is a file, folder, Registry key, printer, or Active Directory object (if on a Domain Controller). Permissions are what you configure on the Access Control List (ACL). Permissions define “who” can do “what” to a resource. We verify if a malware has write access to important system files. Access to autostart The Windows Startup folder can include shortcuts, documents, executable, or other types of files and programs to be launched when Windows is started. The current logged on user can view startup folder inclusions through the Start menu. Except in the case of rootkit-enabled malware, it's often possible to remove an infection (at least the active components) by removing their startup points. Following is a list of some of the more frequently used autostart entry points in Windows, including startup folders, registry keys, and ini files. We verify if we are able to place an exe in the autostart folder. Mimikatz Mimikatz is a slick tool that pulls plain-text passwords out of WDigest interfaced through LSASS. The key feature of this tool that sets it apart from other tools is its ability to pull plain-text passwords from the system instead of just password hashes. If your intention is to stay within the Windows environment and pass the hash this may not be that big of a deal. However, if you are exploring the curious case of password reuse across different environments—the plain-text password can be quite useful. For example, you have compromised a “Good for Enterprise” server that has a web interface which is not tied into AD single sign on. It might be useful to have the Good admin’s plain-text password to try against the Good for Enterprise web interface. Additionally, unless you have significant computational power, you may not crack an NTLM password hash—thus pulling the plain-text proves useful once again. After a user logs on, a variety of credentials are generated and stored in the Local Security Authority Subsystem Service, LSASS, and process in memory. This is meant to facilitate single sign-on (SSO) ensuring a user isn’t prompted each time resource access is requested. The credential data may include NTLM password hashes, LM password hashes (if the password is <15 characters), and even clear-text passwords (to support WDigest and SSP authentication among others. While you can prevent a Windows computer from creating the LM hash in the local computer SAM database (and the AD database), though this doesn’t prevent the system from generating the LM hash in memory. WDigest is a DLL first added in Windows XP that is used to authenticate users against HTTP Digest authentication and Simple Authentication Security Layer (SASL) exchanges. Both of these require the user’s plain-text password in order to derive the key to authenticate—thus why it is stored in plain-text. We try to access clear text credentials in memory within this check Autorun According to a biannual Security Intelligence Report from Microsoft, AutoRun—the feature in Windows that automatically executes files when you plug in a USB or connect to a network—accounts for almost half of all malware infections. We test if Autoplay is enabled Cscript decoder test Malware writers know that once their code is understood it most likely to be detected by anti-malware applications. To delay detection by such applications, they resort to a wide range of techniques. Javascript for example can also be used by malware writers to infect innocent users. In recent years, the malware, virus written in scripting language are spreading rapidly worldwide. Windows applications and processes may be automated using a script in Windows Script Host. Unfortunately, Viruses and malware could be written to exploit this ability as well: an attacker can generate some code (example JavaScript code) and compile an executable using windows cscript. In this test we verify if we are able to create an executable using window’s cscript. Execution in temp folder test Lots of programs, legitimate or otherwise, will want to execute from the temporary folder in windows (%temp%). Installers typically unpack themselves to a subfolder of this when you run setup.exe on a compressed installer archive. So the reason why malware likes to execute from these locations is because legitimate software likes to execute from these locations. They're areas that the user's account should expect to have some level of access to. We will place and execute an executable within the temp directory. Process spoofing test Malware tends to use process names that look strikingly similar to common process names. It's more like spoofing them into a name that you might think is the real thing but it’s not. Sometimes the names are actually valid but the path is different. We will create a new process using a known windows process name. Check service install A common misconception when working on removing malware from a computer is that the only place an infection will start from is in one of the entries enumerated by some AV solution. Malware also attempt installing a part of themselves as a service (please note it will need some advanced rights to do so). When cleaning a computer the standard approach is to clean up the Run entries and the other more common startup entries first. For the most part, that will be enough to remove the infection. The problem arises when the log looks clean and yet there are still problems. One place to continue looking for the infection is in the operating system's services to see if there is a service that does not belong there and could possibly be loading the infection. A service is a program that is automatically started by Windows on startup or through some other means and is generally used for programs that run in the background. We try to register a new windows service. Check task manager killer The Task Manager is one of Windows tools that help to monitor and manage operating system. You can use it to forcefully quit an application that hangs or stop a single process ran in the OS environment. So, you can stop malicious processes with your Task Manager as well if this windows utility is not blocked by the malicious program that infected your PC. Malicious programs often block Task Manager and other system tools. We will test if your task manager can be blocked and if this activity will trigger any event in your monitoring system. Check system restore point Invalid registry entries can be added by viruses looking to infect and create havoc on your system. Viruses can also disable your Windows System Restore feature. The system restore feature exists in Windows operating systems. This feature ensures that program installations and updates can be rolled back in the case that something goes wrong. If you’re a little tech-savvy, you know that you can go into your computer’s System Properties to run a System Restore if you ever want to revert your computer or files back to a state before the current day, undoing all changes made (by you or malware) in the days after your selected Restore Point. But some viruses can actually disable your System Restore feature, making it impossible to restore system properties to a state prior to the moment things were changed by you or the Virus. In this test we try to disable the system restore feature. This usually is only possible with advanced user rights. We will attempts to disable the windows system protection. Check hidden process Malware, especially rootkits are one of the advanced species in today's every changing technical world. They are known for their sophisticated techniques to hide their presence often evading their detection from top notch Antiviruses and detection tools. Antivirus solutions often hit the wall when it comes to Rootkit detection and there is a greater need for dedicated Anti-Rootkit tools. Malware can use different techniques to hide their process and to prevent its termination. One such method is to hook the NtOpenProcess function (OpenProcess API internally calls NtOpenProcess) and return negative result whenever Anti-Rootkit application try to open such process. As a result Rootkit process will remain hidden from any process viewer tools. This is just one of the method and often you will find more such internal functions such as NtQuerySystemInformation being hooked to filter out their process from the list. We will hide a process for a few seconds. Harvest IE passwords Having your Web browser remember your passwords and/or credit card details can be convenient, but it poses some security risks. Internet Explorer stores two type of passwords, Autocomplete and HTTP basic authentication based passwords. Autocomplete passwords are normal website login passwords such as email, forum websites. HTTP basic authentication password is the one which is required to login to website itself. We try to access IE passwords using different methods. Keylogger check In its simplest form, a keylogger trojan is malicious, surreptitious software that monitors your keystrokes, logging them to a file and sending them off to remote attackers. Keyloggers and other forms of remote-access trojans tend to be the most determined malware, taking extra steps to stealth its presence, including through the use of rootkits. We will run a custom keylogger for a few seconds. Malware Testing Templates Beside single checks LHFC is also able to perform tests based on a template (please note that it is not possible to run single checks and a template at the same time). Currently there are two templates implemented which are described in detail. ![templateslhcf.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=bc7b50&media=templateslhcf.png) Advanced Dropper Template This template simulates some aspects of malware behavior like the famous finfisher but without any modifications to the system (hooks, MBR changes etc.). All activities will run with standard user rights. The tool will first create a subfolder in the TEMP folder (its name looks like TMP6BCF227D - details will be written in the report), put in the subfolder a file called malware.jpeg. Then the image will be decrypted and launched from the current location. The file it contains is the standard LUCY dropper (reverse HTTP/HTTPS connection using the browser to make base64 POST requests). The new process name is then called 'malware.jpeg'. The dropper also will create a log file \"log.txt\" that is located in the TMP* folder. Next the process creates a hidden folder in the TEMP (its name looks like \"ADVDROP81227C11\"- details will be written in the log.txt) and then begins to harvest information. For each session of the information gathered the dropper creates a subfolder in the hidden folder (its name look like \"82C89047\" so you should see something like\" ADVDROP81227C11\\82C89047\" in the temp folder). In this subfolder the dropper places harvested files and later encrypts them. After the encryption the LUCY URL is called and the dropper will send files back to LUCY via POST (HTTP or HTTPS - depending on your campaign settings). There are LUCY variables for this template that can be defined. For example we can set the working hours (currently set from 10:00 to 00:00, so if you launch the template in 9:00 then the dropper will wait until 10:00), amount of sessions (currently set to 3, so the dropper will make 3 subfolders in the ADVDROP81227C11 with its data sets), intervals between sessions within a minute (currently 5 minutes, so the dropper will work about ~10 minutes) and the maximum size of the file for the tool to send/encode within the POST requests. Ransomware Template Ransomware is a type of malware that prevents or limits users from accessing their system or files. This type of malware forces its victims to pay the ransom through certain online payment methods in order to grant access to their systems, or to get their data back. Some ransomware encrypts files (called Cryptolocker). Other ransomware use TOR to hide C&C communications (called CTB Locker). Our template simulates a type of ransomware that locks files like documents, spreadsheets and other important data and then make a encrypted copy either on a share drive that has write access or locally. The idea behind this template is to find out if the information gathering activities or the big amount of read/write operations on a drive from a single PC trigger any sort of alarm in your monitoring system. Within the tool you can specify a few settings: Specify a file List to search (default: doc,ppt,xls,pdf,txt) Specify to work with dummy data or real data the tool discovers in the network Set the maximum file size to process (default max 512 KB) Set the number of Files (Default max 100) to copy Set timing options (like when to run, which time period & maximum time to crawl a drive) Set an option to leave a copy of data on PC/Share or delete it after running. When the ransomware works with dummy data, it deletes the files right after the creation even if \"Delete data\" is unchecked. (it should not delete any data when it works with real data). This setting is necessary because the ransomware creates many files with relatively big sizes. By default it creates 1000 files with 512 kb size each, so it will be 0.5 Gb overall. When started the tool will create a separate executable (example: C:\\Users\\Test\\Desktop\\2afbaff8-f048-445c-bcf3-05b7d8d33133\\rnsmw.exe) which will try to discover local and remote share drives (as an anonymous and an authenticated user). LHFC will then make read/write tests on the discovered dives. If the setting \"work with real data\" is selected LHFC will search recent docs to get a file list as well. If a write right on a share drives exist, LHFC will place a folder \"LUCY RANSOMWARE SIMULATION\" there. If no write right exists, LHFC will create a folder locally based on the path specified in the settings. In real data mode LHFC will make a COPY of files which were previously enumerated (the original files will not be touched by tge tool) and then encrypt the COPY and place in that new folder. If you selected \"leave data\" you can look at the harvested information using the SimpleXorEncrypter.exe. All harvested files can be decypted with the tool. So in order to unencrypt a file you should use this [unencrypter](/lib/exe/fetch.php?media=simplexorencrypter.zip). It is a command line tool. For example, command \"SimpleXorEncrypter.exe -u avdata.txt avdata_unencrypted.txt\" will unencrypt the file avdata.txt. ![xor.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=be1bc7&media=xor.png) When the ransomware ends his work it writes in the log \"The programm will exit.\" (except if the process was killed or it was impossible to write into the log file). Until that it should be considered that the ransomware is still executing. On every run the ransomware should create a new folder for the log. The logfile looks like in this example: ![log.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e4f56b&media=log.png) create_a_purely_technical_test_with_the_malware_testing_suite.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 44,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_phishing_campaign_with_a_word_macro",
      "content": "create_a_phishing_campaign_with_a_word_macro [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_phishing_campaign_with_a_word_macro Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_phishing_campaign_with_a_word_macro Introduction LUCY Macro Simulation LUCY can create a phishing campaign that simulates an attack using a malicious Word document file with a macro. The custom Macro with the according campaign settings is compiled during the campaign. Therefore each Word file for each recipient will have different settings. Available Macro File Templates LUCY comes with multiple Macro simulations: Macro Simulation \"Financial Bonus\": This Macro simulation will access the command shell of a windows system and execute some commands (can be configured in the according template) and then use the browser to send back the output of those commands. Please note that this type of Macro that tries to access the client's file system is often detected as malicious in antivirus solutions. Macro Simulation \"POST ONLY\": It will do a simple http or https connection back to LUCY upon opening which will notify the LUCY administrator that the word has been opened and the Macro has been activated. The Macro can be used in any file-based or mixed attack scenarios either as a mail attachment or as a file that can be downloaded from a landing page created by LUCY. Macro Simulation \"GET ONLY\": This Macro simulation is working in LUCY 4.6 and newer. This macros template just pings back to Lucy when the user opens the document, without sending and collecting any data. \"Get\" template can be an alternative to \"Post\" request in campaigns where you need to check only the fact of opening a file. Note: In the campaign settings for the \"Get\" macro, you need to select type \"Click\" in \"Success action\" for a correct statistic. Please note, that those are only two samples. You can create your own template. Please check the tutorial at the bottom of this page. Configuration After the login, you can create your first phishing campaign by pressing the button “New campaign”. We recommend using the Setup Wizard when used for the first time. ![macro_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fe3c49&media=macro_1.png) STEP 2 - Select or Create a Client Create a client or choose the built in the client (a client can be your own organization or the company who asked you to perform a phishing test). This is important because you can also create [view only accounts](/doku.php?id=user_management) which are associated with those clients. ![macro_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1457a6&media=macro_2.png) New clients can be created under Settings>Clients. ![macrot_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=178799&media=macrot_3.png) STEP 3 - Choose Your Configuration Mode You may either continue with the Expert Setup or a Start with predefined campaign Template configuration. ![macro_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a3f04e&media=macro_4.png) Sometimes a remote Firewall, Spam filter or Virus Filter might automatically scan all the URL's within a link. As a result, you end up with false positives and LUCY will show all link clicked (success). To avoid such automatic link requests by some 3rd party application you can enable the antivirus/firewall protection and LUCY will ignore all GET requests for the first 30 or 60 seconds: ![macro_5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=075009&media=macro_5.png) STEP 4 - Select a Phishing Template that supports Macro's Now you need to select one or multiple phishing scenarios that support Macro's (make sure you have [downloaded all the latest scenarios](/doku.php?id=download_templates) first). Please check out what [different scenario types are available](/doku.php?id=scenario_types). A Macro attack is a file-based attack simulation. Therefore, you can only use the following template types: File Based Templates Mixed Templates Portable Media Attack Template Most templates will enable you to place the Macro on a landing page from where it can be downloaded. If you only want to send the file as a mail attachment without involving a landing page you can choose the file based scenario \"Financial Bonus (Word Macro in email Attachment)\": ![macro_17.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=192cfe&media=macro_17.png) This is an email only template that will send the users an email with a Word document file attachment that contains a macro. The macro has the ability to execute a list of harmless commands (e.g. \"whoami\") and send the output back to LUCY using the built in browser (HTTP). The commands can be configured with the email settings. You may also leave a copy of the output on the Desktop of the user (a text file called lucy_results.txt). If you don't wish to leave any traces, you can select \"Delete Temporary File\" in the Macro options. Please note: at the bottom drop-down menu you can still switch between the different file templates and have the ability to pick a different Macro simulation (e.g. \"POST ONLY\", which most likely will generate less alerts on a possible AV solution). ![macro_6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9cb6ef&media=macro_6.png) For this tutorial, as an example, we select the Mixed Template “Confirmation Social Media Profile ”, where the user will be asked to download a CV that contains a Macro. Note: If you attach an Office file to an email there is a much higher chance it will get filtered opposite to campaigns, where the Office File has to be downloaded from a web page. The \"POST ONLY\" Macro has the highest chance of not getting filtered as it is not accessing the local file system from the tested target. STEP 6 - Configure the Base Settings of Your Campaign Once you have selected the scenario, you need to configure the Base Settings of the campaign. First, give your campaign a name and then choose how your recipients will be able to access LUCY by defining the [Domain](/doku.php?id=domain_configuration). Finding the appropriate domain name is a very important step for the success and it depends very much on your campaign scenario. If you plan to create a fake web mail login you might try to reserve a domain like \"webmail-server365.com\" and point it to LUCY. ![macro_18.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b76033&media=macro_18.png) Note: Each scenario has its own Base Settings. STEP 7 - Configure Basic Settings There a few Optional Settings that you can apply within the Base Settings. Lucy comes with certain Default Settings. You can change these setting as you like. The settings are: Track Opened Emails: Inserts an invisible image into outgoing emails to track if users opened the message. Use this feature carefully, as some email servers may put such emails into the spam folder. Disable Landing: Check to disable landing page for this scenario. Send Link to Awareness Website Automatically: Send a link to the [Awareness Website](/doku.php?id=awareness_e-learning_settings) after the user has been successfully attacked. Please note that the Awareness Website should be published for this feature to work. Advanced Information Gathering: Check this option to enable advanced visitor information gathering More details can be found here: [Advanced information gathering](/doku.php?id=advanced_information_gathering) Success Action: Defines what LUCY considers as a successful attack. There are [four options](/doku.php?id=success_actions). Collect Data: Choose \"Full\" if you want to record all entered logins and passwords, \"Partial\" to record only the first 3 letters (remaining letters will be masked with asterisks) or \"No\" to skip user data collection. Double Barrel Attack: When using Double Barrel Attack, the system first sends a \"Lure\" email containing some teaser text. After that, the system waits for a while (you can configure that time in settings below) and sends an actual phishing email. The \"Lure\" delay defines, in seconds, the time frame between the Lure and the attack emails for a Double-Barrel Attack. URL Shortener: When you place the %link% variable within the message body and your scenario uses a public domain name, it will automatically be shortened. The link will look like “[http://is.gd/9VjDKF](http://is.gd/9VjDKF)” to fit into one text message. If you use an IP address for your landing page the link will be not shortened. Redirect URL: This is used for [hyperlink based scenarios](/doku.php?id=create_a_phishing_campaign_with_only_a_hyperlink_in_mail_no_landing_page) or within a landing page to redirect to an awareness page. File Type: In this drop-down list you can select the type of file that will be attached to the email. STEP 8 - Edit your Landing Web Page within Your Campaign After saving the Base Settings, you can now [Edit the Landing Page](/doku.php?id=edit_landing_page), [Upload Your Own Webpage](/doku.php?id=upload_your_web_page) or simply [copy any website on the internet](/doku.php?id=copy_web_page). The Landing Page is the webpage that the users will see when they click on the link in the email they receive. First, select the drop-down menu at the top the page where you want to edit. Please note that the same landing page may be available in different languages. So make sure you [edit the correct language](/doku.php?id=dealing_with_multiple_languages_in_your_recipient_group). As we want to include a download to a Macro we need to make sure the Macro is selected at the bottom of the configuration page. This drop-down menu will tell LUCY what malware simulation should be attached to the download bottom on this page: ![macro_8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fc1a4c&media=macro_8.png) If you save the landing page with the settings displayed in the screenshot above LUCY will create a Word file for each user which can be downloaded from the phishing simulation. STEP 9 - Configure Message Settings (Email or SMS) It’s time to setup email communication (if you want you can also use [SMS](/doku.php?id=smishing) as an alternative). Choose your sender's name, email address and subject. Please also choose the language for each group. If you configured an English landing page, then select English also within that recipient group. If you have different groups with different languages within your company you can simply create a group and select a language for each recipient. LUCY then will direct each user to an individual landing page that [matches that language](/doku.php?id=dealing_with_multiple_languages_in_your_recipient_group). Please read the [Mail Settings Chapter](/doku.php?id=mail_settings) for more configuration options. ![macro_9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fa7655&media=macro_9.png) Note: The most common reason for emails not arriving at your Recipient's Inbox are SPAM filters. When using a known email domain (e.g. test@microsoft.com) or a non-existing email domain (e.g. test@nonexistant.com) your email might get deleted by SPAM filters. Some public email providers (like Gmail, Hotmail, etc.) are very restrictive concerning possible SPAM emails and might not even forward emails to your Recipient's SPAM folder (based on the emails SPAM reputation). To verify this you can use LUCY's built in [SPAM Checker](/doku.php?id=spam_check). STEP 10 - Add recipients You need to create the Recipients List in the Menu item \"Recipients\". ![macro_10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2e65e2&media=macro_10.png) This is the list of users that will get the phishing emails. You can add them manually, import a file with all your recipients or even search them on the internet. Once you have created that group, you can select it in your campaign and map them to a specific scenario. You can also define if they should be used only for the Landing Page link, the [Awareness site link (e-learning)](/doku.php?id=awareness_e-learning_settings) or both. ![macro_11.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=04fc67&media=macro_11.png) Please read the [Recipients Settings Chapter](/doku.php?id=add_mail_recipients) for more configuration options. STEP 11 - Add Scheduling Options to Your Campaign If you want, you can create a schedule to run the campaign using a delay or customized time delays between campaign phases. If you are new to the system, we'd recommend that you go with the Default Timing Settings and skip this step. Please read the [Schedule Settings Chapter](/doku.php?id=scheduler) for more configuration options. Step 12 - Add E-learning Content to Your Campaign There is the option to have LUCY automatically send some e-learning content to all users or only users who have failed the phishing test. This configuration setting is part of an [Separate Chapter (E-learning).](/doku.php?id=awareness_e-learning_settings) If you want the users to get an e-mail with a link to the awareness content, you need to make sure that in \"STEP 7 - Configure Basic Settings\" the checkbox \"Send Link to Awareness Website Automatically\" is selected and you configured an awareness template (mail and optional landing page). It is also important that you define what you consider as an [successful attack](/doku.php?id=success_actions) because only those who have been successfully tested will receive the mail. If you don't want the e-learning content to be delivered via mail you can also [redirect the user directly to a landing page with the awareness content](/doku.php?id=redirecting_users). Step 13 - Start Your Campaign Now you are ready to start. Although we recommend performing a test run with a single recipient before you start attacking all users, additionally it is a good idea to use the [LUCY SPAM Checker](/doku.php?id=spam_check). Just click “Real Attack” and LUCY will test your settings before starting the campaign. If you want to skip the checks, press \"Skip Checks\". Your first recipients should receive the emails within seconds. Please read the [Start Campaign Settings Page](/doku.php?id=start_a_campaign_campaign_checks) for more configuration options. If you experience any problems with starting/running your campaign, please [Consult the Troubleshoot Section](/doku.php?id=troubleshooting_known_issues) first. ![macro_12.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b7983f&media=macro_12.png) Step 14 - Monitor Your Campaign The progress of the campaign can always be monitored in Real-Time. Click \"Statistics\" within your campaign. Please read the [Statistics Chapter](/doku.php?id=monitor_a_campaign_statistics) for more configuration options. ![macro_13.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d19692&media=macro_13.png) You will be able to track if the macro has been activated if you enabled the [success action](/doku.php?id=success_actions) as \"file data receive\". The actual output of the macros can be found within the campaign under statistics/collected data. Step 15 - Create Reports Once you have finished the campaign, you may create different types of reports (PDF, HTML or raw export). Please read the [Creating Reports Chapter](/doku.php?id=create_campaign_reports) for more configuration options. ![macro_14.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cf94dc&media=macro_14.png) Create Custom Macro templates You can create your own template in two ways: Based on a copy of an existing template Create a new template from scratch Example: create a copy of an existing template Let's say you want to create a new macro template based on the existing template \"info.doc\" (POST only) called mydocument.doc, you need to go through the following steps: Step 1: Select the template \"Macros (POST only) Step 2: Press the copy button Step 3: Download the \"info.doc\" from the template and save it locally Step 4: Edit the Word File, without enabling the Macro and save it under your new name \"mydocument.doc\" Step 5: Delete the existing file \"info.doc\" in the template \"Macros (Post only) (copy)\" Step 6: Upload your new file \"mydocument.doc\" to the template and save the template Example: create a new template from scratch You can create your own file-based macro templates using any MS office file (ppt, doc, xls…): 1) create a VB macro with the main function named AutoOpen 2) use all variables you will pass from lucy in this form - \"%my_variable%###################\" - don't forget to pad the value with \"#\" symbols, so the string is long enough to hold all possible values (Lucy replaces #s with actual data when running a campaign) 3) use %lucy_url% as Lucy URL 4) use variables in macro only after you process them with \"Clean\" function (see attached bas file) - it cleans excess # in the end before using the actual data passed from Lucy 5) open word, excel or powerpoint document, go to the developer tab and hit \"Edit Macro\" 6) there choose \"AutoOpen\" function or create it and press \"Edit\" 7) paste your macro code, save the document and quit 8) voila - you have a new evil macro template ready See [attached the macro template](/lib/exe/fetch.php?media=macro-sample.zip) you can use for new macro projects Macro Template for Mac Existing Macro Templates are more focused on Windows systems. If you want to attack the Mac OS system, please use [this file](/lib/exe/fetch.php?media=macos-sample.zip). create_a_phishing_campaign_with_a_word_macro.txt · Last modified: 2020/08/19 16:31 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 45,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_smishing_campaign",
      "content": "create_a_smishing_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_smishing_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_smishing_campaign Background Info Smishing (short for SMS Phishing) is a variant of phishing email scams that uses Short Message Service (SMS) systems to send out bogus text messages. Also written as SMiShing, SMS phishing made recent headlines when a vulnerability in the iPhone's SMS text messaging system was discovered that made smishing on the mobile device possible. Smishing scams frequently seek to direct the text message recipient to visit a website or call a phone number. At which point, the person being scammed is enticed to provide sensitive information such as credit card details or passwords. Smishing websites are also known to attempt to infect the person's phone with Malware. SMS phishing uses cell phone text messages to deliver the bait, persuading people to divulge their personal information. The \"Hook\" (method used to capture people's information) in the text message may be a website URL. LUCY offers the possibility to simulate such attacks. To create a smishing campaign is the same as creating a regular [Phishing Campaign](/doku.php?id=create_your_first_phishing_campaign). The only difference is that within the message template (former e-mail template) you have to select SMS instead of email as a delivery method. How is LUCY sending SMS? LUCY has a build in API which will connect to a centralized LUCY gateway when initializing SMS delivery. The gateway will first verify, if the LUCY client has sufficient credits and is allowed to send SMS. If all checks pass our gateway will connect to an international provider using a second API. This provider is able to send the messages with the settings defined in LUCY. Requirements In order to use the smishing feature in LUCY, you need a: a) commercial license and b) sufficient balance Q&As Q: Where can I see my current assets available for this feature? A: You can find your current credit under settings/license: ![smishing1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e126f5&media=smishing1.png) Q: How do I add credits? A: You have a button next to the balance which enables you to buy more credits directly within the LUCY GUI. Setup A Smishing Campaign is not different from a [regular phishing campaign](/doku.php?id=create_your_first_phishing_campaign). Most templates can be used in the same way. The difference is only the delivery method: within the scenario (Base Settings –> Scenario Settings –> Message Settings) you can use as a delivery method either \"mail\" or \"sms\". Choose \"SMS\". ![smishing2-new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bcb59e&media=smishing2-new.png) As a sender, you can put a name or phone number (use always the phone number with the country code: example 49 xxx). Some providers filter messages based on source numbers. Thats why try different combinations for the country prefix: Sender number with \"00\": Example 0049 35 431432434 Sender number with \"+\" in front: Example +49 35 431432434 No zero / no \"+\" in front. Example: 49 35 431432434 You can also put a name as a sender. Here are a few sender name example: Sender name: Peter Sender name blanc (do not insert any name) Please also note that the length of Sender can not exceed 11 alphanumeric symbols or 15 numeric symbols. See [https://en.wikipedia.org/wiki/List_of_country_calling_codes](https://en.wikipedia.org/wiki/List_of_country_calling_codes) If the phone number is saved in the recipient's contacts, it will show the corresponding contact information upon arrival of the SMS. ![smishing2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d37010&media=smishing2.png) Next, you will need to enter the phone number in your recipient's list. Don't forget to also set the correct language (the language should match the language chosen in General Settings (Base Settings –> Scenario settings –> Base Settings). Automated URL Shortening When you place the %link% variable within the message body and your scenario uses a public domain name, it will automatically be shortened. The link will look like \"[http://is.gd/9VjDKF](http://is.gd/9VjDKF)” to fit into one text message. If you use an IP address for your landing page the link will be not shortened. Known Issues Issues with specific countries: in certain countries, SMS spoofing will not work at all or SMS might only arrive if the sender is using a different country code. For example: in Belgium, the SMS sender will get replaced by a general number like \"8850\" when using a different country code. The United Arab Emirates (UAE) has established a considerably rigorous SMS marketing restriction system: registration and activation of the from address (Sender ID) with the operator is required; SMS messages can only be sent between 7AM and 9PM according to UAE standard time. Issues with Delivery (sender):This usually means, that your provider did not accept your senders ID. Try different variations to solve this. Example: if your sender number is 0041793531111 (where 0041 is the country code, 79 the prefix and 3531111 the phone number) you could try to send as +41793531111 or 0041793531111 or +41.793531111. If all variations do not work, please leave the sender field empty. Our message provider will then replace it with the default sender name. If the message gets successfully delivered with the default message, you can try to enter your own sender name (e.g. Jon Smith) instead of a phone number. Issues when spoofing with same provider: Spoofing a message within same provider within the same country might not work. For example: if you want to send a spoofed message from a cell phone using “o2” to another cell phone using “o2” the message won't arrive. But if you send the same message from a phone using “telekom” to a cell phone using “o2” it will work No credit: In order to use the Smishing feature you will need enough credits. To see your current balance go to the license page in LUCY. Issues with delivery (recipient number): sometimes the message is not delivered, because the phone number under the recipient is saved with the wrong format. Make sure recipients phone number always has the country code included. Issues with specific countries: in certain countries SMS spoofing will not work at all or SMS might only arrive if the sender is using a different country code. Example: in Belgium the SMS sender will get replaced by a general number like “8850” when using a different country code. Delivery issues (content): Unfortunately some operators block links in SMS sometimes (for example, in Russia it's nearly impossible to send a link in SMS). You could try to remove http link or create a plain SMS without a link to test this feature. For further info please check out the support section at: [http://support.messagebird.com/hc/en-us](http://support.messagebird.com/hc/en-us) create_a_smishing_campaign.txt · Last modified: 2022/10/27 21:32 by editor8 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 46,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_campaign_with_portable_media_devices",
      "content": "create_a_campaign_with_portable_media_devices [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_campaign_with_portable_media_devices Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_campaign_with_portable_media_devices LUCY allows you to create files that can be stored on removable media devices (CD, USB, DVD, SD Card, etc.). The most popular is an attack using USB sticks. But keep in mind that this template works for all other variations of removable media types as well. Background Info about Portable Media Attacks At the moment, there are three popular methods that malicious applications use to infect USB flash drives: Simple file copy method: With this method, a malicious application that is installed on an infected computer simply makes copies of itself to all storage devices that are attached to the infected computer. With this method, a malicious file is often named with a sensational filename to lure a victim into launching the file and causing malicious code to be executed. Quite often there are familiar file icons such as Microsoft Windows icons for videos and images that are used to trick unsuspecting victims into thinking that an executable file is a harmless image or video. This infection method requires that the victim manually execute the malicious file from their computer to become infected. AutoRun.inf modification method: Microsoft Windows and some other operating systems have a functionality that is called “AutoRun” (sometimes also referred to as Autoplay). AutoRun functionality is basically designed to perform some actions that are automatically executed when removable media is inserted or removed from a computer. On Microsoft Windows platforms, “autorun.inf” is the file that contains instructions for the AutoRun functionality. The autorun.inf file can instruct AutoRun to use a certain type of icon; add menu commands; and among other things, start an executable. With this infection method, the malicious application modifies or creates an autorun.inf file on all of the network shares, local drives, and removable media (including USB flash drives) that are connected to the computer. When an infected USB flash drive is inserted into another computer, the copy of the malicious application is automatically executed. Under a default configuration of Windows, this infection method does not require any interaction from the victim other than physically attaching the media to the computer. Reprogramming USB peripherals. To turn one device type into another, USB controller chips in peripherals need to be reprogrammed. Very widely spread USB controller chips, including those in thumb drives, have no protection from such reprogramming. BadUSB – Turning devices evil: Once reprogrammed, benign devices can turn malicious in many ways, including: 1. A device can emulate a keyboard and issue commands on behalf of the logged-in user, for example, to exfiltrate files or install malware. Such malware, in turn, can infect the controller chips of other USB devices connected to the computer. 2. The device can also spoof a network card and change the computer’s DNS setting to redirect traffic. 3. A modified thumb drive or external hard disk can – when it detects that the computer is starting up – boot a small virus, which infects the computer’s operating system prior to boot. Our Portable Media Attack Approach With LUCY we provide a template for the \"Simple file copy method\". As mentioned before this infection method requires that the victim manually execute the malicious file from their computer to become infected. So you have to lure a victim into launching the file and causing malicious code to be executed (e.g. just copy the file with an interesting file name on a USB stick and place them in spots where they will be picked up by other users). Setup In order to create a Portable Media Attack scenario go through the following steps: STEP 1 - Create a New Campaign: After the login, you can create your first Phishing Campaign by pressing the button “New Campaign”. Then choose the Attack Simulation campaign type. ![file-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=file-1.png) STEP 2 - Choose Attack Type: In order to configure the campaign choose Portable Media Attacks. ![pma_wizard.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=pma_wizard.png) STEP 3 - Select or Create a Client: Create a client or choose the built-in client (a client can be your own organization or the company that asked you to perform a phishing test). This is important because you can also create view only accounts that are associated with those clients. ![file-4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=file-4.png) STEP 4 - Select your Attack Template: Select the scenario called Portable Media Attack. If you don't have this scenario among your templates then please download it using the \"download\" button in the Settings → Templates → Download Templates. ![pma_scenario.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=pma_scenario.png) STEP 5 - Give the scenario a name and pick a domain or IP address: This is the domain or IP which is used upon execution: the malware simulation will send the data back to this host. ![pma_settings.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=pma_settings.png) STEP 6 - Configure the File template: This template defines what malware simulation should be running upon execution of the file on the Portable Media Device. Make sure you have the latest malware simulations installed in LUCY. You can download the malware simulations using the \"download\" button in the template section. ![pma_file_settings.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=pma_file_settings.png) STEP 7 - Configure Number of Portable Media Devices: Choose the option Enter Manually and add a Number of Portable Media Devices to define how many USB sticks you plane to use. ![pma_number_pmd.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=pma_number_pmd.png) STEP 8 - Download Files: You're all set! Hit Start if you would like to start the campaign right away. You will be able to start the campaign any time later from the campaign summary page. ![pma_download.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=pma_download.png) Once you started the campaign LUCY will wait for incoming requests from executed files. What are the requirements for an USB stick to report back to LUCY? In order to for the USB stick to report back to LUCY the following requirements must be met: The file (exe) on the stick needs to be executed* The computer where the file on the USB stick gets executed needs access to the internet LUCY must be reachable from the internet (with the IP or domain name configured in the USB campaign) The campaign must be running *You could also purchase USB sticks that will emulate external hardware (like keyboard) and execute the file automatically when attached to a computer ([https://shop.hak5.org/products/usb-rubber-ducky-deluxe](https://shop.hak5.org/products/usb-rubber-ducky-deluxe)) Important Questions Does it need admin rights to execute the files? No - to execute the malware simulations it does not need admin rights. The standard windows user rights will do. Can I only place an executable on the USB? No - you can place any type of malware simulation on the USB (.exe, doc with Macro, archived format, etc.) How can I get the users to execute the file? You could use simple social engineering techniques and just place some sticks in a public area, rename the executable to something like \"decrypt_accounts.exe\" (if you choose for example the malware simulation with the screenshot & webcam tool it will show you some fake decryption GUI upon execution) How do I know if users executed the files? The moment the files get executed and the user has internet access the data will be transferred back to LUCY using the build-in browser. Will the tool get detected by an AV? No - this should not happen (please let us know if this occurs) Will the tool be able to bypass USB filters or windows security settings (like UAC)? No - if you don't allow files from a USB drive to be executed this won't work. Create an Attack with CD & DVD's LUCY > 3.1 offers the administrator to create also ISO images which can be used to burn a CD or DVD. Most CD-ROM burning applications recognize this type of image file. Once the ISO file is burned as an image, then the new CD/DVD is a clone of the original and bootable. To create an attack with ISO image you first need to create them according to a group within the recipient (make sure you enable the checkbox \"portable media attack\"): ![portablemedia6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1824b1&media=portablemedia6.png) Next, after you selected a template like the Portable Media Attack scenario, you need to make sure that within the scenario settings you enable the checkbox \"generate ISO images\": ![iso_images.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=iso_images.png) After configuring the remaining scenario settings you can add the recipient group which you created for the portable media attack to your scenario. You should see a screen similar to the following example: ![portablemedia8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d8e8f4&media=portablemedia8.png) Once you started the campaign LUCY will wait for incoming requests from executed files. Here is also a quick tutorial on how to burn a bootable ISO image on different operating systems: Windows 8/8.1/10 Download the ISO CD image to a folder on your computer. Open the folder where you have saved the ISO file. Right-click on the .iso file. From the menu select Burn disc image. The Windows Disc Image Burn will open. Select the Disc burner. Click on Burn. Windows 7/Vista Download the ISO CD image to a folder on your computer. Insert a blank CD in your CD-RW drive. Navigate to the folder where you saved the file. Click to highlight the file (Windows 7/Vista) and/or right-click on the file (Windows 7 only) to see the options for creating a disc. MacOS Download the file .ISO file to your Mac Insert a blank disc. From the Desktop, click on Utilities (or in some cases, Applications, and then Utilities). Launch Disk Utility. From the File menu, choose Open Disk Image. Select the ISO image to be burned. In the list of volumes, you will now see an item representing the ISO file. Select it. Click the Burn icon. A Select Image to Burn window will appear. Select the .iso file you want to burn to a CD/DVD. Make sure you have a disc inserted in your drive and then click the Burn. A Disk Utility window will appear showing the recording progress. Once the recording process has completed, Disk Utility will verify that the image was burned correctly. Click OK to eject the disc. Protect your Network from USB attacks with a challenge campaign Unknown USB devices are a serious risk to your network. 67% of employees who find a USB device in a parking lot will plug it into their computer. Would your employees put your network at risk and plug in an unknown USB device? Find out in 3 simple steps: Select the USB device Select Awareness Training Track Awareness Campaign [ START THE USB CHALLENGE AND GET A QUOTE](https://lucysecurity.com/usb-challenge/) create_a_campaign_with_portable_media_devices.txt · Last modified: 2020/08/13 02:32 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 47,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_phishing_campaign_with_a_java_dropper_applet",
      "content": "create_a_phishing_campaign_with_a_java_dropper_applet [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_phishing_campaign_with_a_java_dropper_applet Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_phishing_campaign_with_a_java_dropper_applet Background Info About Java Applets: Java applets are executed in a sandbox by most web browsers, preventing them from accessing local data like the clipboard or file system. If the code rquires those rights, the user has to allow it (manually by clicking \"run\"). The code of the applet is downloaded from a web server, after which the browser either embeds the applet into a web page or opens a new window showing the applet's user interface. About Java Exploits: Java exploits represent a common attack vector used by the bad guys to infiltrate vulnerable computers via the web browser. The default security level for Java applets and web start applications has been increased from “Medium” to “High”. This affects the conditions under which Java web applications can run. Previously, as long as you had the latest secure Java release installed applets and web start applications would continue to run as always. With the “High” setting the user is always warned before any unsigned application is run to prevent silent exploitation. This security enhancement eliminates the risk of silent exploitation using drive-by attacks via unsigned applets, which were possible before Java 7 update 11. This leaves attackers with no choice but to use social engineering techniques to convince users to click the Run button on the security warning dialog. Signed Applet LUCY uses a signed Java Applet with its own company name. This is what users will see when they open a page that has an Applet Dropper activated: ![javattackwarning.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ea5bc0&media=javattackwarning.png) Types of Applets available in LUCY Starting with 3.3 there are two types of applets available: a) Two Stage Dropper :: Our applet just acts as a dropper. A dropper is usually a program that has been designed to \"install/run/load\" some sort of malware (virus, backdoor, etc.) to a target system. The malware code can be contained within the dropper (single-stage) in such a way as to avoid detection by virus scanners or the dropper may download the malware to the target machine once activated (two stage). In our case we use a two stage dropper: once activated, the applet will load the [selected malware simulation](/doku.php?id=create_a_phishing_campaign_with_malware_simulations) from the LUCY campaign page (e.g. consolepost) and place it in the desired directory. Once it has been copied into that directory, the applet executes the file automatically and reports back to LUCY. b) Java \"Exploiter\": The JavaExploiter is a signed applet that will execute one or multiple commands and report back to LUCY: ![ja_exploit.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=79b556&media=ja_exploit.png) Configuration Step 1 - choose a file based template or a mixed template: In order to use the Java Applet Dropper or Exploiter you should pick a [file based or mixed scenario type](/doku.php?id=scenario_types) (if you choose a mixed scenario the applet will only be placed automatically on the second page like account.html; it won't work in a mixed scenario with just one webpage). This allows you to download and run any code that is compiled on LUCY using the Java Dropper. Please use the [file based attack tutorial to create your campaign](/doku.php?id=create_a_phishing_campaign_with_malware_simulations). Step 2 -Select the appropriate file type within the scenario settings. \"Tunnel Executable\" is the java dropper and \"java applet\" is the applet that gathers system information: ![s1_choose_filetype.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=895a86&media=s1_choose_filetype.png) Step 3 - Fine-tune the settings: If you get to the scenario settings page please choose as a compression type \"Java Applet\": ![javattack.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e7d6a6&media=javattack.png) In case you picked the java dropper, please make sure you pick a path where the browser is allowed to write & execute files (like /temp folder): ![javapath.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0550c9&media=javapath.png) In case you selected the java dropper, you still need to select the malware simulation that should be loaded & executed when the applet on landing page template is activated. Step 4 - Test your scenario:: If everything is configured correctly, the user who opens the link to the landing page should now see a popup that will ask him to run an applet. If he accepts to run the applet, the selected malware simulation is loaded into the specified directory and executed OR the system commands are getting executed (depening on which applet you picked in Step 2): ![javattackeditpage.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ca3bb0&media=javattackeditpage.png) Restrictions The applet requires the browser to have the java plugin installed and activated Only executables can be transmitted from LUCY to the client (no word files) The applet can only run on file based & mixed template types (if mixed: it will only run on the second page like account.html) create_a_phishing_campaign_with_a_java_dropper_applet.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 48,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_an_awareness_only_campaign_no_phishing",
      "content": "create_an_awareness_only_campaign_no_phishing [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_an_awareness_only_campaign_no_phishing Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_an_awareness_only_campaign_no_phishing Creating an awareness campaign without a phishing simulation Users access e-learning in order to receive awareness training with no attack scenario involved. Awareness only campaign, like any other campaign type, can be created: Using the Campaign Wizard Using the Expert Setup Campaign Wizard In LUCY you can create your first phishing campaign by pressing the button New Campaign. This will start [Campaign Wizard](/doku.php?id=create_your_first_phishing_campaign): ![new_campaign.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=461d0f&media=new_campaign.png) When the campaign wizard menu appears please choose Educate Employees type of the campaign: ![createanawarenessviacampaignwizard.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=createanawarenessviacampaignwizard.png) Within the next few menus, you will be able to configure basic settings and choose a training template for your campaign. More in [this](/doku.php?id=create_your_first_phishing_campaign) article. Expert Setup One may select Expert Setup (Manual Configuration) by simply choose the Skip the wizard and enable the expert setup option at the bottom of the Campaign Wizard window: ![expertsetup_skip_wizard.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=expertsetup_skip_wizard.png) After the campaign Base Settings are configured, kindly proceed to the Awareness Settings left menu tab and click the + New Awareness button: ![createanawarenessviaexpertmode.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=createanawarenessviaexpertmode.png) Group mappings When you create a campaign and associate a group to it, you will see a dropdown menu that allows you to map the group with the according campaign type. You have 3 options: Awareness only Attack only Attack & Awareness If you add a group and choose the mapping \"awareness\", then the users from this group will only get the mail with the awareness content delivered: ![mapping.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c1371a&media=mapping.png) Multiple awareness scenarios in awareness-only campaign Starting from Lucy 4.8 several training scenarios can be added to an awareness-only campaign. In this case, scenarios are bound to Awareness Groups that later also are bound to recipient groups that will receive awareness scenarios. Awareness Groups are also used by Scheduler to build rules for different scenarios. Awareness Groups are managed under Awareness Settings → Awareness Groups. In order to create new group simply enter the unique name and click Add. ![add_awar_group.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8456e7&media=add_awar_group.png) Awareness groups allows to group a pack of awareness by Risk Level. In case if it is necessary to send out several trainings to Risk level 0, please create an awareness group per awareness scenario, bound each scenario to a group. To add another scenario to the awareness-only campaign proceed to Awareness Settings and click +New Awareness. Inside Scenario settings choose Awareness Groups and bind the scenario to an awareness group that you created or a default one. ![bind_awar_group.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=523887&media=bind_awar_group.png) As a result, you should have all the scenarios bound to awareness groups. Now it's time to bound recipients to Awareness Groups. Under Recipients, delete all existing groups and add a new one. Check Awareness Groups that recipients should receive scenarios from. Hit Save. ![bind_awar_group_recipients.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c8b01d&media=bind_awar_group_recipients.png) Now the campaign can be started. Awareness scenarios will be sent to the recipient groups bound to according Awareness Groups. Please note that Scheduler now is also capable of building rules for multiple awareness scenarios - [separate_scheduling_for_multiple_awareness_scenarios_in_awareness-only_campaign](/doku.php?id=scheduler#separate_scheduling_for_multiple_awareness_scenarios_in_awareness-only_campaign). create_an_awareness_only_campaign_no_phishing.txt · Last modified: 2021/08/13 08:25 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 49,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_voice_phishing_campaign",
      "content": "create_a_voice_phishing_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_voice_phishing_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_voice_phishing_campaign Vishing campaigns Vishing, also commonly known as voice phishing or phone elicitation, is a rapidly growing social engineering attack vector. Vishing attempts are difficult to monitor and trace, and attackers are increasingly leveraging this mechanism to extract information and compromise organizations. Simulated attacks are an effective way to assess vulnerabilities, but the best way to ensure lasting behavior change is to teach employees how to identify and respond to vishing threats. Our extensive reporting provides actionable data about employee responses to various vishing attack scenarios. You’ll be able to identify which departments or employees are most susceptible. Procedure The LUCY vishing tests can be booked directly on our website. The standard procedure for a vishing campaign is: Scope definition (phone numbers, dates, language, goal etc.) Choose scripts (select among a list of predefined vishing scripts or create a custom script) Perform vishing assessment (Number Sppofing, Real Person Dialing, Automated Voice Box Calling etc.) Analyze & reporting Education (e.g. through LUCY's elearning module) create_a_voice_phishing_campaign.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 50,
      "source": "https://wiki.thrivedx.com/doku.php?id=technical_tests_without_involving_employees",
      "content": "technical_tests_without_involving_employees [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • technical_tests_without_involving_employees Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 technical_tests_without_involving_employees Technical tests without involving employees LUCY offers the possibility to carry out technical tests without the involvement of employees. These are tests of the infrastructure (network, Windows client etc.). LHFC - Malware testing Simulation You have invested time, effort, and money in defenses. However, employees may still execute a malicious file. How do you know your defenses will work? To reduce the risk from malware coming into your environment, you need safe and effective ways to test your systems. This is where LUCY’s Malware Simulation Toolkit (LHFC) comes in place. LHFC is an advanced malware simulation suite capable of emulating various threat simulations equivalent to many of the tools employed by hackers. More info about this test can be found [here](/doku.php?id=create_a_purely_technical_test_with_the_malware_testing_suite). ![tech_test_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=300&tok=f6f7bb&media=tech_test_1.png) ![tech_test_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=300&tok=06af56&media=tech_test_2.png) Main Questions answered by this tool: Does your AV detect known Malware downloads? What happens if an employee falls for a real attack? Is your SIEM able to trigger activities from this tool? Is Malware able to modify System Settings? Is Malware able to communicate to external servers? Can Malware access sensitive data on the local host or your intranet? Mail and Webfilter Test The Email and Internet malware protection test checks whether the implemented security measures are sufficient to defend against an unstructured or structured malware attack via the e-mail infrastructure or internet infrastructure. With our software you can check which file types could potentially enter the company and which are blocked by the security infrastructure. LUCY works with a wide range of file types that can be brought to the end system via e-mail or on a website for download. You can thus see whether potential malicious code, such as Java files, backdoors, scripts, embedded Office Objects are detected and blocked by the filter infrastructure. Based on these results, you can then carry out targeted phishing campaigns. More info about this test can be found [here](/doku.php?id=mail_and_webfilter_test). ![mailfiltertest.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6bb0b0&media=mailfiltertest.png) Main Questions answered by this test: How can malware potentially enter your network? What type of file types can be send as attachments to the end user? What type of file types can be downloaded from a website by the user? Does your internet and mail protection software detect potential malware? Does your internet and mail protection software detect obfuscated malware? Vulnerable Browser | Vulnerable Client detection When running a campaign, LUCY will tell you based on the user agent, if there is any vulnerability within the browser or plugins. A User Agent is a short string that web browsers and other applications send to identify themselves to web servers. A user agent string contains the following information: Mozilla/[version] ([system and browser information]) [platform] ([platform details]) [extensions]. Unfortunately, most browsers falsify part of their User-Agent header in an attempt to be compatible with more web servers. LUCY also is only enumerate major versions (like IE 11) but not minor versions which would show the actual patch status, some results might be false positives. Example: if you don't use the latest IE (e.g. IE10) we will query the CVE database and present all vulnerabilities for IE10 ([http://www.cvedetails.com/vulnerability-list/vendor_id-26/product_id-9900/version_id-138705/](http://www.cvedetails.com/vulnerability-list/vendor_id-26/product_id-9900/version_id-138705/)). But that does not mean the IE is not patched. This only displays all possible vulnerabilities for this browser version. Within the campaign statistics the vulnerable clients are displayed with an exclamation mark: ![vuln_client.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8ac0e3&media=vuln_client.png) Additionally to the user agent, you can also enable an advanced informagtion gaterihing script to determine, what an external webserver can find out about you. The advanced IG scripts are enabled within the campaign scenario settings: ![advanced_ig1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c95fdb&media=advanced_ig1.png) The results are under the campaign statistics (recipients): ![advanced_ig2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d2ae07&media=advanced_ig2.png) Spoofing Test The spoofing test will verify, if an anonymous user from the internet can send a spoofed email on behalf of another domain. The test can be found under \"tools\": ![tech_test_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6e06cf&media=tech_test_3.png) Procedure: Step 1: Enter the domain you are trying to spoof Step 2: Enter a mail recipient, where the spoofed email should get sent to Step 3: After a short time you will see if the spoofing test worked ![spoofing-test3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=51f62d&media=spoofing-test3.png) technical_tests_without_involving_employees.txt · Last modified: 2020/01/13 14:47 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 51,
      "source": "https://wiki.thrivedx.com/doku.php?id=spear_phishing",
      "content": "spear_phishing [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • spear_phishing Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 spear_phishing What is spear phishing? Spear phishing can be defined as a phishing method that targets specific individuals or groups within an organization. While phishing tactics may rely on shotgun methods that deliver mass emails to random individuals, spear phishing focuses on specific targets and involve prior research. How to setup a spear phishing campaign? Step 1: Research If you target individuals, you need to start some information gathering. A good source are social media profiles or articles or job descriptions. Examples: If a target posts something about his private activity like visiting a music concert, you could send a phishing email where you invite the person for a free backstage pass for the next concert. If you know the person works in support, you could adress the target with a specific salary statistics download for support people in similar positions. The goal is to find something, that could motivate the user to click.If you happen to see on Facebook or Linkedin friends of the target, you can also refer to those people in your first contact attempt. The scenario creation is the most important step. Finding a scenario should relate to the actual risks The attack configuration depends primarily on who you want to test (department/role), how much \"inside information \"* the hacker may have, and what risk you want to address. For example, consider that HR staff face different risks than IT staff or finance staff. HR is constantly receiving resumes that could contain dangerous code. The IT department has more technical freedom to download or even install software. And finance people may be vulnerable to attack if they are presented with financial data in Excel format. In the context of risk, you naturally want to test scenarios that could also be a problem for your own organization. In this respect, attack simulations where you recreate a Netflix, Paypal or Amazon phishing attack are irrelevant: One's own organization may not care if an attacker gets hold of an employee's Netflix login data. It may be annoying for the employee, but it doesn't reflect a threat scenario for internal company data. In addition, the employee may also experience phishing aimed at private services as an invasion of privacy and will question the value of such an attack. Regarding the risks, the technical aspect is also very important: one should take only those scenarios which can pose a threat from a technical point of view. If every user surfs with a company computer, which has an updated browser, then clicking on a link will not endanger the organization's data. Thus, hyperlink attacks would not be a real threat scenario. And if every employee can get to the company's webmail access only via 2FA authentication, just phishing Windows logins doesn't make sense. The hacker would not be able to do anything with the login data. Only if you recreate a fake 2FA page and successfully phish the user, you have created a realistic threat scenario. There are different types of phishing scams. Some are fairly generic attacks, where hackers send generic bulk emails (which aren't necessarily bad) to various organizations and hope someone falls for their scam. In more specific attacks, the scammer first researches their targets on social media and other public outlets, then creates tailored attack scenarios for those specific individuals or departments based on the information gathered. Example: If the company publicly announces that a new CEO is coming on board, the hacker could create a fake message from that potential CEO welcoming all colleagues and asking them to familiarize themselves with the upcoming organizational changes summarized in an attached document with a macro. So before you plan a scenario, ask yourself what type of attack you want your simulation to cover: the specific, investigation-based, or generic? If you decide to use a more complex scenario, you should always strive to create credible content. If your campaign includes a fake email from your finance department, make sure you use appropriate language, terminology, names, etc. So, don't post fake bank account verification requests when sending an email from your IT staff, for example. Also, don't forget to keep the fake party in the loop before you launch the campaign. Please download a few ideas for spear phising tests [here](/lib/exe/fetch.php?media=attack_scenarios.pdf). Step 2: Phishing Attack Build trust first The actual attack could be launched in multiple steps. LUCY offers something called [double barrel attack](/doku.php?id=create_phishing_campaign_double_barrel_attack), where you first initiate the communication and build a trust relationship before the actual attack happens. Example: If you plan to send an email to HR about a new HR portal that gets introduced, you might first want to send an announcement ahead without any link like \"Hi, This is to inform you that on date XXX we will launch the new HR portal and we selected you as test user. Stay tuned!\". The double barrel attack can be fully automated. If you want to communicate with the target interactively, you could also use the [mail manager](/doku.php?id=mail_manager). Make it customized Make sure you use petsonalized greetings, a mail footer that is realistic and if you have multiple targets, use the [variables](/doku.php?id=variables_you_can_use_in_lucy) that LUCY offers. Using the example above you could setup an email that looks like this: \"Hi %name%, This is to inform you that on %time(\"Y/m/d H:i:s\", \"6880\")% we will launch the new HR portal using the link [https://company.com/hr](https://company.com/hr) and we selected your department %division% as a test case. Stay tuned!\". Spoof the Domain with typossquatting If the client uses example.com as a domain, you could reserve a domain like example.services or examples.com or portal-example.com as a typosquatted domain. If you are curious what possible domains are available, check out [External Link](https://dnstwister.report/). You can the register the domain through LUCY in the [domain API.](/doku.php?id=domain_configuration) Make it difficult A difficult template relates to your own organization and/or spoofs a known sender and domain. The message content could reflect any internal email sender, such as your support team, HR, or another department. Depending on the scenario, you can clone the relevant website, change the domain, and test whether users would fall for the copy. For example, if you're using a Citrix or Cisco VPN portal, you could invent a scenario where you ask users to enable access to a new portal using their Windows credentials. Make it perfect! If you ask to login on a page, make sure the page has the look and feel from the target company. One possibility is to [clone an existing client page](/doku.php?id=copy_web_page) and then add a login to that page using the LUCY editor. Make sure you also create a [trusted SSL certificate](/doku.php?id=ssl_configuration) with LetsEncrypt. To give the email also a professional touch, you could buy a Smime certificate (e.g. [https://comodosslstore.com/email-identity/email-certificate](https://comodosslstore.com/email-identity/email-certificate)?) and [add it to the campaign](/doku.php?id=s_mime_certificate). Test! Before sending the email, do a test run! Newly reserved domains often end up in SPAM as they have no reputation profile yet. spear_phishing.txt · Last modified: 2022/02/22 19:11 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 52,
      "source": "https://wiki.thrivedx.com/doku.php?id=email_tracking",
      "content": "email_tracking [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • email_tracking Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 email_tracking Email Tracking Background Info You may use this feature to track if a campaign is functional and working as expected (e.g if mails arrive, the landing page works as expected etc.). With this feature, the system will periodically send emails to a test address, while the campaign is running. That will help you to make sure that the attack is executing correctly. Email Tracking Configuration The email tracking can be configured in the base settings (first screen after creating a new campaign). You can enable the checkbox and enter the mail address, where you want the tracking mail to be sent. The tracking interval (in emails) specifies the how many tracking emails are sent. For example, if you specify 10 , a tracking email will be sent after every 10 email delivered to the client. If you have a campaign with 1000 users, you would then get 100 tracking emails. ![emtrack_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bdf3e3&media=emtrack_1.png) Statistics The tracking email and all the clicks generated from a tracking email are not logged in the system and therefore will not affect the campaign statistics. email_tracking.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 53,
      "source": "https://wiki.thrivedx.com/doku.php?id=video_tracking",
      "content": "video_tracking [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • video_tracking Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 video_tracking Video Tracking Background Info When using an awareness training video in LUCY one can consider useful to track down the number of users that have played the video after receiving the awareness training email or after redirect to the awareness website. Some statistics regarding the average time of the video being played by recipients might also be useful in terms of awareness campaign effectivity assessment and personnel training productivity. LUCY allows you to verify if a training video was played. The video-tracking statistics are not personified and are displayed as a general chart in the report (PDF \\ DOCX \\ HTML) and on the statistics page. Once a recipient finished watching the video he should be marked as \"Trained\". How to track users watching an awareness video Method 1: using the quiz checkbox This method allows you only to verify if the video was played. It does not allow tracking of the video length. Please use method 2 to track more details. Mark the awareness template or website as \"Quiz\" ![quiz_video_track.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=a91528&media=quiz_video_track.png) Make sure your awareness website (or template) has the quiz-question-titles.js static file with the following content: {\"1\": \"Video Played\"} Add \"onload\" attribute to body tag of HTML content, so you get the following: <body onload=\"lucyQuizStart();\"> Add \"onplay\" attribute to video tag of HTML, so you get the following: <video onplay=\"lucyQuizAnswer(1,1);\"> Method 2: using the video tracking JavaScript Using our custom tracking JavaScript which can be downloaded [here](/lib/exe/fetch.php?media=lucy-event-javascript.zip), allows you to track the video's played in LUCY's \"flowplayer\" which are used for all our video templates. The JS should be inserted into the bottom of the page where the flowplayer video is uploaded (please don't forget to add the script tag <script> at the beginning of the script and </script> at the end of the script: ![video_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=136dc8&media=video_2.png) This script allows you to track a video start and finish the event and also display the progress in statistics (rounded percent in different event types like video-10 for 10% video played or video-90 for 90% video played, etc.). When the video is started, it sends a \"video-start\" event. When the video is finished (played to the end), it sends a \"video-finish\" event to LUCY which leads to statistics like in this graphic: ![event_video_track.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=event_video_track.png) So there two methods of tracking recipients watching LUCY awareness videos: with the help of the checkbox and using Javascript. One is able to choose whether to track only the fact of the video played or to track down the number of users played the video, sorting the users into groups based on the view duration. Both methods provide general statistics charts and add \"Trained\" marc to users' statistics. video_tracking.txt · Last modified: 2020/08/13 17:52 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 54,
      "source": "https://wiki.thrivedx.com/doku.php?id=track_opened_mails",
      "content": "track_opened_mails [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • track_opened_mails Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 track_opened_mails About tracking technologies Tracking an opened email can basically only be achieved through different technologies: Read-receipts Tracking Images Link tracking LUCY uses only tracking images and link tracking, but not read-receipts. Read-receipts: Some email applications, such as Microsoft Office Outlook and Mozilla Thunderbird, employ a read-receipt tracking mechanism. This technology is not supported by any web based mail client or any mobile device. However, requesting a receipt does also not guarantee that you will get one, for several reasons: Users can generally disable the functionality if they so wish Even if it is not disabled, a user may be forced to click a notification button before they can move on with their work Even if a user is not forced to click the read receipt, he can simply ignore it and the sender will get no notification As this technology is perceived very intrusive, limited in its use and does not give any reliable results it is not used by us or any other company in the internet to track opened email. Tracking Pixels Tracking pixels (also known as beacons) let you track email opens. Once embedded in an email, a tracking pixel connects to a 1x1 pixel GIF file stored on LUCY. When the tracking pixel is viewed, it pulls the GIF file from the web server, creating a logged event that lets you know if the user opened the message. Restrictions with tracking pixels If the mail client has turned off automatic image loading, then the image will not be loaded from LUCY and therefore you will not be able to track if the user opened the email. Most mail clients (Outlook etc.) today have disabled automatic image loading. As a result, you won't see if users opened the emails. But you still will be able to track clicked links within the email. Preliminary downloading image by mail client The opposite effect is also possible: some mail clients/programs for the caching or security purpose may preliminarily download the external content of the message, and this action will be defined by Lucy as “opened message”, although, in fact, the recipient did not open it yet. Link Tracking Each link in LUCY contains a unique identifier which enables the application to see, who clicked the link. This technology is used to also determine automatically, who has opened the email. The opened email statistics are therefore always a combination of tracking images combined with link tracking. Link tracking is enabled by default and does not need to be configured manually. Configuration Email tracking can be enabled in the scenario settings within the campaign: ![track_opened.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ef5cd2&media=track_opened.png) track_opened_mails.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 55,
      "source": "https://wiki.thrivedx.com/doku.php?id=tracking_downloads",
      "content": "tracking_downloads [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • tracking_downloads Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 tracking_downloads Tracking Downloads LUCY is able to track the download of any file (EXE, PDF; XLS etc.) uploaded to the server. Where is the tracking data visible? Report: Within the report, you can generate the tracking stats using the %charts.files% and %victim.table% variables. Export: Within the raw CSV export you have the tracking included Dashboard: downloads are visible at different parts of the dashboard: ![file_down_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=eb48ee&media=file_down_1.png) ![file_down_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9515c5&media=file_down_2.png) What do I need to do to make a file download trackable? In order for LUCY to track the download, you need to append a variable called \"?track\" after the download link. Example: let's assume you upload a PDF file to LUCY. This file needs to be placed in the \"static\" directory of the server. The track variable can be placed after the filename like this: %static%/example.pdf?track Note: LUCY offers you within the web editor the option to quickly insert a file that can be tracked. Just select (1) where you want to place the file and then click on the button \"insert trackable PDF\" (2): ![track.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2bfa2d&media=track.png) File Browser in LUCY You can upload any file or image using the built-in File Browser. It is accessible within the scenario when you edit the landing page or message template. To find more information about the feature, please, consult this [ documentation ](/doku.php?id=file_browser). Editing Examples: upload a custom image and link it to a word file with a macro Question: How can I upload a custom image in a landing page and link it to a custom designed, trackable word file that contains a macro simulation? Use your mouse cursor to select the position in the template where you want to upload the image to (1). Click on the button \"upload image or file\" (2). This opens a popup menu with multiple tabs. Click on the 3rd tab \"upload\" and select the image which you want to upload (3). Click on \"send to server\" (4). After the image has been uploaded click on ok (5) to insert the image. ![upload_image.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=81487b&media=upload_image.png) In case you cannot place the mouse cursor, you can also insert a layer (a). You can move the layer to the desired position and then insert the cursor where it says \"insert your text\" (b). ![layer_add.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cfbc71&media=layer_add.png) Now you need to link the image to the malware simulation. In case you use the standard malware simulations within the file template section you can click on the image, then on the link symbol in the editor and insert a link like this example: %static%/info.doc?track (for the file template \"MACRO - POST ONLY\"). The \"?track\" variable at the end of the link allows you to track the download of the file. In case you want to customize the malware simulation you first need to make a copy of the according file template (a), then click on the copied file template (b) and download the according word file ©. ![file_template_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=27608f&media=file_template_new.png) Now you can re-design (d) and rename (e) the file template. Make sure that the Macro is disabled during the whole opening & editing process: ![custom_ft.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0c7438&media=custom_ft.png) Once you are done, you can upload the customized file template back to LUCY (f) and give it a new name (g). Please save the changes once you are done. ![custom_f.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=493e3a&media=custom_f.png) Next go back to the landing page editor and select the image you uploaded (1). Now click on the button \"link symbol\" (2). Insert the link to the new malware simulation. In case the word file is called \"my-doc.doc\" the path must be \"%static%/my_doc.doc?track\" (3). Please press ok and then save the changes to your template. ![link_image2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=425ffe&media=link_image2.png) Please make sure that the malware simulation dropdown item points to your new custom malware simulation (1). If you preview (2) the template and test the download button, you should then see the custom word template being downloaded if you click on your custom image. ![preview_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3d6ada&media=preview_new.png) tracking_downloads.txt · Last modified: 2020/08/12 23:31 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 56,
      "source": "https://wiki.thrivedx.com/doku.php?id=monitor_a_campaign_statistics",
      "content": "monitor_a_campaign_statistics [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • monitor_a_campaign_statistics Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 monitor_a_campaign_statistics Monitor the progress of the campaign: all available campaign statistics Where can I see the logged data? The progress of the campaign can always be monitored in \"real-time\" under the statistics tabs or after a campaign using the [reporting options](/doku.php?id=create_campaign_reports) or the CSV export. If you run only one scenario, you can look at the statistics in the Top Menu called “Statistics”. ![mon_cam_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d2c611&media=mon_cam_1.png) Real time statistics in LUCY When you access the \"summary\" overview page you see the overall campaign statistics. Only if you add an awareness content to your campaign, you will see the circle statistics: ![n_dashboard.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=45758e&media=n_dashboard.png) If you access \"statistics\" tab, you will have at least 11 submenus: time technical stats categories events countries top worst collected data recipients awareness website benchmark compare ![mon_cam_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f08060&media=mon_cam_2.png) What attack related metrics can be logged in LUCY? The following list of information can be collected within a phishing campaign: [Emails Opened](/doku.php?id=track_opened_mails): Recipients opened the email (this statistic is based on a tracking image within the email. Many email clients will block the automatic download of images. As a result, this number might not be very accurate). Please read more about this feature [here](/doku.php?id=track_opened_mails). Link Clicks: Recipients clicked the link in the email (a unique randomized URL that is generated by LUCY to match the link with the email recipient). Each user (SMS or Mail) gets a unique link (see [chapter](/doku.php?id=mail_settings) how links are created). It can be activated only once using a GET request from the client. So if a client clicks on the link and forwards the email to a different person, who also clicks on that link, it will still be considered only as one click. As a result any SPAM filter that follows the links within the email before delivering it to the final recipient might generate some false positives. Therefore it is important to always perform a test run. Successful Attacks: Recipients submitted data in a form (e.g. login data that is submitted via a form based POST request), clicked on a link, executed a file etc. A complete list of [success status](/doku.php?id=success_actions) is here. [Invalid submits](/doku.php?id=regular_expressions_in_login_fields): Recipients submitted data in a form (e.g. login data) - but it did not meet the filters in those input fields which you might have defined. More info can be found [here](/doku.php?id=regular_expressions_in_login_fields). Hourly Stats: Page views, link clicks, successful attacks, invalid submits, etc. ![hourly_stats.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4616c4&media=hourly_stats.jpg) Daily Stats: Page views, link clicks, successful attacks, invalid submits, etc. Recipient Criteria's: Based on the usage of additional fields in the [recipients list](/doku.php?id=add_mail_recipients) you can sort and filter the statistics for each field Operating System Of recipient. This information is based on the user agent string. See [https://en.wikipedia.org/wiki/User_agent](https://en.wikipedia.org/wiki/User_agent) Browser type Of recipient: This information is based on the user agent string. See [https://en.wikipedia.org/wiki/User_agent](https://en.wikipedia.org/wiki/User_agent) Browser Plugins Of recipient: This information is based on the user agent string. See [https://en.wikipedia.org/wiki/User_agent](https://en.wikipedia.org/wiki/User_agent) [File downloads](/doku.php?id=tracking_downloads) (Requires you to append the ?tracking variable at the end of the download link). More details can be found [here](/doku.php?id=tracking_downloads). IP: Remote IP address of your recipient. If your user is accessing the internet using a firewall, web proxy or any other gateway, LUCY will only display the remote accessible IP. Please note: sometimes your security products (firewall, mail gateway, provider infrastructure, web proxy, local scanner, IPS etc.) may examine the URL's sent to a recipient. Therefore it is possible that \"unknown\" IP's appear in the log where access is measured based on the request in the recipient's browser. The URL defined within the campaign for the respective recipient is called (%link% variable). This link consists of the domain of the scenario and a random string of numbers and letters containing at least 16 digits (e.g. [http://your.domain.com/b1gyg9ux95ilkoom](http://your.domain.com/b1gyg9ux95ilkoom)). This URL cannot be guessed or brute forced by a computer within a reasonable period of time. Since the recording of the access is based on the logfile of the webserver, which measures whether the random URL's generated in the system appears in the queries, false positives or errors can be completely excluded in the statistics. Vulnerable Browser | Vulnerable Client: Based on the user agent, LUCY will tell you if there is any misuse. A User Agent is a short string that web browsers and other applications send to identify themselves to web servers. A user agent string contains the following information: Mozilla/[version] ([system and browser information]) [platform] ([platform details]) [extensions]. Unfortunately, most browsers falsify part of their User-Agent header in an attempt to be compatible with more web servers. LUCY also is only enumerate major versions (like IE 11) but not minor versions which would show the actual patch status, some results might be false positives. Example: if you don't use the latest IE (e.g. IE10) we will query the CVE database and present all vulnerabilities for IE10 ([http://www.cvedetails.com/vulnerability-list/vendor_id-26/product_id-9900/version_id-138705/](http://www.cvedetails.com/vulnerability-list/vendor_id-26/product_id-9900/version_id-138705/)). But that does not mean the IE is not patched. This only displays all possible vulnerabilities for this browser version. Within the campaign statistics the vulnerable clients are displayed with an exclamation mark: ![mon_cam_10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f771c6&media=mon_cam_10.png) Client and network based vulnerability report: If you embed [LHFC](/doku.php?id=create_a_purely_technical_test_with_the_malware_testing_suite) within a campaign you can collect output from up to 45 vulnerability checks Additional stats: LUCY can determine additional info like: Flash VBScript PhoneGap Google Gears Silverlight Web Socket QuickTime RealPlayer WMP WebRTC ActiveX Session Cookies Persistent Cookies Tor FireBug Popup Blocker Unsafe ActiveX * Time based stats: How long does the user stay on each landing page? ![time_based_tracking.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=972700&media=time_based_tracking.jpg) * User history: Historical user statistics ![user_history.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=acdc02&media=user_history.jpg) View the collected data from users (passwords, uploads etc.) The actual collected data (user passwords, Output from Tools) are located within the scenario. You need to select “Collected Data” and the related scenario. ![mon_cam_9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cc5218&media=mon_cam_9.png) When you click “Click to View”, you are able to see the detailed data. ![66.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=976d29&media=66.jpg) See advanced recipient statistics When you click on Recipients, you can see the details about the user who clicked on a link, participated in an awareness campaign etc. Just click on the name and a sub menu with all details will open. The exact output of BeEF or the awareness page can be opened beneath each recipient (just click on the link to expand the details): ![detailed_results.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=29d141&media=detailed_results.png) Note - Opened Emails Statistics: The general statistics are presented on the campaign Overview page. It also contains a statistics called “Opened Emails”. This statistic is based on a tracking image within the email. Many email clients will block the automatic download of images. As a result, this number might not be very accurate. ![68.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e83ae1&media=68.jpg) Note - Clicks Statistics: Some users might click on the link twice or refresh the webpage. This has also an effect on the “Clicks” or “Form Submits”. Starting with LUCY 4.4 you have also a user history, that will show you all historical events related to a specific user for this and other campaigns. Please click on \"user history\" to open the timeline below: ![user_history.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a20650&media=user_history.png) Track e-learning (awareness) LUCY allows you to monitor the [eLearning Stats](/doku.php?id=interactive_elearning_pages) and track: Who participated in an eLearning, Which question got answered correctly How much time it took in average to answer a question Success_rate: how many times has the user been successfully attacked in one or multiple campaigns Click_rate: how many times has the user clicked on a link in one or multiple campaigns Answers_count: in how many interactive elements did the user participate? Correct_answers_count: how many of the interactive elements did the user answer correctly? Quiz_time_spent: how much time did the user spent on an interactive element in general or in particular Video watched: if a video was watched and if: was it watched until the end? How can LUCY monitor the learning access? Similar to the phishing page each awareness landing page has a randomized URL variable which could look like this: [http://your.awareness-page.com/Zhsdg3](http://your.awareness-page.com/Zhsdg3) (where “Zhsdg3” is a randomized string generated in LUCY that is associated with a unique mail address). When the user makes a GET request to that URL, LUCY knows that the eLearning page has been accessed by the user and the user counts as trained. It is irrelevant for LUCY if on that awareness page has an embedded video or just some static HTML. If you want to go further and track if and how specific content is accessed within a landing page you need to click on “quiz enabled” within the awareness page (see [http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=create_an_interactive_e-learning_template](http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=create_an_interactive_e-learning_template)). You can use this embedded JavaScript to track basically any interaction on the awareness website (e.g. Place a START button to play a video and set the starting point for the script accordingly). If you want to see examples on how the interactive eLearning is implemented we recommend taking a look at some existing templates (e.g. [http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=interactive_elearning_pages](http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=interactive_elearning_pages)). How can the awareness data be exported? You can access the awareness data via: Reports (Raw CSV Report or PDF/HTML Export) Statistics/Recipients (expand recipient to see the details) Statistics/Awareness Website Where are the training results located on the dashboard? a) General training statistics can be accessed within a campaign under \"summary\" ![training_mon.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=72e21a&media=training_mon.png) b) The summarized training results can be accessed within a campaign under \"statistics/awareness website\" ![mon_cam_11.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=884d4d&media=mon_cam_11.png) c) The detailed training results for each recipients can be accessed under \"statistics/recipients\". You can sort the table by trained/untrained and at the bottom you can see the exact results (answers) from the specific user. If configured, you could also see the [reputation level](/doku.php?id=user_reputation) Where can the recipient see his training results? The recipient can access his training results via the [end user page](/doku.php?id=end_user_e-learning_portal), where he is also able to print a certificate if he passed the training. Note: If you want to track how users perform on an interactive quiz you need to [activate this feature](/doku.php?id=create_an_interactive_e-learning_template). Deleting Data in Statistics Delete all Stats: Press \"Reset Stats\" - the data in the database for this campaign is deleted and cannot be restored. ![reset_stats.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=32ab3e&media=reset_stats.png) Delete Stats from a Single User: Go into Stats/Recipients and delete the specified user. The user will not appear in the stats anymore. ![delete_single_user.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ff3213&media=delete_single_user.png) Delete Stats from a User Group: If you remove a group from a running campaign all stats associated with this group will be deleted. Compare Different Campaigns Using the compare button within a single campaign you are able to compare the campaign statistics among different campaigns. In order to compare campaigns please go to \"statistics\" within the campaign and then click on \"compare\". ![mon_cam_12.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=898e54&media=mon_cam_12.png) LUCY will allow you to compare your current campaign against all other campaigns visible for the current client. ![mon_cam_13.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5592da&media=mon_cam_13.png) Common Questions regarding the stats How can a click rate in recipient statistics be ever less than 100 %? That is calculated for a recipient over several campaigns: if the recipient has participated in 10 campaigns and clicked on a link in 5 campaigns, the click rate will be 50%. The same with the success rate How is it possible the awareness dashboard shows \"N/A\" for certain countries? Lets say a campaign has 3 victims, 1 from Switzerland and 2 N/A (as they never clicked). These 2 charts show - the percentage of users from countries that clicked or not clicked the awareness webpage link (it shows 100% from Switzerland never clicked and 100% from N/A never clicked) and the second chart shows absolute numbers - 1 from Switzerland never clicked the awareness link and 2 from N/A never clicked the link as well. monitor_a_campaign_statistics.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 57,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_campaign_reports",
      "content": "create_campaign_reports [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_campaign_reports Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_campaign_reports Where can I create my phishing reports? Within each campaign you will find a button that allows you to create a PDF, HTML, Word (docx) or raw CSV report based on a predefined template. ![camp_rep_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=efb351&media=camp_rep_1.png) Once the report is created (please be patient - the report creation may take a few minutes) the status indicates that it is available for download (just click on the date/time to start the download): ![camp_rep_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2c62ca&media=camp_rep_2.png) Below is an output of a LUCY sample report using the .docx template (please note that the recipient details are not included; this is a different template): ![sample_report.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=51c4df&media=sample_report.png) Where can I find my report templates? LUCY comes with one predefined report template called \"Phishing Report Template\". You find it under \"Settings/Templates/Report-Templates\". ![camp_rep_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0b932a&media=camp_rep_3.png) ![r2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=25b3da&media=r2.png) How can I edit my report templates? You may either edit the existing template or create a new one. The template contains sections which can be freely edited. These sections can be used later in PDF, HTML or Word reports which are generated within a campaign. ![71.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e17656&media=71.jpg) You may add your own sections and also customize the title name and logo. ![r5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e810fe&media=r5.png) What variables can be used for the report? Lucy comes with a constantly growing list of variables which are placeholders for specific statistics or graphics. You find the variables within the variable list in LUCY: ![variable_list_rr.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f6959e&media=variable_list_rr.png) Those placeholders can be inserted in the content of any report chapter: ![report_variables.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7ea70f&media=report_variables.png) When you create the report within a campaign those variables will be populated with your specific campaign statistics (similar to the graphics you already know from the dashboard). Those variables are: %report.createdate% Create Date Of Report %report.author% Author Of Report %startdate% Start Date & Time Of Campaign %finishdate% Finish Date & Time Of Campaign %creator% User Who Created The Campaign %file.formats% File Based Attacks: Name Of File Formats Used In Campaign Scenarios %scenarios.number% Number Of Scenarios Used In Campaign %scenarios.names% Names Of Scenarios Used In Campaign %scenarios.types% Types Of Scenarios Used In Campaign %client% Client Name %opened% Percentage Of Opened Mail %opened.count% Number Of Emails Opened %clicked% Percentage Clicked On Link %clicked.count% Number Of Emails Clicked %sent.count% Number Of Emails Sent %reported% Percentage Of Users Reported %success% Percentage Of Emails Submitted Data %success.count% Number of Emails Submitted Data %domains% Domain(s) Used In Scenario Settings %timezone% Timezone Setting Of LUCY %recipients.groups% Recipient Group Names In Campaign %awareness.names% Name Of Awareness Template Used %awareness.sent% Number Of Awareness Emails Sent %awareness.opened% Number Of Awareness Emails Opened %awareness.incomplete% Number Of Users With Incomplete Training %awareness.completed% Number Of Users Who Completed Training %questions.number% Number Of Questions In Quiz %data.number% Absolute Number & Relative Number Of Collected Data From Users %out.of.office% Percentage 'Out Of Office' Responses %bounced% Percentage Bounced Messages %responded% Percentage Responded Recipients %recipient.count% Number of recipients %incident.count.campaign% Number of incident reports in campaign %incident.count.campaignrelated% Number of all campaign-related reports in total %incident.count.notcampaignrelated% Number of all reports not related to campaigns %incident.count.total% Number of incident reports total %logo% Logo %table.contents% Table Of Contents %system.info% System Information %file.settings% File Based Attacks: Settings Table %scenarios.settings% Scenarios Settings %scenarios.filebased.settings% Filebased Scenarios Settings %message.settings% Message Template Settings %schedulers% Scheduler Settings %awareness.settings% Awareness Website Settings %data% Reports the file attack output & forms POST data %additional.fields% List Of Available Recipient Fields %victim.table% Detailed Victim Results %victim.table.opened% The list of victims who opened the email %victim.emails% Table of recipient email addresses %victim.table.osbrowsers% Browser and OS stats table %victim.table.trainingstats% Table With Columns: \"Email\", \"Trained\", \"Trained At\", \"Answers Count\", \"Correct Answers\", \"% Of Correct Answers\" %victim.table.successclickrate% Table Columns: \"Email\", \"Succeeded\", \"Succeeded At\", \"Success Rate\", \"Click Rate\" %victim.table.mailstats% Table Columns: \"Email\", \"Email Opened\", \"Mail Submitted At\", \"Clicked\", \"Clicked At\" %quiz% Quiz Questions %analyse.stats% Analyse Statistics %benchmark.stats% Benchmark Statistics %compare.stats% Campaign Comparison Statistics %trends.stats% Trends Stats %timeline% Campaign Timeline %scenarios.table.successaction% Scenarios Success Action Table %charts% All Charts %charts.summary% Summary Chart %charts.totalstats% Total Stats Chart %charts.analyse% Analyse Stats Chart %charts.awarenesstime% Awareness Time Chart %charts.scenariotime% Scenario Time Chart %charts.scenariostats% Scenario Stats Chart %charts.dailystats% Daily Stats Chart %charts.hourlystats% Hourly Stats Chart %charts.responses% Responses Detection Chart %charts.events% Events Chart %charts.os% Operating System Chart %charts.browsers% Browsers Chart %charts.files% Files Chart %charts.plugins% Plugins Chart %charts.countries% Countries Chart %charts.awareness% Awareness Stats Chart %charts.clickstats% Click in First 8 Hours Chart %charts.awarenessclicks% Awareness Website Clicks Chart %charts.additional% Additional Charts %charts.custom% Custom Fields Charts %charts.stafftype% Staff Types Chart %charts.location% Locations Chart %charts.division% Divisions Chart %charts.comment% Comments Chart %charts.reports% Percentage reported/not-reported Chart %charts.reportdynamics% Reports Dynamics Over Time %charts.quizquestions% Awareness Quiz Questions Chart %charts.quizscores% Awareness Quiz Scores Chart %charts.quiztimes% Awareness Quiz Times Chart %domains.table% Domain list (table with columns: \"Domain\", \"Associated scenario\") %users.table% Campaign responsible users (table with columns: \"User\", \"User type\") %recipient.group.table% Recipient groups (table with columns: \"Group\", \"Number of users in this group\") %recipient.group.extendedtable% Recipient group to scenario association (table with columns: \"Name\", \"Scenario\", \"Mapping\", \"Recipients\") %recipient.group.customfields.table% Recipient settings (table with columns: “Group Name“, “Fields”, “Values”) %campaign.scenarios.table% Table of scenarios for the campaign (table with columns: \"Scenario Name\", \"Scenario Type\") %awareness.website% All Awareness Website Screenshots %awareness.website.table% All Awareness Website Screenshots Table %awareness.mail% All Awareness Email Template Screenshots %message.screen% All Message Template Screenshots %landing.screen% All Landing Page Screenshots %landing.screen.table% All Landing Page Screenshots Table %message.screen#% Message Template Screenshot (# - replace to scenario sequence number) %landing.screen#% Landing Page Screenshot (# - replace to scenario sequence number) %summary% Summary report across all campaigns for the current client %summary.[type]% Summary report across all campaigns by scenario type ([type] - scenario type, example: %summary.file%). List of available scenario types:%summary.file% - File-Based %summary.mixed% - Mixed %summary.malware_test% - Technical Malware Test %summary.hyperlink% - Hyperlink %summary.data% - Web Based %summary.awareness% - Awareness Only %summary.usb_attack% - Portable Media Attack %summary.mail_web_test% - Mail & Web Test %summary.[period]% Summary report across all campaigns by time ([period] - time period in years or months, example: %summary.2016-2017% or %summary.11.17-12.17%) %worst.employees.[limit]% Worst employees ([limit] - number of entries to show, example: %worst.employees.10%) %worst.division.[limit]% Worst divisions ([limit] - number of entries to show, example: %worst.division.10%) %worst.location.[limit]% Worst locations ([limit] - number of entries to show, example: %worst.location.10%) %worst.staff_type.[limit]% Worst staff types ([limit] - number of entries to show, example: %worst.staff_type.10%) %worst.comment.[limit]% Worst comments ([limit] - number of entries to show, example: %worst.comment.10%) You can see the result of using each of the above variables [here](/doku.php?id=examplesofvariables). Can I add custom parameters to my report? Yes - with LUCY > 3.1 you can [add custom parameters](/doku.php?id=add_custom_statistical_data_to_phishing_campaigns) to your report. How can I create raw CSV exports of my campaign data? If you click on a campaign name you will be able to export all data to a raw CVS export: ![camp_rep_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9e4a4e&media=camp_rep_4.png) The export then can be downloaded under support/exports: ![exports2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=06f054&media=exports2.png) ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Reports in the CSV format are generated using the default separator (tabulation). Please consider this when opening CSV files - in some versions of Excel you may need to manually specify the type of separator when opening the file. You can change the default separator in the Advanced Settings section: ![camp_rep_5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c25dac&media=camp_rep_5.png) Is it possible to automatically export report data? You can have LUCY automatically create a report and send it to the email address associated with the user that created the campaign by clicking on the checkbox \"After I stop the campaign, send me a report to…\". As soon as you stop the campaign the report will be mailed to that address: ![aut_report.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e68242&media=aut_report.png) Is it possible to automatically pull report data from LUCY (e.g. from your SOC)? You can fetch all campaign statistics by using our REST API. create_campaign_reports.txt · Last modified: 2021/09/28 11:11 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 58,
      "source": "https://wiki.thrivedx.com/doku.php?id=add_custom_statistical_data_to_phishing_campaigns",
      "content": "add_custom_statistical_data_to_phishing_campaigns [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • add_custom_statistical_data_to_phishing_campaigns Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 add_custom_statistical_data_to_phishing_campaigns Background Info Beside the common statistical data in LUCY like link clicks, submitted form data etc. you might also want to add custom statistical data from a live campaign into LUCY. Examples for such custom statistics could be: CERT (computer emergency response team) responses from users Users who replied to the attacker Users who participated in security training programs prior to the phishing campaign etc. Configuration Within the campaign configuration menu you have a button called \"custom fields\". This allows you to add any custom field that can be used for statistical analysis later. Lets say you want to track how many users reported the phishing attack to the helpdesk. In this example you could create a custom field called \"Help Desk: Phishing Mail reported\". ![customfiel.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=94074b&media=customfiel.png) Once the campaign has started and you get feedback on users reporting the phishing attack you can go into the campaign statistics under \"recipients\" where you can select the recipient(s) who reported the phishing mail. The custom field(s) will appear there as a checkbox, which you can activate. This information can be alter used in the reports or CSV export. ![custom_fields_ii.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=621e87&media=custom_fields_ii.png) add_custom_statistical_data_to_phishing_campaigns.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 59,
      "source": "https://wiki.thrivedx.com/doku.php?id=export_recipients_who_failed_or_succeeded_in_a_phishing_simulation",
      "content": "export_recipients_who_failed_or_succeeded_in_a_phishing_simulation [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • export_recipients_who_failed_or_succeeded_in_a_phishing_simulation Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 export_recipients_who_failed_or_succeeded_in_a_phishing_simulation Background Info: After running a phishing campaign you might quickly want to identify users who failed the phishing simulation and re-use them for another campaign (e.g. awareness campaign). Configuration On the campaign summary you will find an export button that allows you to export your campaign statistics into CSV or export failed & successful phishing recipients: ![exp_rec_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=21d8bc&media=exp_rec_1.png) Once you click the export button LUCY will create a new group within the recipients navigation tab that contains the according users. Those groups can then be used for further specific campaigns: ![exp_rec_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3c77a9&media=exp_rec_2.png) export_recipients_who_failed_or_succeeded_in_a_phishing_simulation.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 60,
      "source": "https://wiki.thrivedx.com/doku.php?id=compare_statistics_for_multiple_campaigns",
      "content": "compare_statistics_for_multiple_campaigns [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • compare_statistics_for_multiple_campaigns Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 compare_statistics_for_multiple_campaigns Compare Different Campaigns Using the compare button within a single campaign you are able to compare the campaign statistics among different campaigns. In order to compare campaigns please go to \"statistics\" within the campaign and then click on \"compare\". ![compare_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1d27dc&media=compare_1.png) Also, you have advanced comparison statistics that allow you to make also trend analysis: ![compare_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e0e232&media=compare_2.png) compare_statistics_for_multiple_campaigns.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 61,
      "source": "https://wiki.thrivedx.com/doku.php?id=dashboard_view",
      "content": "dashboard_view [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • dashboard_view Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 dashboard_view The LUCY Dashboard Starting with LUCY 4.0 we re-designed the dashboard. On the start page you can add widgets, that use different information sources. The widgets can be moved up and down or right and left (1), or you can close them (2): ![widgets_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=07bb62&media=widgets_1.png) Dashboard Filters The LUCY Dashboard (LUCY Start screen) shows the user all running and stopped campaign. Please note that all columns are sortable by clicking on the column title. This view can be filtered by: Campaign Type (All, Phishing, Awareness, Phishing & Awareness, Portable Media Attack) Campaign Status (All, Not Started, Running, Awaiting Approval, Stopped) ![dashboard_status.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e6b316&media=dashboard_status.png) ![dashboard_type.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=aefe51&media=dashboard_type.png) Dashboard Search Within the Dashboard you also have the possibility to search for specific campaign names: ![dsh_s.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=917eaa&media=dsh_s.png) Dashboard Views You can select different default views for your dashboard: ![dashboard_views.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e4e9ef&media=dashboard_views.png) Here an example of a status based view: ![dashboard_views_example.png.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=efd8a1&media=dashboard_views_example.png.png) Dashboard Actions Within the dashboard actions you can start, stop, copy, restore or delete campaigns. Click [here](/doku.php?id=backup_restore_your_campaign) for more details regarding the backup and restore. If you have a LUCY security update pending that requires that you stop all campaigns before updating, you can select all campaigns at once and then click on the \"stop all\" button. To resume the campaign (without re-sending the mails) please click the start button for all the campaigns that you want to start. ![dashboard_actions.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a5d329&media=dashboard_actions.png) Dashboard Export Starting with LUCY 3.3 you can export the dashboard info (overall stats, campaign names etc.): ![dash_exp.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9e8c0a&media=dash_exp.png) This will create an CVS file with the according details: ![dash_export.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5e5e17&media=dash_export.png) dashboard_view.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 62,
      "source": "https://wiki.thrivedx.com/doku.php?id=quiz_detailed_results_per_recipient",
      "content": "quiz_detailed_results_per_recipient [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • quiz_detailed_results_per_recipient Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 quiz_detailed_results_per_recipient LUCY < 3.2 In LUCY < 3.2 you can see the detailed quiz stats within statistics/recipients. You need to click on the according user and then scroll to the bottom where you will find a navigation item called quiz results. Click on that link to see the detailed results. ![quiz_reults.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=797864&media=quiz_reults.png) LUCY > 3.3 The detailed quiz results can be created within the reports or exported via CSV. quiz_detailed_results_per_recipient.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 63,
      "source": "https://wiki.thrivedx.com/doku.php?id=benchmark",
      "content": "benchmark [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • benchmark Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 benchmark About Benchmarks You can set a Benchmark for a campaign (when you start a campaign). The Benchmark will allow you to compare results from different campaigns and sectors with each other (in case you use LUCY for performing phishing campaigns against multiple clients). The benchmark uses an internal database and no data every gets submitted to our server. Only if you use LUCY for the very first time, you will get asked once, if you want to participate in submitting anonymous data. The default value is no submission of anonymous data. Your answer will get stored within the advanced settings: ![bench_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7d27ba&media=bench_1.png) By default the industry field is empty. The more tests you do, the easier it will be in future to compare the results with each other if you allocate a Benchmark for each test. Benchmark results are not shared among LUCY installations. No campaign data will be ever transmitted to external servers. ![bench_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=71bbe0&media=bench_2.png) Your Benchmark values can be edited under \"Settings\\Benchmark Sectors\". ![bench_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8709d3&media=bench_3.png) How to add custom sectors You can add new benchmark sectors by clicking on the \"new\" button at top right: ![bench_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=eb8873&media=bench_4.png) benchmark.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 64,
      "source": "https://wiki.thrivedx.com/doku.php?id=export_campaign_data",
      "content": "export_campaign_data [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • export_campaign_data Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 export_campaign_data Introduction: Exporting data into groups or files In the LUCY there's a navigation item called export within the campaign overview page. The menu that opens allows you to export any campaign-related data: ![exp_cmp_data_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e47bc7&media=exp_cmp_data_4.png) You can either export [ALL data that gets monitored](/doku.php?id=monitor_a_campaign_statistics) in LUCY or only specific data: ![exp_cmp_data_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=efd5c6&media=exp_cmp_data_2.png) Export into CSV ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Reports in the CSV format are generated using the separator specified in the Advanced Settings section. The default separator is a tabulation. Please consider this when opening CSV files - in some versions of Excel you may need to manually specify the type of separator when opening the file. Export recipients to CSV (1): allows to export recipients to a CSV file (can be opened in excel) based on different criteria ![exp_cmp_data_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2937a7&media=exp_cmp_data_3.png) Export benchmarks (4): This will export the main statistics (scenario name, number of messages_sent, mails_opened, clicks & succeeded) to a CSV. If you want to export ALL data, please use \"Export recipients to CSV\" and select \"ALL\". Export collected data to CSV (5): export the data collected (any submitted data or file uploads from malware simulations) in the campaign to a CSV Export Collumns The following table contains the list of all export columns with description and the value type specification. Collumn name Description Value Type name Name of the recipient Text email Email of the recipient Text phone Phone number of the recipient Numeral gender Gender of the recipient Male / Female link Unique link of the recipient Text lure_submitted_at Time of lure email submission Timestamp mail_submitted_at Time of email submission Timestamp clicked Recipient clicked the link in the email Yes / No clicked_at Time recipient clicked the link in the email Timestamp succeeded Success action triggered for the recipient Yes / No succeeded_at Time when success action was triggered Timestamp trained Recipient has completed the training Yes / No trained_at Time when recipient has completed the training Timestamp reported Recipient has reported the message via LUCY Report Plugin Yes / No reported_at Time when recipient has reported the message Timestamp domain Domain used in the campaign's scenario Text scenario Name of the scenario on the campaign Text staff_type Info about recipient's staff category Text location Info about recipient's location Text division Info about recipient's department Text comment Additional optional comment about the recipient Text os Operational System of the workstation that submitted first click Text ip IP of the workstation that submitted first click Numeral proxy_ip IP of the proxy Numeral browser Browser of the workstation that submitted first click Text plugins Plugins detected on the workstation that submitted first click Text country Country based on IP County Code success_rate How many times a recipient was successfully attacked, depending on the Success Action Numeral click_rate How many times a recipient clicked the attack link Numeral scenario_time Amount of time the victim has spent on the phishing link page Numeral awareness_time Amount of time the victim has spent on the awareness link page Numeral email_subject Subject of the sent email Text first_click_after_delivery Time value in seconds between mail_submitted_at and succeeded_at Numeral first_report_after_delivery Time value in seconds between mail_submitted_at and reported_at Numeral reminder_click_submitted_at Time when recipient clicked the reminder link Timestamp reminder_training_start_submitted_at Time when the recipient started the training provided by reminder Timestamp reminder_training_finish_submitted_at Time when the recipient finished the training provided by reminder Timestamp downloaded_files File-based attack downloaded files by the recipient Text collected_data The data that has been submitted by the recipient on the landing page Text out_of_office_at Time of Out of Office autorespond Timestamp bounced_at Time of the Bounced response Timestamp responded_at Time of the incoming response to the email Timestamp certificate_received Recipient has received a certificate Yes / No training_with_quiz_passed Recipient has passed a training with Quiz mode enabled Yes / No training_with_quiz_passed_at Time when recipient has passed a training with Quiz mode enabled Timestamp training_noquiz_finished Recipient has finished a training without Quiz Yes / No training_noquiz_finished_at Time when recipient has finished a training without Quiz Timestamp security-level Level of awareness security Numeral answers_count_0 Quiz answers count Numeral answers_percent_0 Quiz answers percentage (based on total number of questions) Percentage correct_answers_count_0 Number of correct quiz answers Numeral correct_answers_percent_0 Correct answers percentage (based on total number of questions) Percentage wrong_answers_count_0 Number of wrong quiz answers Numeral wrong_answers_percent_0 Wrong answers percentage (based on total number of questions) Percentage quiz_time_spent_0 Time spent for quiz Minutes / Seconds training_succeeded_0 Recipient has completed the training with Extended method of tracking the end of the quiz Yes / No training_succeeded_at_0 Time when recipient has completed the training with Extended method of tracking the end of the quiz Timestamp Export into groups Export recipients to groups (2): this feature allows you to create new groups. Once you click the export button LUCY will create a new group within the recipients navigation tab that contains the according users. Those groups can then be used for further specific campaigns Export recipients within submitted time range to a new group (3): using this function you can export recipients in a new group using a specific time range ![export_time_range.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d4a2ad&media=export_time_range.png) Alternative: Export via API Beside manual exports, you can use also our API to fetch all data. More details [here](/doku.php?id=api) Export Logins All collected data can be exported. Go to statistics/collected data and then click \"export: ![export_pwd.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1a7409&media=export_pwd.png) Automated Export The export process can be also automated by using the feature \"Automated Export\" which can be found in the left navigation bar of the campaign's overview page: ![au_export_01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fb543f&media=au_export_01.png) The automated export can be configured by the following options: Export Target: multiple data type exports can be selected, each representing a separate data export Export Frequency: determines how frequently the export should be created (Dayly, Weekly, Monthly, Yearly) Export Time: at what time the export should be generated Export Days: days of week or month: 1-7 for weekly, 1-31 for monthly. Days of year: 1-12 (month numbers); 1-31 (days of month) for yearly. Example for weekly: 1,3,5,7. Example for monthly: 1, 15, 25. Example for yearly: 1,3,5,7; 1,15. Export Type: file format XML or CSV. The following example on the screenshot shows the configuration of the full data weekly report done each Friday at 15:00 in CSV format. ![au_export_02.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9129a6&media=au_export_02.png) The generated automated exports can be found in this menu section: Support > Exports export_campaign_data.txt · Last modified: 2022/03/05 17:49 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 65,
      "source": "https://wiki.thrivedx.com/doku.php?id=filters_and_search",
      "content": "filters_and_search [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • filters_and_search Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 filters_and_search Filters and search LUCY allows you to search for any parameter that got logged within the recipient detail statistics (1). Additionally, you can use the scrollbar and the marked items to quickly filter the output for the selected criteria (2). ![filters_search.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=22ff58&media=filters_search.png) filters_and_search.txt · Last modified: 2021/08/04 21:39 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 66,
      "source": "https://wiki.thrivedx.com/doku.php?id=global_statistics",
      "content": "global_statistics [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • global_statistics Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 global_statistics Global statistics export In LUCY > 4.8 there is a mechanism that allows exporting end-user statistics from the system globally. Information per recipient is gathered across all of the existing campaigns. In the moment of Export, LUCY scans all of the existing campaigns and does the global calculation of statistics. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) To get such an export (csv/xml) it is necessary to have the End-User portal configured. If it is not, please configure [it](/doku.php?id=end_user_e-learning_portal). As soon as ready, the global statistics will be available. Go to Settings → End Users → End Users. Click the Export button. ![eu_export.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4502a5&media=eu_export.png) A pop-up menu will appear that would allow you to define, what export exactly to create. ![select_export_types.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1dc99f&media=select_export_types.png) It is possible to export statistics of recipients by selecting particular campaigns or recipient groups. It is also necessary to define, how the rows will be grouped, by recipient groups, by campaigns or by end-user. The same functionality is available in a campaign as well, at Statistics → Overal Recipient Statistic However, it is limited. There is no option to sort the stats by end-users. ![overall_exp.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b368ce&media=overall_exp.png) The export file will contain such data as: Option with grouping by end-user is active: Group - Name of the recipient group. Email - Email of the recipient. Phone - Phone of the recipient. Name - Name of the recipient. Clients - A client to which the recipient is bound. Created_at - When the end-user profile is created. Staff_type - Staff type attribute of the recipient. Location - Location attribute of the recipient. Division - Division attribute of the recipient. Comment - Comment attribue of the recipient. Simulations_count - Amount of Phishing Simulations in total. Reported_count - Number of reported phishing simulations. Failed_simulation_count rating - Recipients raiting. Average_quiz_score - Average Awareness Quiz Score. Trainings_count - Number of Awareness Courses in total. Completed_trainings_count - Number of Completed Trainings in total. Incompleted_trainings_count - Number of Incompleted Trainings in total. Diplomas_received - Number of Recieved Diplomas. Option with grouping by recipient groups active: Group - Name of the recipient group. Simulations_count - Amount of Phishing Simulations in total. Reported_count - Number of reported phishing simulations. Failed_simulation_count rating - Recipients raiting. Average_quiz_score - Average Awareness Quiz Score. Trainings_count - Number of Awareness Courses in total. Completed_trainings_count - Number of Completed Trainings in total. Incompleted_trainings_count - Number of Incompleted Trainings in total. Option with grouping by campaigns active: Campaign - Name of the Campaign. Simulations_count - Amount of Phishing Simulations in total. Reported_count - Number of reported phishing simulations. Failed_simulation_count rating - Recipients raiting. Average_quiz_score - Average Awareness Quiz Score. Trainings_count - Number of Awareness Courses in total. Completed_trainings_count - Number of Completed Trainings in total. Incompleted_trainings_count - Number of Incompleted Trainings in total. global_statistics.txt · Last modified: 2021/07/05 08:11 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 67,
      "source": "https://wiki.thrivedx.com/doku.php?id=clicks_history",
      "content": "clicks_history [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • clicks_history Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 clicks_history Clicks history Starting from Lucy v4.8.4 it is possible to monitor individual click statistics for each recipient. ![clicks_history.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=clicks_history.png) Aside from providing more detailed statistics on user actions, this functionality also might come in handy in case of false positives in the campaign. For example, the Microsoft SafeLinks policy opens the email and sends a request to the simulation URL which is considered by Lucy as a click. In that case, due to poor whitelisting users that actually deleted or reported simulation emails will be still counted as successfully attacked. Now with Clicks History functionality, it is possible to keep track of IP addresses and User Agents from which clicks originated. Thus, one is able to analyze and compare the IP address of the victim and make sure the click was real. ![clicks_history1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=clicks_history1.png) No additional configuration is required, requests are automatically gathered by Lucy from the web-server log and is added to the victim's record. Clicks statistics can be found under Statistics → Recipients. Open the details of a particular recipient and you'll find the table with detailed stats. It's also possible to [ export clicks statistics](/doku.php?id=export_campaign_data) in CSV format along with the rest of the campaign data. No additional steps are required in order to enable functionality. clicks_history.txt · Last modified: 2022/02/03 17:17 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 68,
      "source": "https://wiki.thrivedx.com/doku.php?id=awareness_e-learning_settings",
      "content": "awareness_e-learning_settings [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • awareness_e-learning_settings Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 awareness_e-learning_settings Awareness (eLearning) Settings LUCY eLearning Introduction Awareness templates can be used to teach users about the risks of phishing and malware attacks. It helps reduce the users susceptibility to successful phishing attacks and malware infections. You can use our Auto-Enrollment feature to quickly and easily schedule training for the most susceptible users or manually schedule training for a larger set of employees. Measurement is a key component of our Anti-Phishing Training Suite, and we offer a range of detailed reports that give you broad and granular insights into the results of your assessments and training. Here are the most important features of our eLearning: Computer-based training enables employees to take training from any location. Includes short, customizable modular videos allow employees to complete training in multiple sessions as time permits. Training topics & layout can be tailored to address specific audiences. Support materials allow you to reinforce training through alternative methods. Language options offer consistent training across your entire organization regardless of geography. Module quiz questions test learner comprehension. Completion reports allow you to track completion for compliance reporting purposes. Please note, that most of the awareness trainings use cookies to show progress. Visual representation of the page might be consistent with the previous answers unless the browser's cache & cookies are being cleared before opening the training page. Predefined E-learning templates in LUCY Lucy comes with different awareness templates. The templates can be found in Settings (/admin/awareness-templates). ![54-2019.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cc8229&media=54-2019.png) The template list is continuously growing. If there is a topic missing, please get in touch with us and we will create this within a short time frame. Rich Media Awareness Training Integrate rich media (video, audio, or other elements that encourage viewers to interact and engage with the content) in your awareness training. Use the existing educational videos, adapt them, or add your own rich media: ![rich-media-training-970x1024.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cc9d95&media=rich-media-training-970x1024.png) Templates filtering/views Note: Not all awareness templates are available in the different LUCY editions. Please find out which templates are available before purchasing LUCY. If you do not find the template in the list, we can also create it for you on request. Views and search: The e-learning templates can be displayed either as a list (LIST VIEW) or as symbols (GRID VIEW). To do this, select the corresponding view at (1). If you want to apply specific filters, please make the according selection (2): ![lms-search2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b16b8f&media=lms-search2.png) Create a new template in LUCY LUCY allows you to build E-learning templates using different methods: Upload your own e-learning template to LUCY Create a new e-learning template using the visual editor (WYSIWYG) Create a new e-learning using the adapt authoring tool. Click [here](/doku.php?id=create_an_e-learning_template_using_the_adapt_authoring_tool) for more info. Static eLearning template creation in LUCY You can also create your own templates. You may use the following variables in the templates: %name% — recipient full name (if applicable) %firstname% — recipient first name (if applicable) %lastname% — recipient last name (if applicable) %email% — recipient email address (if applicable) %client% — client name %gender(\"MALE ADDRESSING\", \"FEMALE ADDRESSING\", \"NO GENDER\")% — recipient gender %started% — date when the related campaign has been started %stopped% — date when the related campaign has been stopped Please note, that these variables are not available in CSS and Javascript files. Customizing eLearning videos LUCY comes with a short minutes eLearning video (here an example of an English version: [https://www.youtube.com/watch?v=2z9mPh5QYWI](https://www.youtube.com/watch?v=2z9mPh5QYWI)), that can be embedded within any page in LUCY. This video can be fully tailored to your needs and have your own branding. See [this chapter](/doku.php?id=create_a_custom_e-learning_video) for more details. Interactive eLearning Quiz Pages LUCY comes with a large selection of fully customizable interactive, mixed awareness sites: Mixed Interactive Quiz (phishing email detection quiz): this template contains multiple customizable sections (Info, Tips, Quiz, Video). The QUIZ contains mainly phishing emails. You have a separate language dropdown menu option within the page (can be disabled) in case you cannot determine in advance what language the user might speak. Other customization options are defined as well in this tutorial. Lucy Interactive Awareness (phishing website detection quiz): this template contains an interactive phishing QUIZ. The QUIZ contains mainly phishing websites and asks the user to spot them. etc. More details about those pages can be found [here](/doku.php?id=interactive_elearning_pages). Interactive eLearning template creation in LUCY The awareness template can also be dynamic. Lucy is able to track answers and the time users spent on each answer. Answer information can be viewed later on the [Awareness Statistics page](/doku.php?id=monitor_a_campaign_statistics) in your campaign. In order to integrate Lucy interactive tracking please check out [this chapter](/doku.php?id=create_an_interactive_e-learning_template). Using Domains for your awareness content By default, LUCY will use the IP address of your server to host the eLearning content. But you can replace that with any domain name. ![awarness_domains.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=19a8b5&media=awarness_domains.png) You can either use a FQDN like [www.myteaching.com](http://www.myteaching.com) or just a domain name like myteaching.com. In both cases, you must make sure that the domain name is pointing to LUCY's IP address. This is done automatically if you [register the domain within LUCY](/doku.php?id=domain_configuration). If you registered the domain using a third-party provider you need to adjust the settings there. Delivery of e-learning (awareness) content to users Initiating follow-up training is easy with our unique and effective Auto-Enrollment feature. There are a few delivery options to have the awareness landing page displayed for the user: a) Send the dynamic eLearning link via mail: Use the build-in mail Server (postfix). Disadvantage: users might not trust the mail sender. E-Learning tracking is possible. Use the companies mail server (relay). Details [here](/doku.php?id=mail_delivery_methods_in_lucy). E-Learning tracking is possible. b) Create a static eLearning link and distribute it wither via mail or place it on a website. You can also create a static link and distribute it via mail (e.g. your own mail server or place it on an intranet site). Disadvantage: individual user tracking is not possible. Please check the subchapter \"Manually send out eLearning using your own company email account\" on this WIKI page. c) Enroll the eLearning in combination with a phishing simulation: eMail: If you want to send out the eLearning mail-in association with a successful phishing campaign, you need to activate the checkbox \"send Link to Awareness website automatically\" within [scenario settings](/doku.php?id=create_your_first_phishing_campaign). This requires that LUCY has triggered a successful attack. Details on how to register successful attacks can be found [here](/doku.php?id=success_actions). Redirection: [Redirect](/doku.php?id=redirecting_users) the user directly to the awareness page without involving a mail. This is done by using the %link-awareness% variable within the landing page or the redirect input field. d) Start an eLearning campaign [without starting a phishing simulation](/doku.php?id=create_an_awareness_only_campaign_no_phishing). e) Distribution of the training via End-user portal: With the first training email sent out, the user will receive a text attachment (in case the end-user training portal is enabled) that contains the link to the training portal and a password. Using Direct Login to the end-user portal without sending emails to the recipients. In this case the endusers need to be imported via Azure/LDAP channels to the LUCY instance before the start of the campaign. DELIVERY OPTION 1: Send the awareness page via mail (conditional awareness) 1a) First enable the automatic sending option. Once you select this option, you will see two menu's appearing which is optional: ![conditional_awareness.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=aa8d07&media=conditional_awareness.png) Send Awareness By Click Rate (1): You can specify, the required historical [click rate](/doku.php?id=success_actions) to roll out the awareness. Example: If you specify 50 %, the user will only get an awareness email, if he clicked at least on half of the links sent to him in a phishing simulation. Send Awareness By Success Rate (2): The success rate works the same as the click rate, only that a different [success action](/doku.php?id=success_actions) is used to initiate the E-learning. 1b) Then select the Awareness website in the template which you would like to send to your users. ![56.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=132c86&media=56.png) ![56_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0a20ed&media=56_2.png) Please activate the website (\"website enabled\") by selecting the according checkbox. Please note: you will first need to define the [success action](/doku.php?id=success_actions), so LUCY knows what a successful attack is and when it should send the eLearning content. 1c) Now you need to define the message template which contains the link to the awareness course. In order to track users, you will need the %link% variable within the message template. ![awreness_message.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0c7c0f&media=awreness_message.png) Please note: you can also use the static link displayed under the awareness website configuration. But if you use a static link you lose the ability to track the users. DELIVERY OPTION 2: Redirect the user directly to the awareness page without involving a mail Step 1: Insert a redirect script ![r_a1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=085616&media=r_a1.png) This will create a small JavaScript within your landing page. By default, the user will get redirected within 5 seconds to the awareness page. You can change that value according to your needs: ![r_a2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=07b839&media=r_a2.png) Note: In a campaign where you use two pages (e.g. page 1 is a login page, and page 2 is the authenticated page), you should insert the redirect script on page two. Otherwise, the user will get redirected before he is able to login. Step 2: Insert the awareness variable within the landing page template input field: ![redirect_awareness.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5e2287&media=redirect_awareness.png) DELIVERY OPTION 3: Manually send out eLearning mails with LUCY You can have LUCY send you the e-learning e-mail by starting an awareness only campaign. Please click [here](/doku.php?id=create_an_awareness_only_campaign_no_phishing) to learn more about this topic. Manually send out eLearning using your own company email account Within your campaign go to the awareness section (1) and select the awareness template of your choice, then click on the checkbox \"enable website\" (2) and save the settings (3). ![website_enabled.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bfb473&media=website_enabled.png) Now go to the website menu (1) and configure the IP or domain name (2) that you want to use for your eLearning site (make sure the IP or domain points to LUCY!). Next, save the settings. Now you should see the link (3) to your eLearning site with the according IP or domain. You can copy that link and paste it into your company's mail. ![website_enabled2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=df56af&media=website_enabled2.png) Please note that you will lose the ability to track the individual eLearning statistics when you use the same static link for every user. If you want to track the eLearning, you need to use LUCY's to deliver the mail with the awareness content. Publish the e-learning without sending a link via email Awareness scenarios can be configured not to send emails at all. In that case, awareness will be delivered to the recipient via a global link. Proceed to awareness scenario Base Settings and select the Do not send emails checkbox. ![do_not_send_emails.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6faedb&media=do_not_send_emails.png) Within the learning settings website menu page (1) you can configure the IP or domain name (2) that you want to use for your eLearning site (make sure the IP or domain points to LUCY!). Next, save the settings. Now you should see the link (3) to your eLearning site with the accordant IP or domain. You can copy that link and place it on your intranet site: ![global_link_awareness.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ce4053&media=global_link_awareness.png) Please note that you will lose the ability to track the individual eLearning statistics when you use the same static link for every user. If you want to track the eLearning, you need to use LUCY's to deliver the mail with the awareness content. End User Awareness Portal Lucy offers the possibility for each recipient to create an individual login page where the user can see his training content. More info [here](/doku.php?id=end_user_e-learning_portal). Awareness Re-Scheduling (user based) Starting with LUCY 3.3 the recipient will be able to re-schedule an awareness training. In order to allow re-scheduling, you need to enable the checkbox in the awareness template section: ![re-scheduling.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a82e46&media=re-scheduling.png) Once this option is enabled, the user will see in his browser a little popup that allows him to re-schedule the training for a specific date (the mail will be re-send again): ![re-scheduling_browser.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=069f71&media=re-scheduling_browser.png) The administrator will then be able to see within the statics, how many users re-scheduled a campaign: ![re-scheduling_lucy.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c4d77e&media=re-scheduling_lucy.png) SCORM export All e-learning templates can now be exported using the SCORM 2004 format, allowing you to use the LUCY content in your own LMS. SCORM (Sharable Content Object Reference Model) is the most commonly used content standard in eLearning. Since it was released 18 years ago, the SCORM specification has worked to standardize learning content between the industry’s many developers and vendors. When you click on the learning template you will see a button called \"Export to SCORM\". This allows you within the general template section or within the actual campaign, to export your awareness template. The SCORM export then can be downloaded as a ZIP file from the export section. ![scorm1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f519b2&media=scorm1.png) ![scorm2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cec34a&media=scorm2.png) Assign custom e-learning content based on a user's reputation level Based on the amount of successful attack simulations for an individual user, you can assign a specific e-learning template in LUCY. If a user didn't fall for a phishing simulation yet, you might want to assign a different e-learning content than for a user who continuously submitted sensitive data in previous phishing simulations. Please visit[ this chapter](/doku.php?id=assign_multiple_e-learning_templates_based_on_user_reputation_level) for details. 508 Compliance Section 508 of the Workforce Rehabilitation Act is a law that requires federal agencies and their contractors to make their electronic and information technology accessible to those with disabilities. It outlines the minimum acceptable standards, such as “the use of text labels or descriptors for graphics and certain format elements.” This section also addresses the usability of multimedia presentations, image maps, style sheets, scripting languages, applets and plug-ins and electronic forms. The purpose of Section 508 is to eliminate barriers in information technology, to make available new opportunities for people with disabilities, and to encourage the development of technologies that will help achieve these goals. For this reason, LUCY follows various standards in the creation of its content: Anything not “Initially Visible” when the page loads will not be read by a screen reader. Ability to change font sizing for those who may need to see text at a larger size. Color contrast for those who are colorblind or have trouble determining different colors. We provide captioning and transcripts of audio as well as descriptions of any video. Most courses are structured consistently. ![closecaption.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2e4cc5&media=closecaption.png) Awareness (training) library The training library should give employees the opportunity to download their training content from an overview page called “training library”. The large selection of regular e-learning templates in LUCY serves as learning input. The overview page can be sorted by certain topics (video, quiz, test etc.). Please read more about this topic [here](/doku.php?id=training_library). awareness_e-learning_settings.txt · Last modified: 2023/02/03 14:58 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 69,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_an_e-learning_template_using_the_adapt_authoring_tool",
      "content": "create_an_e-learning_template_using_the_adapt_authoring_tool [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_an_e-learning_template_using_the_adapt_authoring_tool Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_an_e-learning_template_using_the_adapt_authoring_tool Background info The Adapt authoring tool is an application to allow you to quickly build responsive e-learning content. It’s accessed through a web browser. You can create courses and add assets, components and extensions. You can preview and publish your e-learning content from the authoring tool which then can be used in LUCY. ADAPT in LUCY You can access adapt either via \"settings/adapt authoring tool\" or directly in an campaign when you add an e-learning content. ![adapt_aut1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b430ea&media=adapt_aut1.png) External ressources (manual) A complete user guide can be found here: [https://github.com/adaptlearning/adapt_authoring/wiki/Creating-a-Course](https://github.com/adaptlearning/adapt_authoring/wiki/Creating-a-Course) create_an_e-learning_template_using_the_adapt_authoring_tool.txt · Last modified: 2019/11/20 07:59 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 70,
      "source": "https://wiki.thrivedx.com/doku.php?id=automated_awareness_delay",
      "content": "automated_awareness_delay [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • automated_awareness_delay Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 automated_awareness_delay In LUCY you can set a delay for the automated awareness email. This setting will ensure, that people within the same office will not all be informed immediately that a phishing simulation took place. In order to enable this delay, you need to first click on \"Send Link to Awareness Website Automatically\" within the scenario settings. A second menu will open that allows you to specify the delay in number of seconds: ![aut_awrn_del_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a4db99&media=aut_awrn_del_1.png) automated_awareness_delay.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 71,
      "source": "https://wiki.thrivedx.com/doku.php?id=interactive_elearning_pages",
      "content": "interactive_elearning_pages [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • interactive_elearning_pages Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 interactive_elearning_pages Editing interactive E-Learning templates LUCY comes with two fully customizable interactive E-Learning templates: Mixed Interactive Quiz (phishing email detection quiz): this template contains multiple customizable sections (Info, Tips, Quiz, Video). The QUIZ contains mainly phishing mails. You have a separate language dropdown menu option within the page (can be disabled) in case you cannot determine in advance what language the user might speak. Other customization options are defined as well in this tutorial. Lucy Interactive Awareness (phishing web site detection quiz): this template is contains an interactive phishing QUIZ. The QUIZ contains mainly phishing websites and asks the user to spot them. etc. In most cases you find a readme.html within each templates. The readme contains tips on how to customize the template: ![readme12.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=afbf8f&media=readme12.jpg) Here are a few examples that contain a small selection of templates and their editing options. If you need help in editing them, please contact igor@lucysecurity.com. General Security Exam Click on Content template (1) Select at the top \"edit.html\" in the dropdown menu (2) Click on \"preview\" (3) ![exam1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=46016d&media=exam1.png) Edit the questions/answers in the navigation menu to the left If you are done with all the changes click on \"generate JS\" ![exam2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2dd9f1&media=exam2.png) Copy the content and save it in a text file (use UTF-8 Encoding) ![exam3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=75f9aa&media=exam3.png) Rename the text file to questions.js Click in the Editor \"Upload File or Image\" (1) and then \"Search Server\" (2) ![exam4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=857a2e&media=exam4.png) Upload questions.js to LUCY (overwrite old file) and close the window after the upload ![exam5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=dd7340&media=exam5.png) Mixed Interactive Quiz Quiz Preview The quiz has different areas that can be enabled or disabled. Here is a preview of the eLearning template. ![mixed_ia.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2d56cb&media=mixed_ia.png) Visual Quiz Editor The quiz section has 21 predefined phishing mails that can be individually enabled/disabled and customized using the QUIZ editor: ![quiz_settings.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a0d3f5&media=quiz_settings.png) The editor allows you to customize the mails without dealing with the html source code. You can define: (1) If you want to enable disable the Quiz, If it is a phishing mail or a regular mail & what the mail date/author and reply-to address should look like (2) If the quiz should show any attachments (the symbol gets created automatically) and if the attachment type is considered dangerous by your policy. (3) Hints/Solutions: Define some hints and solutions for the user (4) Use your mouse to move the hints/solutions to the location on the Quiz page you desire. ![qeditor.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e4525b&media=qeditor.png) All other elements (like images, text etc) from the main page can be [edited in the same way](/doku.php?id=edit_landing_page) as all other templates. Quiz Editing in the Source Code All settings can also be altered in the source code directly in case you don't want to use the visual editor: Edit vertical distance between different display boxes: To edit vertical space change CSS value in file main.css (line 179). Enable / disable the auto slide of phishing tips & lengths of pause: Activate the autoslide by uncommenting in index.html: /*autoplay: true,*/ Set the length of pause between auto slide in quiz-config.js: Example: autoStepTimeout: 2000 Location of quiz pages: The quiz pages are located under /mails/q1.html, /mails/q2.html, etc. Default language: You can set the default language in the header of the index.html page. By default it is set to English (en). If you want a different language (e.g. German, then switch it to the according country code (e.g. \"de –> \"getParams.lang = getParams.lang ? getParams.lang : 'de';\") Define which quiz pages are displayed: Within quiz-config.js you can define which and how many quiz pages are loaded. Example load only page q0 & q1: var QuizConfig = { files: [ 'q0','q1'] Defines which attachment types are unsafe: Within quiz-config.js you can define the unsafe attachment types. Example define zip & exe as unsafe: unsafeAttachTypes: ['zip','exe'] Define the mail header & mail body: Within each quiz page you can define the mail header & body with those fields: Date: mail-date, Sender: mail-author, Subject: mail-subject, Reply Address: answer-to Define Hyperlinks in the mail body: The links are not functional. But when hovered over they will show a link. Example: <p><a data-hover=\"some text you had to know\" href=\"[https://youwebsite.com/?index=56](https://youwebsite.com/?index=56)\">CLICK HERE</a> Define the mail hints: The hint field size adjusts to its content. The position has to be defined within the \"style\" variable in each mail html file. Example: Some hint text Define the mail solutions:The solution field size adjusts to its content. The position has to be defined within the \"style\" variable in each mail html file. Example: Some solution text Define the attachment types & names: You can choose which attachment types & names are displayed with the following entries: Image: div class=\"attachment-content type-img\", PDF: div class=\"attachment-content type-pdf\", Word Doc: div class=\"attachment-content type-doc\", Excel File: div class=\"attachment-content type-xls\", Zip Archive: div class=\"attachment-content type-zip\", Exe File: div class=\"attachment-content type-exe\" VIDEO configuration: Currently the video is loaded within an iframe from an external source. You can enable or disable the video by uncommenting the iframe. Lucy Interactive Awareness The interactive awareness content is currently translated into 10 languages. ![i_aw.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=695e5d&media=i_aw.png) In the quiz the user will be presented different mails and web sites over five rounds. They will contain highlighted items. We ask the user to study the content carefully. When the user hovers over highlighted area he can either click \"unsafe\" if it seems as an indicator of a phishing email or he can click \"safe\" if the item appears to impose no risk. The user has 3 lives per round and 1 minute to examine each content. A correct answer gives the user one point. He looses one life with an incorrect answer. Feedback will appear automatically after he selected the answer. All answers are also reported back to LUCY. The quiz can only be customized within the source code. Example Configuration \"Set a different time for the users to answer the questions\" There is the file static/js/config.js: {\"nQuestions\":11,\"nAnswers\":0,\"nCorrAnswers\":0,\"nTime\":0,\"nPage\":-1,\"sPrefix\":\"q\",\"nPages\":7,\"nQuestPages\":5,\"naPages\":[-1], \"nPageTime\":61,\"nCurrLimit\":0,\"nLives\":3} The current setting is \"nPageTime = 61\". If you want it to be 2 minutes you need to set the value \"nPageTime\" to 121. Here are a few screenshots: ![i_aw2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2bdc6e&media=i_aw2.png) ![i_aw3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8fd03b&media=i_aw3.png) ![i_aw4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e7b9d8&media=i_aw4.png) Game: Test your phishing know-how! If you want to change the questions or answers in this interactive game, please go through the following steps: Select the template, click on \"content\" navigation menu to the left and then select under \"file\" the file \"static/questions.js\" Edit the according question or answer Save the changes ![milliona.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=adfc2c&media=milliona.jpg) interactive_elearning_pages.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 72,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_an_interactive_e-learning_template",
      "content": "create_an_interactive_e-learning_template [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_an_interactive_e-learning_template Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_an_interactive_e-learning_template Lucy Quiz Integration Help How to create an interactive eLearning page LUCY allows you to create any given eLearning content on the server itself. You can either create a new awareness page (and upload your own content) or edit the existing pages. This [link](/doku.php?id=interactive_elearning_pages) contains more info on how to edit the existing interactive eLearning pages in LUCY. How to enable/embed an interactive eLearning quiz page Background Info: Interactive Quiz Pages allow you to centrally track and analyze the user input (time to fill out a quiz & answers selected) on your LUCY instance. Where is the tracking data visible? The tracking info is visible in different parts of the application: You can track the awareness clicks via: ◾ Reports (Raw CSV Report or PDF/HTML Export) ◾ Statistics/Recipients ◾ Statistics/Awareness Website How to configure the quiz? Step 1 - Enable the Quiz Feature: First of all, in order to enable quiz answers tracking, you should set a “Quiz” checkbox for the awareness template you are working on. There are two places where you can enable it: a) If you are working on an awareness template in the awareness template section then click here (see pic) ![q1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=89a445&media=q1.png) b) If you are working on an awareness website within a campaign then click here (see pic) ![awareness_website_quiz.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6ef945&media=awareness_website_quiz.png) Lucy then will automatically inject a JavaScript called /js/quiz.js to your template, making quiz-\xad‐related functions available Step 2 - Enable the Quiz Variables: All functions are non-\xad‐blocking and you may safely call them from any part of the code. Functions you may use are: a) lucyQuizStart(): starts a quiz for the current user and tracks the time of when the quiz has been started (Parameters: None) ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Attention! Calling function lucyQuizStart() resets the current quiz progress. If the user starts the quiz from the beginning, then the previous results will be reset. To prohibit passing the quiz several times, you should enable option 'Ignore repeated answers in awareness' in the campaign base settings. b) lucyQuizAnswer(question, correct): sends answer report to the server with the parameters: question – question id (integer) correct – the correctness of the answer (boolean) In HTML code this might look as the following screenshot: ![q3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3ff667&media=q3.png) How to track users watching an awareness video When using an awareness training video in LUCY one can consider it useful to track down the number of users that have played the video after receiving the awareness training email or after redirect to the awareness website. Some statistics regarding the average time of the video being played by recipients might also be useful in terms of awareness campaign effectiveness assessment and personnel training productivity. LUCY allows you to verify if a training video was played. The video-tracking statistics are not personified and are displayed as a general chart in the report (PDF \\ DOCX \\ HTML) and on the statistics page. Once a recipient finished watching the video he should be marked as \"Trained\". To find more information regarding this feature, please, consult this [chapter](/doku.php?id=video_tracking). Extended method of tracking the end of the quiz Starting with version Lucy 4.6, there is a new option called “Use extended method of tracking the end of the quiz”, which is designed to track when the user finishes the quiz. The option is available on the Awareness Template editing page: ![extended_method_quiz.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2cfb6e&media=extended_method_quiz.png) Default state: disabled. In order for this method to work, you will need to add a call to an additional function \"lucyQuizEnd()\" without any parameters. This function should be launched after the user answers the last question in your quiz. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Attention! Enabling this option without calling the \"lucyQuizEnd()\" function will cause recipients to not be marked as \"trained\". By default, Lucy marks each recipient as \"Trained\" after receiving the very first answer to the quiz. With the option \"Use extended method of tracking the end of the quiz\" and calling the function lucyQuizEnd(), the Trained sign can be set at the moment when it is necessary. An example of usage the function lucyQuizEnd() in awareness training Using the awareness template \"Internet Security Exam\" as an example, add the function lucyQuizEnd() to the source code for processing quiz answers. The quiz has 9 questions. The goal is to find victims who give 5 correct answers to the quiz. Enable the option \"Use extended method of tracking the end of the quiz\" within the Website section of the Awareness Settings in the campaign. Add a new variable \"correctAnswerCount\" to keep the amount of correct answered questions: var correctAnswersCount = 0; ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cf9bbe&media=awareness_quiz_new_variable.png) Find the place in the code where function lucyQuizAnswer is called and insert a call of the function lucyQuizEnd after it with the condition as shown below. correctAnswersCount++; if (correctAnswersCount >= 5) { lucyQuizEnd(); } ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7bf300&media=awareness_quiz_end.png) Save the template and run the campaign. After 5 quiz questions are answered correctly, the recipient will be marked as \"Trained\". ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Attention. Using the function lucyQuizEnd() together with the option \"Ignore repeated answers in awareness\" should be avoided, since this function ignores the restrictions set by that option. Advanced functions Since version 4.7.7, Lucy comes with few additional functions: lucyQuizStart (quizNumber, countQuestions, errorHandler) - starts a quiz for the current user and tracks the time of when the quiz has been started. Useful for templates with randomly sorted questions and variable number of questions. Parameters: quizNumber - index of the quiz (default: 0). Other values except zero are reserved and will be supported in future versions. countQuestions - total number of questions in exam which is asked to the user (allowed values: 1…999). errorHandler - (optional) a callback function to be called with the thrown error. lucySetVariable (varName, varValue, errorHandler) - permanently saves some text data for the current user. Parameters: varName - variable name (text, max length: 255) varValue - variable value (text, max length: 255) errorHandler - (optional) a callback function to be called with the thrown error. lucyGetVariable(varName, successHandler, errorHandler) - retrieves previously saved variable by name. Parameters: varName - variable name (text, max length: 255) successHandler - a callback function to be called with the variable's value. errorHandler - (optional) a callback function to be called with the thrown error. Example response: { \"variableName\": \"variableValue\" } Since version 4.8.1, Lucy comes with a new additional function: lucyQuizResults(quizNumber, successHandler, errorHandler) - retrieves the current progress of the quiz with a list of answered questions. Parameters: quizNumber - index of the quiz (default: 0). Other values except zero are reserved and will be supported in future versions. successHandler - a callback function to be called with the variable's value. errorHandler - (optional) a callback function to be called with the thrown error. Example response: { \"results\": { \"1\": \"0|1\", \"2\": \"0|1\", \"3\": \"0|1\", ... }, \"trained\": boolean, \"trained_at\": \"datetime\" } To illustrate how these new functions work, please download and restore a sample of awareness template (Advanced Quiz Functions) by the link: [download](/lib/exe/fetch.php?media=sampletemplate.tar.gz). How to customize a logo 1. Choose the Upload File or Image button or double click on the picture you would like to replace with a custom logo: ![contentlogo.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=contentlogo.png) 2. Open Image Properties and within the Image Info tab click on the Browse Server button in order to access a [File manager](/doku.php?id=file_browser): ![imageproperties.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=imageproperties.png) 3. Within the [File manager](/doku.php?id=file_browser) press the Upload button or simply drag & drop the required file. In order to select the file double click on it: ![uploadlogo.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=uploadlogo.png) 4. After the image has been linked to the website you can adapt the size of the picture within the Image Properties: ![sizeadaptation.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=sizeadaptation.png) 5. Save the changes. Troubleshooting Issue. Lucy marks the recipients as 'Trained', while no quiz answers were given. Solution: Enable the option \"Quiz\" within the Website section of the Awareness Settings in the campaign. Issue. Lucy does not mark the recipients as 'Trained' despite received positive Quiz answers. Solution: Disable the option \"Extended method of tracking the end of the quiz\" within the Website section of the Awareness settings in the campaign or change your awareness template as described above in this article. create_an_interactive_e-learning_template.txt · Last modified: 2021/04/30 11:38 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 73,
      "source": "https://wiki.thrivedx.com/doku.php?id=upload_your_own_awareness_video",
      "content": "upload_your_own_awareness_video [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • upload_your_own_awareness_video Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 upload_your_own_awareness_video The easiest way in uploading your own video is by creating a copy of an existing video template and overwrite the video files: Step 1: Copy an existing video ![upl_awr_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b73e8f&media=upl_awr_1.png) Step 2: Edit the video landing page (click on Edit –> Content Template). This will give you a WYSIWYG editor that allows you to edit the landing page where the video is played. ![upl_awr_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b53825&media=upl_awr_2.png) Step 3: Prepare your video file and make sure you have mp4 AND webm video file. Please note that our player supports only H.264 coding for MP4 to make them work in IE/Edge. Step 4: Go to content editor, press \"upload file or image\" (1) in WYSIWYG, press \"browse server\" (2), upload your webm and mp4 files to server (3). ![upload_video.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=432458&media=upload_video.png) Step 5: Delete the old video files and rename your webm and mp4 files to video.webm and video.mp4. If you video files that you uploaded have a different name, you need to click on the \"source code\" button (1) and then change the name according to the name of the files you uploaded (2): ![vidd2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e0aa79&media=vidd2.png) Step 6: You can optionally add the [video tracking script](/doku.php?id=video_tracking). upload_your_own_awareness_video.txt · Last modified: 2020/08/11 19:16 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 74,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_custom_e-learning_video",
      "content": "create_a_custom_e-learning_video [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_custom_e-learning_video Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_custom_e-learning_video Introduction Lucy includes a set of awareness videos: Premium videos (produced by an external partner) LUCY videos (produced by LUCY Security AG) The LUCY videos can be identified by their logo type: ![lucy_vide_tem.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=300&tok=fb47e1&media=lucy_vide_tem.jpg) The videos are stored locally as a part of the LUCY application in the awareness section. They are embedded in different awareness templates (e.g. video gallery, mixed interactive quiz, awareness videos etc.). Each video can be customized (logo, voice etc.). You can use the video editing scripts and merge scenes from different videos into a new video or ask us to create new video scenes etc. How to request changes? Send us your company logo and we will include it in the training videos. You want another language? No problem. We will set the video to play in the language you prefer. You want a different scene? Simply download the video scripts and mark the desired changes If you want only a few selected scenes to be altered, choose the according scene and provide us with the customized text and a draft of the desired animation. Within the field “animation description” you can specify the details of the animation. If you only want the logo at the start and end to be changed, please provide us with a high quality image of your logo (300 DPI / EPS or Adobe Photoshop/Illustrator file). Price calculation * Video White Label (for LUCY video's): Removal of watermark, adding custom client logo at start and end of video: USD 200 * Video White Label (for premium videos): Premium Videos have a special label and are produced by an external partner. To purchase the rights of unlimited usage without our logo, please ask for an offer of a white label version. Specify the video name and your company size in the request. Prices vary from 1300-2000 USD per premium video. ![premium_vid.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2c975a&media=premium_vid.jpg) Translation: The translation (new voice over and translation of all video visuals) starts from USD 350 per video (depends on video length) Example Videos (please mail info@lucysecurity.com for a full list of videos) Phishing Awareness Video Example: [https://www.youtube.com/watch?v=2z9mPh5QYWI](https://www.youtube.com/watch?v=2z9mPh5QYWI) Current Language(s): English, Spanish, German, French Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard.docx](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard.docx) Mobile Security Awareness Video Example: [https://youtu.be/ahNb6kA0Lms](https://youtu.be/ahNb6kA0Lms) Current Language(s): English, German, Spanish, Dutch, French, Italian Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_mobile_security_awareness.docx](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_mobile_security_awareness.docx) Email Security Awareness Video Example: [https://youtu.be/Og9lf0StwVA](https://youtu.be/Og9lf0StwVA) Current Language(s): English Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [email_awareness_video.docx](/lib/exe/fetch.php?media=email_awareness_video.docx) Physical Security Awareness Video Example: [https://www.youtube.com/watch?v=ORS9DPKJlks](https://www.youtube.com/watch?v=ORS9DPKJlks) Current Language(s): English Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [physical_awareness_video.docx](/lib/exe/fetch.php?media=physical_awareness_video.docx) Secure Social Networking Awareness Video Example: [https://www.youtube.com/watch?v=Ce0E2fDTPhI&feature=youtu.be](https://www.youtube.com/watch?v=Ce0E2fDTPhI&feature=youtu.be) Current Language(s): English, German, Italian, Lithuanian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [lucy_social_networking_storyboard.docx](/lib/exe/fetch.php?media=lucy_social_networking_storyboard.docx) Secure Internet Usage Awareness Video Example: [https://www.youtube.com/watch?v=rt9ZDkYab9s&feature=youtu.be](https://www.youtube.com/watch?v=rt9ZDkYab9s&feature=youtu.be) Current Language(s): English, German, Italian, Lithuanian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [lucy_secure_internet_usage.docx](/lib/exe/fetch.php?media=lucy_secure_internet_usage.docx) WI-FI security Video Example: [https://youtu.be/lY9Dy7xNuDU](https://youtu.be/lY9Dy7xNuDU) Current Language(s): English, German, Italian, Lithuanian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_wi-fi_security_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_wi-fi_security_video.doc) Data Privacy & GDPR Video Example: [https://www.youtube.com/watch?v=Eh3wEtMGDRs&t=12s](https://www.youtube.com/watch?v=Eh3wEtMGDRs&t=12s) Current Language(s): English, German, Italian Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_data_privacy_gdpr-video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_data_privacy_gdpr-video.doc) Password Security Video Example: [https://www.youtube.com/watch?v=VqEMlofu47k](https://www.youtube.com/watch?v=VqEMlofu47k) Current Language(s): English, German, Italian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_password_security_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_password_security_video.doc) PCI Security Awareness Video Example: [https://www.youtube.com/watch?v=sAcyUEFo2Hc](https://www.youtube.com/watch?v=sAcyUEFo2Hc) Current Language(s): English Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_pci_security_awareness_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_pci_security_awareness_video.doc) Ransomware Explainer Video Example: [https://www.youtube.com/watch?v=995lZmQI-2E](https://www.youtube.com/watch?v=995lZmQI-2E) Current Language(s): Danish, Dutch, English, French, German, Italian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_ransomware_awareness_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_ransomware_awareness_video.doc) Security Awareness Video: 7 Security Tips Example: [https://www.youtube.com/watch?v=i0iLy8racHI](https://www.youtube.com/watch?v=i0iLy8racHI) Current Language(s): Danish, Dutch, English, French, German, Italian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_security_awareness_tips.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_security_awareness_tips.doc) Malware Awareness Video Example: [https://www.youtube.com/watch?v=AIly1cCfz4o](https://www.youtube.com/watch?v=AIly1cCfz4o) Current Language(s): English, French, German Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_malware_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_malware_video.doc) Workplace Security Awareness Video Example: [https://www.youtube.com/watch?v=hSSSx3c7_co](https://www.youtube.com/watch?v=hSSSx3c7_co) Current Language(s): English, Italian Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_workplace_security_awareness_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_workplace_security_awareness_video.doc) Identity Theft Video Example: [https://www.youtube.com/watch?v=hy6spPyKJFo](https://www.youtube.com/watch?v=hy6spPyKJFo) Current Language(s): English, German, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_identity_theft_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_identity_theft_video.doc) Social Engineering Video Example: [https://www.youtube.com/watch?v=VkTH6BPMMFA](https://www.youtube.com/watch?v=VkTH6BPMMFA) Current Language(s): French, English, German, Italian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_social_engineering_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_social_engineering_video.doc) create_a_custom_e-learning_video.txt · Last modified: 2020/02/08 21:26 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 75,
      "source": "https://wiki.thrivedx.com/doku.php?id=end_user_e-learning_portal",
      "content": "end_user_e-learning_portal [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • end_user_e-learning_portal Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 end_user_e-learning_portal End User e-learning portal Users might not have time to finish an awareness course right away. They have the ability to re-schedule the training (see [this](/doku.php?id=awareness_e-learning_settings) WIKI). But you have also the ability to create a login page for your end users where they can login and access their custom training links at any time, without the need to re-send an awareness mail. Where to enable the e-learning end user portal? The portal can be enabled under \"Base Settings\" within the campaign page: ![end_usr_scr_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=ff3f46&media=end_usr_scr_1.png) How does the portal look for the end user? The end-user view can be controlled by placing different widgets inside the portal: ![7tgasf.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=0bb1e7&media=7tgasf.jpg) Here is an example portal view from an end-user perspective: ![view_endportal.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fb520d&media=view_endportal.png) How are the awareness users created? LUCY automatically creates the end-user login profiles for each user, that is marked to receive awareness training within a campaign (phishing or awareness only campaign). Automatically through the Autoupdate LDAP users feature > Import Enduser role users from AD group. Find more [here](/doku.php?id=ldap_integration#autoupdate_ldap_recipients). Manually through the import from LDAP (LDAP Update Preferences > Imported User default role). Find more [here](/doku.php?id=ldap_integration#importing_users_via_ldap). ![ldap_endusers.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=87e4b5&media=ldap_endusers.png) Where can a user login to e-learning portal? The login is always created under the directory /user/ on your server. So if your server address is [https://my.lucyserver.com](https://my.lucyserver.com), the end-user e-learning portal login will be under [https://my.lucyserver.com/user/](https://my.lucyserver.com/user/) ![e-t3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e583a4&media=e-t3.png) How are the login credentials submitted to the user? With the first training email sent out, the user will receive a text attachment (in case the end-user training portal is enabled) that contains the link to the training portal and a password. Or it can be a password reset link embedded into an awareness email. More below. ![e-t4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e511ae&media=e-t4.png) What can the user do on the e-learning end user portal page? After the login, the user can: Change his user details (password, contact information) View his training history (the list of training that he has been participating) View his training score (Quiz Score indicates the amount of correct answers in the Quiz) Compare his score with others (Average Over All Users) Create training certificates (only for the successfully finished trainings) Access his reputation profile (with a badge and stars rating to represent the level of profile) Access the custom training link (the training name is highlighted and can be accessed via browser) ![enduser2.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8550bc&media=enduser2.jpg) How to use the portal without sending emails to the recipients? First, check the box \"Do not send emails\" in Base Settings of the campaign so that the email will not be sent to the recipients added in the campaign. ![donotsend.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=983b22&media=donotsend.png) Then it will be necessary to import end-users either trough LDAP, or Azure AD you can read more about it [here](/doku.php?id=ldap_integration), and [here](/doku.php?id=azure_synchronization) . This way end-users will be created before you start the campaign, and after the start they will receive assigned courses in their End User Portal. How to resend\\recreate login credentials when enduser has lost the initial email? The login credentials for accessing the EndUser portal are created and sent in an awareness message. There is no way to send such data again to an existing user however, there are several alternatives: The user password can be reset through the end-user portal: ![end_user_password_recovery.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=83c3b6&media=end_user_password_recovery.png) Change the user password in the Lucy Admin console: Navigate to the Settings menu > End Users > find the user you need to reset the password > click on the user email address to open the end-user profile page: ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d17ed9&media=end_user_password_reset_admin.png) On the enduser profile page click \"Change User Details\" button: ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e2c399&media=end_user_password_reset_user_profile.png) Click \"Change Password\" and type in a new password for the user, then click \"Save\": ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=324980&media=end_user_password_reset_change.png) Delete existing end-user account and resend awareness message. In this case, Lucy automatically recreates the end-user account and inserts login credentials into the awareness message: ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a95470&media=end_user_delete_account.png) ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Deleting an end-user account will not impact its statistics. This account only gives access to the end-user portal. The checkbox \"Send password to the enduser\" works as follows: If the checkbox is set the new password will be sent to the enduser every time the campaign starts If the checkbox is disabled the password will be sent to the enduser only once. Password reset link to the End User Portal There is an option in the campaign settings that allows you to send a reset link instead of a plain text password for Endusers independently of the campaign type. In order to perform a password reset one should use awareness emails variables: %user-profile-link% - Link to the End User Portal %user-password-reset% - Password reset link End-users can either receive their credentials in plain text or set it via the link: By default, when the campaign is started, Endusers receive an email with a .txt file attached containing the link to the End User Portal and End User password (users log in with the email). To send the password reset link it is necessary to embed it into the awareness email. ![pw_reset_link.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=377a06&media=pw_reset_link.png) The %user-password-reset% variable will only be turned into the personal reset link for a user in case if previously it was not sent. For the users who already have their password instead of the password reset link there'll be empty space. Both methods from above are meant to be used in combination with a customizable awareness email template within the scenario. So please feel free to adjust it to the current campaign structure. end_user_e-learning_portal.txt · Last modified: 2022/02/15 11:34 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 76,
      "source": "https://wiki.thrivedx.com/doku.php?id=creating_your_own_e-learning_using_adapt_in_lucy",
      "content": "creating_your_own_e-learning_using_adapt_in_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • creating_your_own_e-learning_using_adapt_in_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 creating_your_own_e-learning_using_adapt_in_lucy Background Info LUCY comes with an integrated e-learning tool called ADAPT. Adapt is designed to solve a problem in elearning. When you're faced with delivery to multiple devices, such as desktop, tablet, mobile, you have a choice: you can create multiple versions, each optimized for specific devices, or you can use a responsive design approach. If you create and optimise multiple versions for each device, you might build in Flash for desktop, a native app for iPhone, a different version for iPad, and Android, and so on. As you can see, this method is complex and expensive. Then when you start getting into translation and maintenance, it gets out of control pretty quickly - not to mention the tracking issues if you're trying to track data from multiple sources. Adapt gives you a different, and much simpler option. Adapt creates just one version of your elearning in HTML5, which responds intelligently to the device it is viewed on. How to use ADAPT in LUCY? You can create your ADAPT courses in LUCY by going to the settings menu and open the ADAPT framework in a new window: ![adapt2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=072f1c&media=adapt2.png) Starting with LUCY 4.4, Adapt is disabled by default. In this case, you first need to enable the framework: ![adapt_enable.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e4138d&media=adapt_enable.png) To use the previously created ADAPT course, please first add a new awareness content to your campaign by clicking \"New Awareness\": ![adapt3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f7e05b&media=adapt3.png) On the template page, select the option in the dropdown \"Adapt Authoring Tool\" as a source. If you have created a course, it will be displayed beneath and be ready to use: ![adapt5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=008e7c&media=adapt5.png) Main features Adapt allows you to build a Multi-Modal content. You can watch videos, listen to audios with transcripts, and complete quizzes. Adapt also has Multi language and localisation support Tutorial: Adding a course When you first load up the authoring tool, you'll see the dashboard; a display showing every course that's been created. You can organise the view of courses using the onscreen filters and search controls. Shared courses: the default view (\"My courses\") will only show the courses which you have created yourself. To view any shared courses, you must click the link in the sidebar. To make a course you've authored yourself viewable in this section, you must enable the relevant option in the course's \"Configuration setting\" page. To begin, click the \"Add new course\" button on the dashboard, give the course a title and description, choose who it should be visible to, and give it any appropriate tags (these details can be edited after the course has been created). Once the course has been created, it should show up on the dashboard. Double click the course, or click the gear icon and then choose \"Edit\". This will take you into the course editor. Once in the course editor, there are two things to notice: the sidebar at the left of the screen gives you access to many top-level configuration pages (\"Configuration settings\" and a \"Menu picker\" for example) – these are explained later, and the panel in the middle – this is the main content area. General information Content objects This information applies to the courses on the dashboard, pages and sub-menus in the menu editor, and all content objects in the page editor: •Objects are draggable, to allow you to easily reposition them at will •Objects have an 'actions' menu, which allows you to edit, copy, copy ID and delete •Objects can also be deleted using the trash icon to the right Forms You'll find that most of the editor 'form' screens follow the same layout: left sidebar with save button and filters, and the main form area in the middle. The sidebar filters allow you to hide groups of options in the current page, which is very handy for the longer pages! By default, all options are shown. Saving Make sure you use the save button frequently to ensure you don't lose any changes! Common fields • Display-title/title: The display title is that which is shown in the page, while the title is only shown in the Page-level progress extension's drawer. • Body: Text usually shown below the title. • Instruction: Instruction text for the current object (shown with the body text). • Classes: adds CSS classes to the object – handy if you want to add custom CSS to a single object. • Is this optional?: Whether the object should be tracked towards completion. • Is this available?: Whether the object should be displayed. Menu Editor The first page you'll come to upon opening a course for editing is the menu editor. The menu editor shows you the top-level structure of your course. The only content items that will appear here are pages and sub-menus. If you add a sub-menu and single-click on it, you'll notice that an extra column is added to the right. Each column represents a single 'menu' screen, with the top-level items arranged to the far left, with child items to the immediate right, and so on. There can be any number of sub-menus, and sub-menus can also be contained in other sub-menus, allowing you to create complex content hierarchies. Page/sub-menu settings: Once you've created a page or sub-menu, you can access its settings by clicking \"Edit\" in its cog menu. Page Editor Double-clicking on any of your pages will take you to the page editor screen, which gives you a visual 'wireframe' view of the page's structure. Adding content objects If you're editing a new page, you'll find yourself with a single empty article with an empty block. If you try to preview now, you'll be given an error, as the tool won't let you publish a course with empty blocks. Add a new component to your empty block using the \"Add component\" button. A sidebar will appear which allows you to select the type of component, as well as it's position within the block (i.e. left/right/full-width). Blocks can take either one full-width component, or two half-width components (one to the left and one to the right). Once added, edit your new component by double clicking on it or by selecting \"Edit\" from the the cog menu. Feel free to add more articles and blocks using the relevant controls. Once the course contains at least one page with one component, you can preview it using the sidebar button. Moving/deleting content objects You can change the layout (i.e. left/right/full-width) of any component in your page using the layout arrows next to the component's settings cog. Certain actions may be unavailable if you have another component in the current block (e.g. you won't be able to change a component to full-width if there are two components in the block). If you want to move a content object to a different position in the page, you can simply drag and drop. Make sure you grab the top of the content object (i.e. where it's title is) – the cursor will change to let you know you're in the right place. If you want to get rid of any content object, you can use either its trash icon, or by the \"Delete\" option in its settings/cog menu. Be aware that any child objects will also be deleted, so make sure you move out everything you want to keep before you do this! Editing course settings Each course has several different types of settings. •Project settings: contains the same settings used when creating the course, and groups content-based options, such as global button labels. •Configuration settings: contains course-wide configuration options such as the default language, the 'weighting' of each question in the greater score progress and accessibility settings. Applying a theme To apply a theme to your course, you just need to go to the \"Theme picker\" page, choose your theme by clicking on it, and clicking save. Applying a menu Setting the menu for your course is identical to applying a theme. Viewing your course When you're ready to view your course, there are a few different functions available (found at the top of the editor's sidebar). Preview Loads a fully functioning preview of your course in a new window. As the course runs on a simple web server, there is no cross-session tracking (although you will get single session progress tracking). To fully test tracking, you need to either download a published version of your course, or use the scorm_test_harness.html file (see Advanced use). More documentation Please visit this link for more information: [https://github.com/adaptlearning/adapt_authoring/wiki/Creating-a-Course](https://github.com/adaptlearning/adapt_authoring/wiki/Creating-a-Course) creating_your_own_e-learning_using_adapt_in_lucy.txt · Last modified: 2020/11/27 14:05 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 77,
      "source": "https://wiki.thrivedx.com/doku.php?id=upload_a_powerpoint_presentation_in_an_awareness_template",
      "content": "upload_a_powerpoint_presentation_in_an_awareness_template [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • upload_a_powerpoint_presentation_in_an_awareness_template Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 upload_a_powerpoint_presentation_in_an_awareness_template LUCY allows you to upload any content (ppt, xls, doc, pdf etc) into your awareness template. We already have a sample awareness template that allows the user to view a presentation in a browser. You can find it by searching for ppt (1) in the awareness template section: ![ppt1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cb3bbe&media=ppt1.png) The template allows the user to load a presentation or PDF file in the web browser: ![ppt0.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=17e2fb&media=ppt0.png) In order to upload your own presentation, you can use the existing template (or create a copy of the template): ![ppt2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=db125e&media=ppt2.png) (2) Open the template, the go to \"content template\" navigation menu to the right (3) Click on \"Upload File or Image\" (4) Click on \"Browser Server\" Now upload your own presentation (use the same name as the one in the template folder or change the name in the source code under index.html in case you want to use a different name): ![ppt3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c3cf2b&media=ppt3.png) The following screenshots illustrates how to change the document that needs to get loaded in the index.html source: ![ppt4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=679edd&media=ppt4.png) upload_a_powerpoint_presentation_in_an_awareness_template.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 78,
      "source": "https://wiki.thrivedx.com/doku.php?id=assign_multiple_e-learning_templates_based_on_user_reputation_level",
      "content": "assign_multiple_e-learning_templates_based_on_user_reputation_level [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • assign_multiple_e-learning_templates_based_on_user_reputation_level Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 assign_multiple_e-learning_templates_based_on_user_reputation_level Assign multiple e-learning templates based on user reputation level Based on the amount of [successful](/doku.php?id=success_actions) attack simulations for an individual user, you can assign a specific e-learning template in LUCY. If a user didn't fall for a phishing simulation yet, you might want to assign a different e-learning content than for a user who continuously submitted sensitive data in previous phishing simulations. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) License required: Premium Edition or higher. Setup Click on awareness settings in your campaign Add at least 2 e-learning templates to your campaign You can sort the templates and set the (1) risk level (the \"level\" number represents the overall number of successful attacks the recipient passed before showing that particular awareness) by clicking on the (2) counter with plus minus buttons for changing Risk field Make sure you enabled either send the link to awareness automatically in the scenario settings of the proper scenario template or you placed the [awareness redirect](/doku.php?id=redirecting_users) URL within the landing page template in the campaign. More info [here](/doku.php?id=awareness_e-learning_settings). Example Let's assume you configured for your users three attack templates in a campaign and 3 awareness templates. You would send out all three attack templates to all users. So each user would get 3 phishing simulations. The levels you defined are: ![risklevelupd.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=risklevelupd.png) Risk Level 0: Quiz: Secure Passwords Risk Level 1: Beat the phishing puzzle! Risk Level 2: Employee security policies If a user now falls for the first phishing simulation and had no previous record of getting successfully phished, he would get the awareness course \"Quiz: Secure Passwords\". If he falls again for the second simulation, he would receive the game \"Beat the phishing puzzle!\". If the same user also clicks on the third attack scenario, he will get the \"Employee security policies\" e-learning template. How to setup Risk Level for Multiple Awareness Scenarios to particular Attack Scenarios From Lucy 4.7.7 version one has the possibility to choose which [Awareness scenarios are mapped](/doku.php?id=binding_multiple_awareness_scenarios_to_particular_attack_scenarios) to a particular Attack scenario. In case there are several awareness templates bounded to an attack scenario, Risk Level is enabled for the particular attack scenario. The awareness with the corresponding risk level will be sent to the victim of this attack. It can be accessed via Attack Settings > Scenario Settings > Bound Awareness Scenarios: ![boundedawarenessrisklevel.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=boundedawarenessrisklevel.png) If there are several awareness scenarios not bound to any attack scenario, the risk level will be sent to the victim of any attack of the campaign according to the risk level of the scenario. assign_multiple_e-learning_templates_based_on_user_reputation_level.txt · Last modified: 2021/08/13 13:39 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 79,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_an_email_with_links_to_training_videos",
      "content": "create_an_email_with_links_to_training_videos [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_an_email_with_links_to_training_videos Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_an_email_with_links_to_training_videos Creating an email with links to training video LUCY allows you to create an email that will lead to several individual training videos. To do that, it is necessary to create a Campaign and put the training videos inside the email template. Therefore an end-user will receive the email with few links to individual training landing pages. Please, note that the ability to track videos would be available if you configure the Campaign according to the second method. How to configure the Campaign Method 1: Using the training video links within the Message Template Create a Customized Attack Template. Within the Awareness Settings add New Awareness scenarios: ![email3video1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=email3video1.png) The next step is to customize the Attack Message Template by embedding the training video links. To find training video links, go to Awareness settings → Edit Awareness Settings → Base Settings and check the box Website Enabled. Save the configuration. Choose Website in the left menu and copy the Preview link: ![email3video2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=email3video2.png) Insert the link within the Email Message Template: ![email3video3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=email3video3.png) How to track users watching a training videos Method 2: Creating one landing page with training videos: LUCY allows you to verify if a training video was played in LUCY's \"flowplayer\" which are used for all our video templates. To add the tracking feature wit is recommended using one landing page with several training videos. Our custom [tracking JavaScript](/lib/exe/fetch.php?media=lucy-event-javascript.zip) allows you to track a video start and finish the event and also display the progress in statistics by inserting the [script](/lib/exe/fetch.php?media=lucy-event-javascript.zip) into the bottom of the landing page, under the \"flowplayer\" container. Within the Message Template insert a link with %link% variable: ![email3video5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=email3video5.png) Reconfigure your custom landing page with the \"flowplayer\" div container: ![email3video6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=email3video6.png) Thus there two methods of creating an awareness only Campaign with multiple training videos at once: by configuring the Email Template with several links and using Javascript in the landing page. To find more information regarding the video tracking, please, consult this [ documentation](/doku.php?id=video_tracking). create_an_email_with_links_to_training_videos.txt · Last modified: 2020/08/15 03:35 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 80,
      "source": "https://wiki.thrivedx.com/doku.php?id=binding_multiple_awareness_scenarios_to_particular_attack_scenarios",
      "content": "binding_multiple_awareness_scenarios_to_particular_attack_scenarios [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • binding_multiple_awareness_scenarios_to_particular_attack_scenarios Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 binding_multiple_awareness_scenarios_to_particular_attack_scenarios Binding Multiple Awareness Scenarios to particular Attack Scenarios In the latest Lucy builds one has the possibility to choose which Awareness scenarios are mapped to particular Attack scenario. Imagine you're currently running a campaign that includes four attack scenarios aiming to test users capability to recognize and avoid various phishing attack types (e.g. data entry, hyperlink attack, or file download). ![ma01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3b4a42&media=ma01.png) In such a case it makes sense to send awareness to users accordingly to the attacks that they failed to recognize. For example, user did not click on a malicious link and avoided entering any data in some attack scenarios but fell into downloading malware simulation file that disguised as an internal document and appeared as an attachment to the fake newsletter. User's result implies that he or she is aware of possible hyperlink attacks but doesn't know how to recognize a file-attack. Thus, there is no need to provide a user with a complete A-Z course on avoiding phishing that will take an hour of his busy schedule. But it makes sense to send him a short awareness describing precisely what a file-attack is and how to detect it. And here comes Awareness scenarios binding. How to bind attack scenarios Within the campaign proceed to Awareness Settings and choose the scenario to edit. Then proceed to Bound Attack Scenarios tab and choose the attack scenario from the Bind Attack Scenario drop-down menu. Click on the Bind button and the scenario will appear on the list. ![bound_awareness.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=650&tok=6e21c4&media=bound_awareness.png) Thus users will receive awareness training according to the attack scenario they fail. ![ma02.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=450&tok=13ccc6&media=ma02.png) On the Awareness Settings tab, one can review which attack scenarios are bound to awareness. ![bound_awareness_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=650&tok=49b88c&media=bound_awareness_2.png) Also, it is possible to review which awareness scenario is bound to the attack scenario. Simply proceed to Attack Settings and choose the scenario. Within the scenario proceed to the Bound Awareness Scenarios tab. Here you can also unbind awareness scenarios if needed as well as in Awareness Settings. ![bound_awareness_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=650&tok=cf5418&media=bound_awareness_3.png) In this section, it is also possible to assign the trainings for the recipients according to their reputation level. More information can be found in the dedicated wiki article [Assign multiple e-learning templates based on user reputation level](/doku.php?id=assign_multiple_e-learning_templates_based_on_user_reputation_level). How to send several awareness scenarios to one recipient Depending on the training workflow, one may wish users to get more than one awareness scenario if they fail several attacks. In order to be able to send several awarenesses, you should firstly bound awareness scenarios to the attacks. Make sure that each awareness scenario is bound to the right attacks. ![bound_awareness_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=650&tok=1a9ee3&media=bound_awareness_4.png) Then you will need to create several copies of the targeted recipient group. The number of groups should correspond to the number of attack scenarios. ![bound_awareness_5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=650&tok=6bbe23&media=bound_awareness_5.png) Please note: In case End User Portal feature is involved in a training process there is no need to create several recipient groups, bound pieces of training will appear in Portal at the moment user fails an attack. The feature is rather complex to embrace, especially when talking about sophisticated campaigns and never-ending employee education process. So make sure you have a rigid plan of what awareness goes after what attack and to which recipients and test your structure before running a campaign! binding_multiple_awareness_scenarios_to_particular_attack_scenarios.txt · Last modified: 2021/08/16 08:03 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 81,
      "source": "https://wiki.thrivedx.com/doku.php?id=disable_landingpage",
      "content": "disable_landingpage [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • disable_landingpage Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 disable_landingpage For all scenarios that include a file based attack, you will have the option within the scenario settings to disable the landing page. Your attack, therefore, will only include a mail, without a webpage. The settings can be found here (see screenshot). ![dis_landing.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=32ad5c&media=dis_landing.png) Note: It is not necessary to disable the landing page. If you don't want specific users to access the webpage you could simply delete the [link](/doku.php?id=mail_settings) within the message template. disable_landingpage.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 82,
      "source": "https://wiki.thrivedx.com/doku.php?id=special_landing_page_that_redirects_user_before_submitting_a_password",
      "content": "special_landing_page_that_redirects_user_before_submitting_a_password [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • special_landing_page_that_redirects_user_before_submitting_a_password Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 special_landing_page_that_redirects_user_before_submitting_a_password In some cases of a web-based simulation, you might only want to check if a user would actually enter a password in a form field but you don't want to actually let him enter the full password. In such a case you could place a little ajax script that automatically redirects the user to some awareness content before pressing the submit button. In the example below the user would be able to enter his username, but the moment he entered 3 digits of his password he automatically gets redirected to a different page (in this case google which you would replace with your eLearning content). First, you need to download [http://code.jquery.com/jquery-1.12.1.min.js](http://code.jquery.com/jquery-1.12.1.min.js) and place it within your static directory: ![jquery.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7e11b9&media=jquery.png) Next, you can create a login page as the following [example](/lib/exe/fetch.php?media=index.html.zip). Please note that you the path to the script needs to adapted (in case you generate the template with the general section to /admin/.. or if you create the template within a campaign to /campaign/..) special_landing_page_that_redirects_user_before_submitting_a_password.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 83,
      "source": "https://wiki.thrivedx.com/doku.php?id=edit_landing_page",
      "content": "edit_landing_page [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • edit_landing_page Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 edit_landing_page LUCY WYSIWYG Editor Background Info With the Page Editor, you can fine-tune and edit all the web pages or sub pages from all [scenario types](/doku.php?id=scenario_types). This includes: [Predefined or custom landing Pages](/doku.php?id=download_templates) [Awareness Pages](/doku.php?id=awareness_e-learning_settings) Any Scripts or Style sheets The editor can only save HTML code which is compliant with W3C standard. You can always check your code with this validation service: [https://validator.w3.org/](https://validator.w3.org/). Code which is not W3C conform will not be saved by LUCY. How to select a page that needs to be edited The HTML pages can be edited either in the generic template section or within a campaign. If you change them in the generic template section the changes will remain for all campaigns that use that template in the future. Therefore it might be better to make the changes of a page within a campaign. This will change only the template within that specific campaign. Every page and script can be edited. To get started you must first select the page within the dropdown menu that you want to edit: ![landing_page_sel.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b733b5&media=landing_page_sel.png) There are two editing modes: visual editing within the editor or editing the source code directly If you want to switch to the source code editing mode you can use one of the two available buttons: ![landing_page_sc.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f0c804&media=landing_page_sc.png) Creating new pages You can create a new page by going to actions –> new. Then give your page a name and tell LUCY what type it is (this matters: if you select a \"web-based\" type, then the WYSIWYG editor will be missing the Trojan simulation buttons. To be on the safe side we recommend using the mixed type). ![new_page.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c8f479&media=new_page.png) To add content to the new page you can now either: Upload an existing page (zip) Clone a page (click [here](/doku.php?id=copy_web_page) for more details) Click on the \"landing page template\" link and start inserting your code manually (1st click \"new file\" and give your page a name. If it is the 1st page then it needs to be called index.html) ![create_new_page.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=eeaf92&media=create_new_page.png) Special LUCY Editor shortcuts The LUCY Customized WYSIWYG editor allows you to insert tables, forms, objects, etc. You can also right mouse click on objects in the Preview and you will see more editing options. The editor has some Special Buttons which will help you to create a phishing page within minutes. ![35.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=183cf5&media=35.jpg) Insert Login Form: Places a functional Login form on the page (you have three design samples). In case you want to place the Login form in a specific area of the webpage, you first need to press \"Insert Layer\". As soon as you inserted the layer click on it so the cursor appears inside the layer: ![layer.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=941933&media=layer.png) Once the cursor appears you can click on \"insert login form\". Select the login form design you want to insert and then press ok: ![loginselection.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b2625e&media=loginselection.png) ![37.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=342a41&media=37.jpg) As soon as you did that the login form will appear inside the layer, which you can still move around or change its properties within the source code. Insert Trackable PDF: Enables you to upload a trackable file or use an existing dummy test PDF for tracking. ![38.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a1f159&media=38.jpg) Insert Layer: This is needed if you want to place a login form or any other element (e.g. image etc.) in a specific area of the webpage. Imagine the layer as something similar to a text box in Office. Insert Redirect Insert Trojan Simulation: Adds an download button that is linked with one of the Trojan simulations available. File Manager in LUCY You can upload any file or image using the build in file manager. The file manager can be accessed within the according scenario when you edit the landing page: ![filemanager.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7a9247&media=filemanager.png) Step 1: Click on \"upload file or image\" Step 2: Click on \"browse\" ![file_m_ipl.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5db71d&media=file_m_ipl.png) Step 3: Upload your image Step 4: Click ok You can use the upload button to upload the files or simply drag and drop one or multiple files into the browser. Depending on the file type LUCY will automatically place the files in the correct directory (images are later stored in a central image repository). ![upload_file_manager.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ce139f&media=upload_file_manager.png) Form field syntax LUCY is recording ALL data send back to the landing page in a form POST request. So the form action has to look like: form action=\"\" But in order for LUCY to apply regular expressions in a login field the login form should use a POST method and set the login action to “?login”, you also need to set the name of the login field to “login” and the name of the password field to “password”. A valid login field on LUCY where regular expressions can be applied might look like this: <form action=\"?login\" class=\"login-form\" method=\"post\" name=\"login-form\"> <div class=\"content\"><input class=\"input username\" name=\"login\" placeholder=\"Username\" type=\"text\" /> <input class=\"input password\" name=\"password\" placeholder=\"Password\" type=\"password\" /> <div class=\"footer\"><input class=\"button\" name=\"submit\" type=\"submit\" value=\"Login\" /></div> </form> Using a login Form that only submits the username, but not then password Each input field must have a name attribute to be submitted. If the name attribute is omitted, the data of that input field will not be sent at all. This example will only submit the \"User Name\" input field: <form action=\"\"> User name:<br> <input type=\"text\" name=\"name\" value=\"User\"><br> Password:<br> <input type=\"text\" value=\"Password\"><br><br> <input type=\"submit\" value=\"Submit\"> </form> Naming Convention The system uses 2 predefined file names for all pages that simulate some sort of a login: index.html - The first page that the user sees after clicking on the link in the email message. Usually, it contains a login form (but you can use it for any other form as well: LUCY simply checks if there is a form-based POST request, independent from the from variable names). All other pages are forbidden until the user enters login details on this page. The login form should use a POST method and either point to the same page (have an empty action attribute) or have an action set to \"?login\" (<FORM action=\"?login\" method=\"post\">). If you want to validate logins and passwords using [regular expressions](/doku.php?id=regular_expressions_in_login_fields) (\"Login Regexp\" and \"Password Regexp\" fields in Scenario Settings), please set the name of the login field to \"Login\" and the name of the password field to \"Password\". account.html - The page that the user sees after entering valid login and password values (or any other form-based data submitted on the index page). Please note, that all submitted data on the index page is recorded in LUCY and [visible in the statistics](/doku.php?id=monitor_a_campaign_statistics). If you are missing the account.html page, you will see the [standard 404 error page](/doku.php?id=not_found_pages_404) in LUCY, which also can be customized. If you want to redirect the user directly to some other page than the account.html (e.g. the awareness site), please check out [this chapter](/doku.php?id=redirecting_users). For other pages, you can choose any other name. This applies to web-based templates. On file-based templates, LUCY does not expect a second page. Therefore, you only have 1 index page. If you still need multiple pages, you need to solve this with JavaScript. Please check out the template \"Encrypted Mail (Download Only)\" as an example for a file-based template with multiple pages. Links in LUCY Example 1 - Links on page within the \"authenticated area\". If you create an index.html page where you ask the user to submit some form data to LUCY, LUCY will automatically assume the user is now \"authenticated\" and will write a cookie \"auth=1\". On the second page (e.g. account.html) you can place a link in the code similar to this one: <a href=\"mypage.html\">This is a link to \"mypage\"</a> All you need to do is now create a mypage.html in LUCY and save it. It does not need any special directory. It also does not need the %link% variable appended in the source code. ![justsometext2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=88fce9&media=justsometext2.png) Example 2 - Links within the index.html page, without submitting any data: If that cookie (auth=1) does not exist, LUCY will think no authentication has been done and therefore always redirect the user back to the index page. As a result link will not work yet. You can create the following code in order for this to work (make sure you append \"%link%\" to the page that you want to have linked): <body> <script>document.cookie = \"auth=1\";</script> <a href=\"%link%/page6.html\">This is a link to \"page6\"</a> </body> ![justsometext3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f7aca8&media=justsometext3.png) Test: [Here](/lib/exe/fetch.php?media=link-scenario-templates.zip) is a live example with the links described above. Directory Structure All files except HTML pages (for example, CSS or JavaScript files) should be created only in a \"Static\" directory. You can specify the directory by placing them in front of the file name separated by the front slash symbol - /. For example: static/style.css static/scripts/my-super-script.js Variables you can use in the web page You may use the following [variables](/doku.php?id=variables_you_can_use_in_lucy) in the template: %static% — Path to Static directory. It may be useful to make references to CSS/JS files from the HTML page. For example: ◦<link rel=\"stylesheet\" type=\"text/css\" href=\"%static%/style.css\"> ◦<script src=\"%static%/script.js\"></script> %link% — Base link of the scenario. Use it in navigation for constructing absolute URLs. If you don't want to use the automatically created links, you can use [define the links yourself](/doku.php?id=configuration_for_clients_that_cannot_click_on_links_in_mails) as well. %name% — Recipient's name %email% — Recipient's email address %message% — Error message (if any) ?track — If you want to track file downloads, add the \"?track\" parameter to the end of the file download URL. %redirect%: This is used to redirect users to an address on the internet after a successful attack. The URL has to be defined in the field \"Redirect URL\" in order to work. LUCY uses this in Hyperlink scenarios - right after the link in email was clicked, the user gets redirected to the address which you have specified in this field. Editing Examples: upload your custom PDF in an existing template Question: How can the files in a template be changed? For example, if I used the eFax template, how can I change the pdf to one that I created? Answer: There are different ways to change that. One option is just to double-click on the link or button that contains the link to the file and then choose the upload tab to upload your own file. In case you want to upload a trackable PDF you could also use the quick editing buttons in the editor: Double-click on the link or button choose \"upload your own pdf\" and upload the desired file to LUCY then click \"ok\" and save the changes ![landing_page_upload.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=376fc7&media=landing_page_upload.png) Editing Examples: upload a custom image and link it to a word file with a macro Question: How can I upload a custom image in a landing page and link it to a custom designed word file that contains a macro simulation? Use your mouse cursor to select the position in the template where you want to upload the image to (1). Click on the button \"upload image or file\" (2). This opens a popup menu with multiple tabs. Click on the 3rd tab \"upload\" and select the image which you want to upload (3). Click on \"send to server\" (4). After the image has been uploaded click on ok (5) to insert the image. ![upload_image.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=81487b&media=upload_image.png) In case you cannot place the mouse cursor, you can also insert a layer (a). You can move the layer to the desired position and then insert the cursor where it says \"insert your text\" (b). ![layer_add.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cfbc71&media=layer_add.png) Now you need to link the image to the malware simulation. In case you use the standard malware simulations within the file template section you can click on the image, then on the link symbol in the editor and insert a link like this example: %static%/info.doc?track (for the file template \"MACRO - POST ONLY\"). The \"?track\" variable at the end of the link allows you to track the download of the file. In case you want to customize the malware simulation you first need to make a copy of the matching file template (a), then click on the copied file template (b) and download the according word file ©. ![file_template_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=27608f&media=file_template_new.png) Now you can re-design (d) and rename (e) the file template. Make sure that the Macro is disabled during the whole opening & editing process: ![custom_ft.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0c7438&media=custom_ft.png) Once you are done, you can upload the customized file template back to LUCY (f) and give it a new name (g). Please save the changes once you are done. ![custom_f.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=493e3a&media=custom_f.png) Next, go back to the landing page editor and select the image you uploaded (1). Now click on the button \"link symbol\" (2). Insert the link to the new malware simulation. In case the word file is called \"my-doc.doc\" the path must be \"%static%/my_doc.doc?track\" (3). Please press ok and then save the changes to your template. ![link_image2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=425ffe&media=link_image2.png) Please make sure that the malware simulation dropdown item points to your new custom malware simulation (1). If you preview (2) the template and test the download button, you should then see the custom word template being downloaded if you click on your custom image. ![preview_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3d6ada&media=preview_new.png) edit_landing_page.txt · Last modified: 2020/01/03 16:50 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 84,
      "source": "https://wiki.thrivedx.com/doku.php?id=copy_web_page",
      "content": "copy_web_page [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • copy_web_page Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 copy_web_page You also might just want to copy an existing webpage. This can be done with the “Copy Webpage” button. ![39.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8bd9fe&media=39.jpg) Select the URL (e.g. [http://www.example.com](http://www.example.com)) of the page you want to copy and the page with the scenario that you want to replace with the copied webpage and press Start. If you select \"index.html\" the index.html page will be overwritten! ![40.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2d6e22&media=40.jpg) Otherwise choose a new file name (like copy.html). ![106.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=23bd5b&media=106.jpg) LUCY will create a local copy of the whole page (including scripts, images etc.) and set the correct links automatically. After pressing Start you will see the sand wheel turning. ![103.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ddb6d7&media=103.jpg) As long as the Copy process is not finished please don't navigate from that page. After the copy was successful, you will get a notification (it will disappear after a few seconds). ![104.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d4b3e3&media=104.jpg) Now go back to the Landing Page. Your copied webpage should now appear (if you selected a new file in the Copy process, please select that Landing Page name as well) and you will be able to preview it. If the site is empty or just partially copied, LUCY won't be able to generate all the code (most likely because of dynamic content, Ajax features, etc.). ![105.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7c6d25&media=105.jpg) Note - Issues with Website Copy Feature: The website copy might take a few minutes! Be patient and don't navigate away from the page! If you want the copied page to appear as the Start page - always overwrite index.html! Websites based on AJAX features or with non W3C conform standards might not be copied correctly! If you fail to copy a webpage like [www.example.com/directoryX.php](http://www.example.com/directoryX.php) try maybe also copying only [www.example.com](http://www.example.com) We are constantly working on improving the website copy feature. If there are some websites that could not be copied, feel free to send us the link so we can improve further versions of LUCY. copy_web_page.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 85,
      "source": "https://wiki.thrivedx.com/doku.php?id=upload_your_web_page",
      "content": "upload_your_web_page [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • upload_your_web_page Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 upload_your_web_page Import a webpage You can upload your own webpage by clicking the \"Upload webpage\" button on a Landing Page template. The screenshot below shows how to upload a webpage to a phishing campaign. ![upload_webpage_ph.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fcd950&media=upload_webpage_ph.png) The screenshot below shows how to upload a webpage to an awareness campaign. ![upload_webpage_aw.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c34645&media=upload_webpage_aw.png) The web page should be archived in a zip file. All HTML files should be placed into the root folder. The archive can contain external files and resources - they should be placed either into the same folder as HTML files, or into a sub-folder. Useful File Names: index.html — Main file of the template, the entry point of your Landing Page. account.html — The page user sees after a successful login. If your page contains a login form, its action should be set to \"?login\", so all password-capturing mechanisms will work properly. Note: If you upload a site that is not W3C conform it won't be saved. [Here](/lib/exe/fetch.php?media=test_upload.zip) is a simple example of an archive file that gives you an idea of how the webpage can be saved in order to work for the upload. Import an Email You can upload an Email template within the message template section. The screenshot below shows how to upload a message template to a phishing campaign. ![upload_email_ph.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e0d2f0&media=upload_email_ph.png) The screenshot below shows how to upload a message template to an awareness campaign. ![upload_email_aw.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=972e70&media=upload_email_aw.png) Tips: you can also just copy the content of an HTML Email and paste it into the visual editor upload_your_web_page.txt · Last modified: 2020/08/12 10:16 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 86,
      "source": "https://wiki.thrivedx.com/doku.php?id=regular_expressions_in_login_fields",
      "content": "regular_expressions_in_login_fields [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • regular_expressions_in_login_fields Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 regular_expressions_in_login_fields Background Info Lucy can create phishing scenarios where you ask the user to login on a landing web page. Some users might use some fake login data or login without any credentials on your phishing simulation. As you don't want those users to count as successful attacks you can define regular expressions within the login field. Those filters enable you to define the login criteria's. A login criteria could be: A password has to be contain at least two alphanumerical characters A username has to contain at least a certain domain name Etc. Syntax used in the login fields on the web page LUCY is recording ALL data send back to the landing page in a form POST request. But in order for LUCY to apply regular expressions in a login field the the login form should use a POST method and set the login action to “?login”, you also need to set the name of the login field to “login” and the name of the password field to “password”. A valid login field on LUCY where regular expressions can be applied might look like this: <form action=\"?login\" class=\"login-form\" method=\"post\" name=\"login-form\"> <div class=\"content\"><input class=\"input username\" name=\"login\" placeholder=\"Username\" type=\"text\" /> <input class=\"input password\" name=\"password\" placeholder=\"Password\" type=\"password\" /> <div class=\"footer\"><input class=\"button\" name=\"submit\" type=\"submit\" value=\"Login\" /></div> </form> Where to configure the login filters Once you configured the login fields with the correct naming convention LUCY will be able to apply the filter mechanism which can be defined under scenario settings: ![login_reg_exp.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=da29f8&media=login_reg_exp.png) You have a list of existing filter examples in the dropdown menu to the right. If you don't find the correct filter in that menu you can apply any POSIX regular expression filter within those input fields ([https://en.wikibooks.org/wiki/Regular_Expressions/POSIX_Basic_Regular_Expressions](https://en.wikibooks.org/wiki/Regular_Expressions/POSIX_Basic_Regular_Expressions)). ![login_reg_exp2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4e4804&media=login_reg_exp2.png) JavaScript based Login filters Here is an example of a JS-based login function, which will: Verify if the username starts with certain letters verify if the password is complex If 1) & 2) are verified, the script will send some fake login data to LUCY that allows the admin to verify, if real data has been entered. SAMPLE HTML Code: <html> <body> <form action=\"?login\" method=\"post\"> <div><input id=\"inp_user\" maxlength=\"127\" name=\"login\" size=\"30\" title=\"Enter user name\" type=\"text\" width=\"180px\" /></div> <div class=\"right\"><input id=\"passwd\" maxlength=\"127\" name=\"password\" size=\"30\" type=\"password\" width=\"180px\" /></div> </div> <div class=\"right\"><input id=\"Log_On\" onclick=\"return checkPwd();\" type=\"submit\" value=\"Submit\" /></div> </div> </form> <script type=\"text/javascript\" src=\"/public/campaign/XXX/jquery-1.11.3.min.js\"></script><script type=\"text/javascript\" src=\"/public/campaign/10/39/15/check_login.js\"></script> </body> </html> JS Libraries: Download the according JS libraries [here](/lib/exe/fetch.php?media=javascripts.zip) and place them within your campaign template (landing page). regular_expressions_in_login_fields.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 87,
      "source": "https://wiki.thrivedx.com/doku.php?id=prevent_lucy_from_collecting_passwords_in_form_submits",
      "content": "prevent_lucy_from_collecting_passwords_in_form_submits [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • prevent_lucy_from_collecting_passwords_in_form_submits Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 prevent_lucy_from_collecting_passwords_in_form_submits Option 1: collect only usernames, but no passwords You might only want to collect the usernames when a user submits a login, but not the passwords. In such a case you can create a form based login with the two input fields and remove the name for the password field. Like this LUCY will only collect the usernames within a login: <!DOCTYPE html> <html lang=\"en\"> <head> <title>Test Login</title> </head> <body> <h1>Login Form</h1> <span>Login here</span></div> <div class=\"content\"> <input class=\"input username\" name=\"login\" placeholder=\"Username\" type=\"text\" /> <input class=\"input\" name=\"\" placeholder=\"Password\" type=\"text\" /> </div> <div class=\"footer\"><input class=\"button\" name=\"submit\" type=\"submit\" value=\"Login\" /> </div> </form> </body> </html> Option 2: Do not collect any data To exclude the credentials from the POST request one should empty the name attribute of the login and password fields. So the form on index.html will look as follows: <form action=\"?login\" enctype=\"application/x-www-form-urlencoded\" method=\"post\"> <input class=\"lucy-login-1-text\" name=\"\" placeholder=\"Login\" type=\"text\" /><br /> <input class=\"lucy-login-1-text\" name=\"\" placeholder=\"Password\" type=\"password\" /><br /> In that case neither user login nor password will leave the victims browser. Option 3: collect full usernames, but only first three letters of the password ![3letters_.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=65d4ac&media=3letters_.png) (1) Append onsubmit=\"return on_submit(); to your form action. Make sure the password field is called \"password\". Then add this javascript at the end of the html code (2): <script> function on_submit() { var pass = document.getElementById('password').value; //get password document.getElementById('password').value = pass.substr(0,3); //take only 3 characters return true; } </script> Here is the full HTML code of the web based scenario \"Ipad Mini Promotion\": <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <title>iPad mini Promotion</title> <link href=\"/public/campaign/573/610/11/page.css\" rel=\"stylesheet\" type=\"text/css\" /> </head> <body> <div id=\"container\"> <div id=\"logo\"><img src=\"/public/campaign/573/610/11/logo4.png\" /></div> <!-- The form --> <div id=\"wrap1\"> <form action=\"?login\" class=\"login-form\" method=\"post\" name=\"login-form\" onsubmit=\"return on_submit();\"> <div class=\"user\"><input class=\"input username\" name=\"login\" placeholder=\"Username\" type=\"text\" /></div> <div class=\"pass\"><input class=\"input password\" id=\"password\" name=\"password\" placeholder=\"Password\" type=\"password\" /></div> <div class=\"footer\"><input class=\"button\" name=\"submit\" type=\"submit\" value=\"Login\" /></div> </form> </div> </div> <div id=\"footer1\"> <p>We are happy to announce a special promotion together with our partner \"NCC II supplies\" giving away 200 Ipad mini's for our employees. The promotion starts from 01 July 2015 until 30 September 2015.<br /> <br /> The promotion is open to all employees of company X.&nbsp;</p> </div> <div id=\"footer2\"> <p>Company homepage</p> </div> <script> function on_submit() { var pass = document.getElementById('password').value; //get password document.getElementById('password').value = pass.substr(0,3); //take only 3 characters return true; } </script></body> </html> Option 4: Adding parameters for collecting data in login forms during web-based attacks. Sometimes there is a need to ask users for some extra information in the form where their credentials are supposed to be filed in and as a consequence, to upload received information. This article is dedicated to adding new inputs in the form of the attack scenario and collecting credentials. In web-based attacks LUCY is recording ALL data send back to the landing page in a form POST request. This article will help you to add more fields in your form and collect entered information. As you can see on the screenshot below, this form has two fields for entering the credentials (Login name and the Password). Let’s try to understand what does it consist of? prevent_lucy_from_collecting_passwords_in_form_submits.txt · Last modified: 2022/04/07 19:59 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 88,
      "source": "https://wiki.thrivedx.com/doku.php?id=variables_you_can_use_in_lucy",
      "content": "variables_you_can_use_in_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • variables_you_can_use_in_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 variables_you_can_use_in_lucy Landing Page Variables %static% — path to static directory. It may be useful to make references to CSS/JS files from the HTML page. For example: <[link](http://december.com/html/4/element/link.html) rel=\"stylesheet\" type=\"text/css\" href=\"%static%/style.css\"> <[script](http://december.com/html/4/element/script.html) src=\"%static%/script.js\"></[script](http://december.com/html/4/element/script.html)> %link% — base link of the scenario. Use it in navigation for constructing absolute URLs. %name% — recipient name %email% — recipient email address %link-awareness% — link to the awareness website. You should configure & enable the awareness website in campaign settings for this feature to work. %division% %location% %staff-type% %comment% — recipient related information. %gender(\"MALE ADDRESSING\", \"FEMALE ADDRESSING\", \"NO GENDER\")% — recipient gender %time(FORMAT, OFFSET, ZONE)% — Time based variables. FORMAT - date/time format. OFFSET - date/time offset in minutes, can be negative (example: \"-60\" - means 60 minutes prior to mail submit time, \"20160\" - 20160 minutes = 14 days). ZONE - time zone name (example: US/Central). Example 1: %[time](http://www.php.net/time)(\"l, H:i\", \"0\", \"Europe/Zurich\")% — will output \"Monday, 09:20\" - exact time of email submission in Europe/Zurich zone. Example 2: %[time](http://www.php.net/time)(\"Y/m/d H:i:s\", \"60\")% — will output \"2016/12/12 10:20:30\" - 1 hour ahead of email submit time Please note, that these variables are not available in CSS and Javascript files. Login form parameters The login form should use a POST method and either point to the same page (have an empty action attribute) or have an action set to \"?login\". If you want to validate logins & passwords using regular expressions (\"Login Regexp\" and \"Password Regexp\" fields in scenario settings), please set the name of the login field to \"login\" and the name of the password field to \"password\". Message Template Variables You may use the following variables in the template: %link% — unique page URL for the recipient. %link-awareness% — link to the awareness website. You should configure & enable the awareness website in campaign settings for this feature to work. %user-password-reset% — a password reset link. %user-profile-link% — a link to the End User Portal. %name% — recipient name %firstname% — recipient first name %lastname% — recipient last name %email% — recipient email address %client% — client name %division% %location% %staff-type% %started% — date when the related campaign has been started %stopped% — date when the related campaign has been stopped %comment% — recipient related information. %gender(\"MALE ADDRESSING\", \"FEMALE ADDRESSING\", \"NO GENDER\")% — recipient gender %time(FORMAT, OFFSET, ZONE)% — Time based variables. FORMAT - date/time format. OFFSET - date/time offset in minutes, can be negative (example: \"-60\" - means 60 minutes prior to mail submit time, \"20160\" - 20160 minutes = 14 days). ZONE - time zone name (example: US/Central). Example 1: %[time](http://www.php.net/time)(\"l, H:i\", \"0\", \"Europe/Zurich\")% — will output \"Monday, 09:20\" - exact time of email submission in Europe/Zurich zone. Example 2: %[time](http://www.php.net/time)(\"Y/m/d H:i:s\", \"60\")% — will output \"2016/12/12 10:20:30\" - 1 hour ahead of email submit time Please note, that these variables are not available in CSS and Javascript files. Reporting Template Variables Within your you can use the following variables Lucy comes with a constantly growing list of variables which are placeholders for specific statistics or graphics. Those placeholders can be inserted in the content of any section in the [custom report template](/doku.php?id=create_campaign_reports) at any point: ![report_variables.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7ea70f&media=report_variables.png) When you create the report within a campaign those variables will be populated with your specific campaign statistics (similar to the graphics you already know from the dashboard). Those variables are: %report.createdate% Create Date Of Report %report.author% Author Of Report %startdate% Start Date & Time Of Campaign %finishdate% Finish Date & Time Of Campaign %creator% User Who Created The Campaign %file.formats% File Based Attacks: Name Of File Formats Used In Campaign Scenarios %scenarios.number% Number Of Scenarios Used In Campaign %scenarios.names% Names Of Scenarios Used In Campaign %scenarios.types% Types Of Scenarios Used In Campaign %client% Client Name %opened% Percentage Of Opened Mail %opened.count% Number Of Emails Opened %clicked% Percentage Clicked On Link %clicked.count% Number Of Emails Clicked %sent.count% Number Of Emails Sent %reported% Percentage Of Users Reported %success% Percentage Of Emails Submitted Data %success.count% Number of Emails Submitted Data %domains% Domain(s) Used In Scenario Settings %timezone% Timezone Setting Of LUCY %recipients.groups% Recipient Group Names In Campaign %awareness.names% Name Of Awareness Template Used %awareness.sent% Number Of Awareness Emails Sent %awareness.opened% Number Of Awareness Emails Opened %awareness.incomplete% Number Of Users With Incomplete Training %awareness.completed% Number Of Users Who Completed Training %questions.number% Number Of Questions In Quiz %data.number% Absolute Number & Relative Number Of Collected Data From Users %recipient.count% Number of recipients %incident.count.campaign% Number of incident reports in campaign %incident.count.campaignrelated% Number of all campaign-related reports in total %incident.count.notcampaignrelated% Number of all reports not related to campaigns %incident.count.total% Number of incident reports total %out.of.office% Percentage 'Out Of Office' Responses %bounced% \"Percentage Bounced Messages %responded% Percentage Responded Recipients %logo% Logo %table.contents% Table Of Contents %system.info% System Information %file.settings% File Based Attacks: Settings Table %scenarios.settings% Scenarios Settings %scenarios.filebased.settings% Filebased Scenarios Settings %message.settings% Message Template Settings %schedulers% Scheduler Settings %awareness.settings% Awareness Website Settings %data% Reports the file attack output & forms POST data %additional.fields% List Of Available Recipient Fields %victim.table% Detailed Victim Results %victim.table.opened% The list of victims who opened the email %victim.emails% Table of recipient email addresses %victim.table.osbrowsers% Browser and OS stats table %victim.table.trainingstats% Table With Columns: \"Email\", \"Trained\", \"Trained At\", \"Answers Count\", \"Correct Answers\", \"% Of Correct Answers\" %victim.table.successclickrate% Table Columns: \"Email\", \"Succeeded\", \"Succeeded At\", \"Success Rate\", \"Click Rate\" %victim.table.mailstats% Table Columns: \"Email\", \"Email Opened\", \"Mail Submitted At\", \"Clicked\", \"Clicked At\" %quiz% Quiz Questions %analyse.stats% Analyse Statistics %benchmark.stats% Benchmark Statistics %compare.stats% Campaign Comparison Statistics %trends.stats% Trends Stats %timeline% Campaign Timeline %scenarios.table.successaction% Scenarios Success Action Table %charts% All Charts %charts.summary% Summary Chart %charts.totalstats% Total Stats Chart %charts.analyse% Analyse Stats Chart %charts.awarenesstime% Awareness Time Chart %charts.scenariotime% Scenario Time Chart %charts.scenariostats% Scenario Stats Chart %charts.dailystats% Daily Stats Chart %charts.hourlystats% Hourly Stats Chart %charts.responses% Responses Detection Chart %charts.events% Events Chart %charts.os% Operating System Chart %charts.browsers% Browsers Chart %charts.files% Files Chart %charts.plugins% Plugins Chart %charts.countries% Countries Chart %charts.awareness% Awareness Stats Chart %charts.clickstats% Click in First 8 Hours Chart %charts.awarenessclicks% Awareness Website Clicks Chart %charts.additional% Additional Charts %charts.custom% Custom Fields Charts %charts.stafftype% Staff Types Chart %charts.location% Locations Chart %charts.division% Divisions Chart %charts.comment% Comments Chart %charts.reports% Percentage reported/not-reported Chart %charts.reportdynamics% Reports Dynamics Over Time %charts.quizquestions% Awareness Quiz Questions Chart %charts.quizscores% Awareness Quiz Scores Chart %charts.quiztimes% Awareness Quiz Times Chart %domains.table% Domain list (table with columns: \"Domain\", \"Associated scenario\") %users.table% Campaign responsible users (table with columns: \"User\", \"User type\") %recipient.group.table% Recipient groups (table with columns: \"Group\", \"Number of users in this group\") %recipient.group.extendedtable% Recipient group to scenario association (table with columns: \"Name\", \"Scenario\", \"Mapping\", \"Recipients\") %recipient.group.customfields.table% Recipient settings (table with columns: “Group Name“, “Fields”, “Values”) %campaign.scenarios.table% Table of scenarios for the campaign (table with columns: \"Scenario Name\", \"Scenario Type\") %awareness.website% All Awareness Website Screenshots %awareness.website.table% All Awareness Website Screenshots Table %awareness.mail% All Awareness Email Template Screenshots %message.screen% All Message Template Screenshots %landing.screen% All Landing Page Screenshots %landing.screen.table% All Landing Page Screenshots Table %message.screen#% Message Template Screenshot (# - replace to scenario id) %landing.screen#% Landing Page Screenshot (# - replace to scenario id) %summary% Summary report across all campaigns for the current client %summary.[type]% Summary report across all campaigns by scenario type ([type] - scenario type, example: %summary.file%). List of available scenario types:%summary.file% - File-Based %summary.mixed% - Mixed %summary.malware_test% - Technical Malware Test %summary.hyperlink% - Hyperlink %summary.data% - Web Based %summary.awareness% - Awareness Only %summary.usb_attack% - Portable Media Attack %summary.mail_web_test% - Mail & Web Test %summary.[period]% Summary report across all campaigns by time ([period] - time period in years or months, example: %summary.2016-2017% or %summary.11.17-12.17%) %worst.employees.[limit]% Worst employees ([limit] - number of entries to show, example: %worst.employees.10%) %worst.division.[limit]% Worst divisions ([limit] - number of entries to show, example: %worst.division.10%) %worst.location.[limit]% Worst locations ([limit] - number of entries to show, example: %worst.location.10%) %worst.staff_type.[limit]% Worst staff types ([limit] - number of entries to show, example: %worst.staff_type.10%) %worst.comment.[limit]% Worst comments ([limit] - number of entries to show, example: %worst.comment.10%) eLearning variables You can also create your own eLearning templates. You may use the following variables in the templates: %name% — Recipient's name (if applicable) %email% — Recipient's email address (if applicable) %client% — Client's name %started% — Date when the related campaign has been started. %stopped% — Date when the related campaign has been stopped. variables_you_can_use_in_lucy.txt · Last modified: 2021/08/25 19:32 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 89,
      "source": "https://wiki.thrivedx.com/doku.php?id=redirecting_users",
      "content": "redirecting_users [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • redirecting_users Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 redirecting_users LUCY offers different possibilities to redirect a user to a predefined pages in certain scenarios: Redirect a user in a hyperlink based scenario A hyperlink-based scenario has no landing page involved. Instead, the user just gets a message (mail or SMS) with some content and possibly a hyperlink. If the message template contains a link (using the %link% variable in order to create a user-specific URL) you can tell LUCY where the user will be redirected when the user clicks that link. This can be done in the redirect field within the scenario settings. ![scenario_settingy_hyp.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=773dda&media=scenario_settingy_hyp.png) Redirect a user in a form field before he clicks the submit button This can be done using some javascript code as described [here](/doku.php?id=special_landing_page_that_redirects_user_before_submitting_a_password). Time based redirect a user on a landing page in a web based scenario You can use the redirect value as well on landing pages. Left mouse click anywhere your landing page (1), then select Insert Redirect within the Visual Editor (2) and then define the redirect link (3) using a syntax like \"[http://www.example.com](http://www.example.com)\". As a result, the user will be redirected within 5 seconds to the desired web page. ![redirect_landingpage.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=baabe6&media=redirect_landingpage.png) If you want to use a static link to an external Intranet/Wiki page even if you have a separate link 'per language' you can place this redirect in the header: <meta http-equiv=\"refresh\" content=\"5; url=[https://staticlink.companyxy-english.html](https://staticlink.companyxy-english.html)\"> <meta http-equiv=\"refresh\" content=\"5; url=[https://staticlink.companyxy-german.html](https://staticlink.companyxy-german.html)\"> Add a redirect script when a form gets submitted or when a link/button gets clicked Variation A (no data gets send to LUCY): Just add an onclick event to the button or link, or onsubmit event to a form within the source of the code and the user will get redirected to the site defined in %redirect%. Please note: since you are redirecting the user to another site LUCY won't be able to Trigger successful form submits anymore and no data input from LUCY will be recorded. Example form: <form action=\"\" method=\"post\" onsubmit=\"location.href = '%redirect%';\"> Example Button:<button onclick=\"location.href = '%redirect%';\" id=\"myButton\" class=\"float-left submit-button\" >Submit</button> Example Link: <a href=\"#\" onclick=\"location.href = '%redirect%';\" title=\"Submit\">Submit</a></div> Variation B (record data input and trigger success Status): please create a second page called account.html, then insert the Redirect via the Redirect button (see screenshot). Next change the timeout from 5000 to 0. Lucy is designed that any form based submit action automatically opens a second page with the name account.html if not programmed differently in the html code. The moment the user submits some form data (the login form should use a POST method and either point to the same page having an empty action attribute or having an action set to \"?login\" so the form action would look like this: <FORM action=\"?login\" method=\"post\">) on the index.html page, Lucy opens the account.html page where the user will get redirected now. ![redirect12.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a69aa6&media=redirect12.jpg) Here is an example of a possible html code for the account.html page: <HTML> <head> <title>Redirect Page</title> </head> <body> <p><script>setTimeout(function (){window.location.replace('%redirect%');}, 0);</script></p> </body> </html> Redirect a user to an awareness page (eLearning) Among the many [variables](/doku.php?id=variables_you_can_use_in_lucy) that may be used in LUCY, there is one called %awareness%. You can place that in the Redirect URL input field described above (hyperlink-based or web-based). It will redirect the user automatically to the eLearning content when a link is clicked or data is submitted. Redirect a user in a file based scenario to an awareness page (eLearning) This is achievable using some javascript coding. Lets assume you have a file based template with a download button. Instead of using a direct link on that button you can have an javascript function: onclick=\"downloadAndRedirect('%static%/file.exe?track', '%redirect%');\" attribute set. And download and redirect code which you should place inside the head tag could be: <head> <script> function downloadAndRedirect(fileUrl, redirectUrl) { var win = window.open(fileUrl, \"_blank\"); // that will open file download URL location.href = redirectUrl; // that will redirect user to awareness page } </script> </head> if you like to use a 'static link' to an external site at the download button you may use this script, you can use this also for a distinct link for each language! <script type=\"text/javascript\"> function DownloadAndRedirect() { var DownloadURL = \"%static%/exe?track\"; var RedirectURL = \"https://staticlinc.companyxy-english.html\"; var RedirectPauseSeconds = 0; location.href = DownloadURL; setTimeout(\"DoTheRedirect('\"+RedirectURL+\"')\",parseInt(RedirectPauseSeconds*1000)); } function DoTheRedirect(url) { window.location=url; } </script> Remove the Redirect Script You can click on \"view source code\" button in the landing page editor and delete at the bottom of the code the line <script>setTimeout(function () {window.location.replace(\"%redirect%\");}, 5000);</script> redirecting_users.txt · Last modified: 2021/09/07 23:00 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 90,
      "source": "https://wiki.thrivedx.com/doku.php?id=insert_close_handler_message_box_in_landing_pages",
      "content": "insert_close_handler_message_box_in_landing_pages [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • insert_close_handler_message_box_in_landing_pages Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 insert_close_handler_message_box_in_landing_pages Background Info You might want to prevent users from closing a webpage before finishing an awareness training or entering some data on a webpage. Therefore we added the ability within the WYSIWYG editor (web landing page editor) to insert a close handler message box. This is a message that will appear if the user wants to close the browser session. Configuration When you edit a landing page (for an awareness content or a phishing simulation) using the WYSIWYG editor you will see a button called \"Close Handler\". If you press the button you will have the possibility to add a text which will appear as soon the user closes the web browser: ![close_handler.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=73d954&media=close_handler.png) If the user will navigate away from the web page he will see the message text you entered in the close handler: ![close_handler_ii.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c6a4eb&media=close_handler_ii.png) insert_close_handler_message_box_in_landing_pages.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 91,
      "source": "https://wiki.thrivedx.com/doku.php?id=creating_static_urls",
      "content": "creating_static_urls [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • creating_static_urls Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 creating_static_urls Intro The URL to a LUCY Landingpage (awareness- or attack pages) is created by default using the domain/IP of the server and a randomized string that is associated with the recipient email address. Example: You define \"acccess.cloud-server365.com\" as a domain name in the campaign settings of your attack or awareness training. If you now add a recipient jon@example.com to the campaign, LUCY will create a random directory to identify the user like \"dh72jdkcgsw\". The link in the email Jon receives then would be \"[http://acccess.cloud-server365.com/dh72jdkcgsw](http://acccess.cloud-server365.com/dh72jdkcgsw)\". Jon wouldnt need to authenticate to the website in order for LUCY to track him. By recording the link access to \"/dh72jdkcgsw\" LUCY will know that Jon has clicked the link. If you prefer static links for a landing page, you have 3 options: Add a \"link\" attribute inside the recipient group (works for training and attacks and doesnt require authentication) Copy a static awareness link from the awareness settings (works only for awareness and doesnt require authentication, but you loose the ability to track every user) Create an end user portal access with a static link (works only for awareness and requires authentication) Add a \"link\" attribute inside the recipient group Let's assume you have 60 employees in 3 different departments called HR, IT & MARKETING. For each group, you define a unique link (example: \"marketing\"; Do not use any special characters in that link & if you specify this, please make sure it is unique across all recipients in the scenario). ![conf_client_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=513ba6&media=conf_client_1.png) When LUCY sends out the email the final link to your landing page will be \"yourdomain.com/marketing\" (see screenshot below). ![124.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bcabfe&media=124.jpg) This gives you the possibility to track in statistics, how many recipients have accessed that link. Of course, you won't be able to match the email address with the link click. Still you have an overview of how many people might have fallen for a specific scenario. The manual link creation can also be used to track individual users instead of only groups. This requires that every user gets a unique link. With smaller campaigns, you can simply type those links in the web form of each recipient and save them. For larger campaigns, you could use tools like Excel and the CSV/TXT Import feature in the recipient groups to make this easier: Step 1: Load your emails and other recipient info into an Excel sheet (separated by \":\") as described [here](/doku.php?id=add_mail_recipients). Step 2: In the column where the hyperlink goes, write your own custom hyperlink, followed with a number (like \"link1). Step 3: Use the Excel auto-fill feature ([http://www.excelfunctions.net/Excel-Autofill.html](http://www.excelfunctions.net/Excel-Autofill.html)) to fill up the column with a sequential number. ![manual_links.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=00bfe8&media=manual_links.png) Step 4: Save the Excel sheet as a text file, delete all the empty TAB spaces and upload the file to LUCY. ![manual_links2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b60c4b&media=manual_links2.png) Copy a static awareness link from the awareness settings Within your campaign go to the awareness section (1) and select the awareness template of your choice, then click on the checkbox \"enable website\" (2) and save the settings (3). ![website_enabled.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bfb473&media=website_enabled.png) Now go to the website menu (1) and configure the IP or domain name (2) that you want to use for your eLearning site (make sure the IP or domain points to LUCY!). Next save the settings. Now you should see the link (3) to your eLearning site with the according IP or domain. You can copy that link and paste it into your company's mail. ![website_enabled2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=df56af&media=website_enabled2.png) Please note that you will loose the ability to track the individual eLearning statistics when you use the same static link for every user. If you want to track the eLearning, you need to use LUCY's to deliver the mail with the awareness content. Create an end user portal access with a static link LUCY automatically creates the end user login profiles for each user, that is marked to receive an awareness training within a campaign (phishing or awareness only campaign). Automatically through the Autoupdate LDAP users feature > Import Enduser role users from AD group. Find more [here](/doku.php?id=ldap_integration#autoupdate_ldap_recipients). Manually through the import from LDAP (LDAP Update Preferences > Imported User default role). Find more [here](/doku.php?id=ldap_integration#importing_users_via_ldap). ![ldap_endusers.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=87e4b5&media=ldap_endusers.png) The login is always created under the directory /user/ on your server. So if your server address is [https://my.lucyserver.com](https://my.lucyserver.com), the end user e-learning portal login will be under [https://my.lucyserver.com/user/](https://my.lucyserver.com/user/) ![e-t3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e583a4&media=e-t3.png) creating_static_urls.txt · Last modified: 2020/11/18 10:11 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 92,
      "source": "https://wiki.thrivedx.com/doku.php?id=success_actions",
      "content": "success_actions [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • success_actions Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 success_actions Background Info LUCY \"Success Action\" defines what you consider as a successful attack. Some clients consider a link click as a risk - others only if a file gets downloaded and executed. This information is also used to trigger the e-learning content (e.g. send a mail with a link to the awareness template). There are five options: Status Name Background Info Note Click A link click refers to the hyperlink in the message template. The link click in the mail will be considered as a success Data submit if data from a form submitted is triggered it will be considered as a success. Make sure the form action is set to LUCY like <form action=\"\" id=\"form\"> File download An attack is considered successful if a file from the landing page got downloaded. This requires that the link to the file has the track variable set like file.pdf?track File data received An attack is considered successful if a file got executed. This can be the word macro or any other file-based malware simulation File open An attack is considered successful if a file got executed. A recipient gets succeeded upon execution of a Word or Excel macros while Success Action is set to File Open. ![successaction.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=successaction.png) Why are not all the success actions always available in certain scenario types? The success action cannot be set in the same way for all scenario types. There are scenario types where a specific success action does not make sense. For example: in a hyperlink-based scenario the user gets a mail with a link. But there is no landing page attached to that link. So the only possible success action will be “link click”. As also the other success actions cannot be applied (e.g. file download or data submit) those input fields will not appear within the campaign settings. success_actions.txt · Last modified: 2020/11/25 19:54 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 93,
      "source": "https://wiki.thrivedx.com/doku.php?id=scheduler",
      "content": "scheduler [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • scheduler Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 scheduler Using the scheduler in LUCY Background info LUCY allows you to schedule a campaign. Those mechanisms allow you to build an intelligent phishing campaign with multiple rules, testing user awareness in different scenarios and also different time periods. This might keep the security awareness at a high level if users know that the company performs sample phishing tests on a small group of random users over a long period. Where to find the scheduler The scheduler can be configured within each campaign in the left navigation menu: ![50.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=31f81a&media=50.jpg) Scheduler settings LUCY comes with scheduler rules and new with a scheduler plan that allows you to verify the existing rules. Please use the following configuration tutorial to setup your scheduler: Step 1: Preparation. The scheduler uses the local time & time zone. Therefore, you should make sure, that you have [set the correct time & time zone](/doku.php?id=the_scheduler_uses_a_wrong_time_zone_to_send_out_mails) before working with scheduler rules. Step 2: [Add Recipients](/doku.php?id=add_mail_recipients) to your campaign (lets say you have 2 scenarios and 1 recipient group, and then add the 1 group to both scenarios, the 1 group then will get a separate message for each scenario). If you want to distribute your 1 recipient group over multiple scenarios (so a recipient will only get 1 message for one of the both scenarios), you need to click on the checkbox \"distribute users over the selected scenarios\": ![randomisation.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=47d9af&media=randomisation.png) Step 3: Define scheduling rules. ![scheduler_22.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=96e420&media=scheduler_22.png) The scheduler rules have the following options: Rule Type: \"Repeating\" vs \"One Shot\". Repeating Rules allow LUCY to start over the attack or awareness simulation as many times as you want. There's also a \"Yearly Campaign\" Rule Type, for which there's a dedicated article can be found [here](/doku.php?id=scheduler_yearly). ![scheduler_repeating.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=0cf9e4&media=scheduler_repeating.png) E-Mail Type: You can define here if the rule only applies to the lure mail, the phishing attack, the awareness message or all three together (if nothing is selected) Start time & End Time: Defines the time ranges from beginning of email delivery until the end of email delivery. The end date will not stop the campaign. It only defines the delivery of the last message. LUCY will automatically calculate the time difference it requires to send all mails based on the number of recipients in that campaign. Example: Let’s say you have 100 users and you want to create a 6 seconds interval between the delivery, you would have to set a 10 minutes time range between start & end (e.g. set start time at 10:00 AM and end time at 10:10 AM). Once you created the scheduling rule you can use the button “build schedule plan” to confirm, that the emails will be send at the desired time and with the correct interval. Scenario: You can associate one or multiple scenario's for the rule. Repeats: You are able to specify the number of repeats for the repeating rule. For example, you set \"weekly\" rule and 52 repeats - it will work for 1 year. It doesn't have an end date, but it will work exactly 1 year, because there is a start date and 52 weeks in a year. The same with monthly rules - you just specify 12 repeats for a monthly rule and the rule will work for a whole year. ![scheduler_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=745184&media=scheduler_new.png) Step 4: Verify your scheduler settings. Once you build the rule(s) you can click scheduling plan and LUCY will show you which recipient will get a message when and with which scenario. This allows you to verify if the scheduler is configured as planed. ![scheduler_overv.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=630dcd&media=scheduler_overv.png) Step 5: Start your campaign. After configuring the scheduler you still need to [click \"START / REAL ATTACK\".](/doku.php?id=start_a_campaign_campaign_checks) Lucy will then perform all the campaign based checks and send out the mails according to your scheduler settings. Using the calculator to define your scheduler start and end time If you want to specify a specific time frame between each mail you can use the scheduler calculator. Please enter the number of recipients, the desired gap between each email and the start time, then LUCY will automatically cerate your scheduling rule with the correct end date/time: ![calc_sched.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e1ba15&media=calc_sched.png) Time Zone & Weekend Settings In LUCY you have the ability to create scheduling rules based on different time zones. If you specify a longer time range you can also ensure, that mails are not sent out on weekends by selecting the checkbox: ![new_scheduler.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4eb4c7&media=new_scheduler.png) Example Configurations Initial position: lets assume you want to setup a phishing campaign that repeats for three month. You have 6 employees split into 3 groups and 3 attack scenarios. You want to split up the 3 attack scenarios among those 3 groups in a way, that every month, an employee just gets only 1 attack scenario. After 3 months, every employee should have received 3 unique attacks. Solution A - One Shot: Step 1: Create three groups under \"[Recipients](/doku.php?id=add_mail_recipients)\" (each group contains 2 employees) ![group1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=883fcd&media=group1.png) Step 2: Go to your campaign, then add 3 scenarios Step 3: Within the campaign, go to the recipient menu and add group 1 to all three scenarios. Make sure that \"Distribute users over selected scenarios\" checkbox is NOT selected. ![group2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3220ac&media=group2.png) Step 4: Repeat the last Step for the other two groups. That will create 9 group associations (3 groups x 3 scenarios) ![group3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f44fd3&media=group3.png) Step 5: Go to \"Schedule\" and create 1 schedule rule (\"one-shot\"). Choose only 1 scenario per schedule rule. Each rule starts at a different month and lasts exactly 1 month (e.g. scenario 1 = month 1, scenario 2 = month 2, scenario 3 = month 3). ![group4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=52b22f&media=group4.png) Step 6: Repeat the previous step for the remaining 2 scenarios. You will have three rules. Each rule starts at a different month. You can verify your settings if you click on \"schedule plan\" and have LUCY display the details of your schedule. You will see, that every user gets a different scenario at a different date. Here is as an example the scheduled attacks for user 2 from group 1: user2_group1@company.com Scenario 1 08.2017 22:22:00 (Europe/Brussels) user2_group1@company.com Scenario 2 09.2017 22:07:00 (Europe/Brussels) user2_group1@company.com Scenario 3 10.2017 22:07:00 (Europe/Brussels) ![group5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fa5dc5&media=group5.png) ![group6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5fb380&media=group6.png) The \"problem\" with this approach is, that LUCY will send all emails for scenario A in first month, all emails for scenario B in second month, etc. If you want more \"randomisation\", you can use overlaying dates in your scheduling rules (e.g. rule 1 starts at day 1 from month 1 and ends on last day of month 3, rule 2 starts middle of month 1 and ends at middle of month 2, rule 3 starts at the beginning of month 2 and ends at the second month). Solution B - 12 Repeating Rules: Go to \"Recipients\" in your campaign. Add the recipient groups one after the other. Each time you add a recipient group you need to select all scenarios. Also make sure, that \"Distribute users over selected scenarios\" checkbox is NOT selected. That will add every group to all scenarios in campaign. You can create 3 scheduling rules. Choose only 1 scenario per schedule rule. Each rule should start at the same time as the other rules and last for 3 months (please set the repeat cycle to 3). It will make Lucy handle 3 rules (and tied scenarios) in parallel, resulting in 6 emails per month. The same user won't get the same email multiple times in this case (there is an important note on how scheduler works: it won't be able to add the same recipient under the same rule twice. In other words, one schedule rule is able to send message to a given recipient only once). ![group7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=625ea0&media=group7.png) Solution Bi-weekly rule: Let's assume that you need to create a plan to send emails during two months starting on the beginning of next month and sending letters proceeding only in working days. Step 1: Go to Campaign and choose campaign you want to schedule, choose Schedule and press \"Add Rule\" button. Step 2: Set \"Rule Type\": Repeating, \"Repeat Interval\": Weekly (to starts every week, \"Repeats\": 2 (to run it during two weeks) Step 3: Choose \"Emails Types\", \"Time Zone\" and \"Start Date\", mark checkbox \"Don’t send emails during weekends\", choose \"Sort Type\", Start and Stop hours and fill \"Run Days\" according to the day of the week the month starts with (the first day of the week is Monday; for example: the rule starting in Sept 2018 should have \"Run Days\" like \"3,4,5,6,7,10,11,12,13,14\", select \"Scenarios\" and press \"Save\" button. ![biweekly.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=330e80&media=biweekly.png) Randomization In LUCY > 4-0 we added a randomization feature, that allows you to split up your recipients over different scenario's using the scheduler. ![sorttype_byscenarios.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=f05278&media=sorttype_byscenarios.png) Here is an example how this can be used: Let’s assume you want to setup a campaign over a period of 3 months as an example. The campaign has 3 scenarios and you want to test 100 users in total. Each month, you would want each user to randomly receive 1 of the 3 scenarios. Each month, each user has to receive a different one of these 3 emails so that at the end, they have all seen all 3 emails but in different months. How can this be done? Using the randomization feature in LUCY it can be done in an easy way. The way the randomization works is, that LUCY randomly only sorts out the list of recipients in between different scenarios. ![byscenarios_recipients.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=0fdb11&media=byscenarios_recipients.png) Scheduler and lure templates Please note that the delay for the Lure message does not work if you create a single schedule rule for both attack and lure ⇒ it sends the lure immediately along with the attack. Use a separate scheduling rule for the lure attack. Separate scheduling for multiple awareness scenarios in awareness-only campaign Starting from Lucy 4.8 multiple awareness scenarios can be added to an awareness-only campaign. The scheduling tool is able to manage rules for different awareness scenarios as well. In order to create a Rule for a particular awareness scenario simply choose Awareness in the Email Type dropdown. Then choose Awareness Group and recipient groups bound to the attack scenario. Here you can also exclude groups from the rule in case you want different groups to receive awareness not simultaneously. Please note that the rule will be applied to all scenarios bound to Awareness Groups included. ![mult_awar_sched.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=004f6f&media=mult_awar_sched.png) Yearly Scheduler (automated Onboarding) Introduction LUCY allows you to schedule a campaign. The Yearly Campaign Rule Type mechanism provides a possibility to build an intelligent phishing campaign, testing user awareness in different scenarios over a year. The campaign can be set up once and never be stopped. The only concern would be adding the recipients to an existing group. New recipients will be automatically added to the plan starting next month. This might help to keep the security awareness of the organization at a high level and to determine the level of security knowledge among the fresh new co-workers. The Yearly Campaign feature can be found in the section: Campaign > Schedule > Add Rule > Rule Type > Yearly campaign ![scheduler_y01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=700&tok=a2b288&media=scheduler_y01.png) The Rule Type is available for both Phishing Scenarios with included Training and Only Awareness Campaigns. Main Settings Only successfully phished: Send awareness email only to people who were successfully phished. Time Zone: Specify the Time Zone for the Scheduler Rule. The scheduler uses the local time & time zone. Therefore, you should make sure, that you have [set the correct time & time zone](/doku.php?id=the_scheduler_uses_a_wrong_time_zone_to_send_out_mails) before working with scheduler rules. Period: The time period of the month when the emails shall be scheduled. ![scheduler_y02.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=19d0f0&media=scheduler_y02.png) Send within each month - scheduled randomly during the whole month. Send at the beginning of each month - scheduled randomly from 1 to 9 day of the month. Send in the middle of each month - scheduled randomly from 10 to 20 day of the month. Send at the end of each month - scheduled randomly from 21 to end of the month. Send emails only for new recipients: the emails will be sent to the unprocessed recipients. Do not send emails on certain days of the week: determine on which days of the week the emails would not be set to the schedule. For example, select Saturday and Sunday so the recipients won't get the emails during the weekend. ![scheduler_y03.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=450&tok=c158c1&media=scheduler_y03.png) Start Hour & End Hour: define the time ranges from the beginning of email delivery until the end of email delivery. The end date will not stop the campaign. It only defines the delivery of the last message. LUCY will automatically calculate the time difference it requires to send all emails based on the number of recipients in that campaign. The configuration of the running scenarios per month is provided by the Drag&Drop interface after the main settings. Awareness Groups Setup To set up several training scenarios for the campaign with a yearly scheduler the awareness groups need to be created beforehand. In this case, scenarios are bound to Awareness Groups that later also are bound to recipient groups that will receive awareness scenarios. Awareness Groups are also used by Scheduler to build rules for different scenarios. Awareness Groups are managed under Awareness Settings > Awareness Groups. In order to create a new group simply enter the unique name and click Add. ![add_awar_group.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8456e7&media=add_awar_group.png) Awareness groups allows to group a pack of awareness by Risk Level. In case if it is necessary to send out several trainings to Risk level 0, please create an awareness group per awareness scenario, bound each scenario to a group. To add another scenario to the awareness-only campaign proceed to Awareness Settings and click +New Awareness. Inside Scenario settings choose Awareness Groups and bind the scenario to an awareness group that you created or a default one. ![bind_awar_group.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=523887&media=bind_awar_group.png) As a result, you should have all the scenarios bound to awareness groups. Now it's time to bound recipients to Awareness Groups. Under Recipients, delete all existing groups and add a new one. Check Awareness Groups that recipients should receive scenarios from. Hit Save. ![bind_awar_group_recipients2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4d62fa&media=bind_awar_group_recipients2.png) Scheduler now will be capable of building rules for multiple awareness scenarios. Drag & Drop Interface The list of available awareness and attack scenarios in the campaign is on the right side. The list of the scenarios depends on the scenarios selected for the campaign. If the campaign type is an attack, then both kinds of scenarios are present, if the campaign is awareness only, then only awareness scenarios are being displayed. On the left side is a list of months from 1 to 12 with an unfilled list of scenarios. The month number means the month since the new recipient has been added to the existing recipient group. ![scheduler_y04.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=700&tok=c5e1f4&media=scheduler_y04.png) Drag a scenario from the list of scenarios (right side) to the left side and drop it over any month number. The scenario becomes visible under the corresponding month meaning that this scenario should be executed during the month according to the Scheduler Main Settings. In case a scenario should be removed from the specific month, drag a scenario from the list of months and drop it outside this list. The scenario would disappear from the month list. If an attack scenario is selected, there's a possibility to select an awareness scenario that should be sent in case of the recipient gets phished by the selected attack scenario. Once the configuration is confirmed, make sure to select the recipient group and press the Save button to create the Scheduler Rule. ![scheduler_y05.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0f5f17&media=scheduler_y05.png) After that, the Scheduler Plan can be created and analyzed for this specific configuration. ![scheduler_y06.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a032d5&media=scheduler_y06.png) scheduler.txt · Last modified: 2021/10/13 12:51 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 94,
      "source": "https://wiki.thrivedx.com/doku.php?id=scheduler_yearly",
      "content": "scheduler_yearly [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • scheduler_yearly Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 scheduler_yearly Scheduler Rule Type \"Yearly Campaign\" This is a dedicated article regarding the specific Scheduler Rule Type. More information about the Scheduler feature can be found [here](/doku.php?id=scheduler). Introduction LUCY allows you to schedule a campaign. The Yearly Campaign Rule Type mechanism provides a possibility to build an intelligent phishing campaign, testing user awareness in different scenarios over a year. The campaign can be set up once and never be stopped. The only concern would be adding the recipients to an existing group. New recipients will be automatically added to the plan starting next month. This might help to keep the security awareness of the organization at a high level and to determine the level of security knowledge among the fresh new co-workers. The Yearly Campaign feature can be found in the section: Campaign > Schedule > Add Rule > Rule Type > Yearly campaign ![scheduler_y01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=700&tok=a2b288&media=scheduler_y01.png) The Rule Type is available for both Phishing Scenarios with included Training and Only Awareness Campaigns. Main Settings Only successfully phished: Send awareness email only to people who were successfully phished. Time Zone: Specify the Time Zone for the Scheduler Rule. The scheduler uses the local time & time zone. Therefore, you should make sure, that you have [set the correct time & time zone](/doku.php?id=the_scheduler_uses_a_wrong_time_zone_to_send_out_mails) before working with scheduler rules. Period: The time period of the month when the emails shall be scheduled. ![scheduler_y02.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=19d0f0&media=scheduler_y02.png) Send within each month - scheduled randomly during the whole month. Send at the beginning of each month - scheduled randomly from 1 to 9 day of the month. Send in the middle of each month - scheduled randomly from 10 to 20 day of the month. Send at the end of each month - scheduled randomly from 21 to end of the month. Send emails only for new recipients: the emails will be sent to the unprocessed recipients. Do not send emails on certain days of the week: determine on which days of the week the emails would not be set to the schedule. For example, select Saturday and Sunday so the recipients won't get the emails during the weekend. ![scheduler_y03.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=450&tok=c158c1&media=scheduler_y03.png) Start Hour & End Hour: define the time ranges from the beginning of email delivery until the end of email delivery. The end date will not stop the campaign. It only defines the delivery of the last message. LUCY will automatically calculate the time difference it requires to send all emails based on the number of recipients in that campaign. The configuration of the running scenarios per month is provided by the Drag&Drop interface after the main settings. Drag & Drop Interface The list of available awareness and attack scenarios in the campaign is on the right side. The list of the scenarios depends on the scenarios selected for the campaign. If the campaign type is an attack, then both kinds of scenarios are present, if the campaign is awareness only, then only awareness scenarios are being displayed. On the left side is a list of months from 1 to 12 with an unfilled list of scenarios. The month number means the month since the new recipient has been added to the existing recipient group. ![scheduler_y04.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=700&tok=c5e1f4&media=scheduler_y04.png) Drag a scenario from the list of scenarios (right side) to the left side and drop it over any month number. The scenario becomes visible under the corresponding month meaning that this scenario should be executed during the month according to the Scheduler Main Settings. In case a scenario should be removed from the specific month, drag a scenario from the list of months and drop it outside this list. The scenario would disappear from the month list. If an attack scenario is selected, there's a possibility to select an awareness scenario that should be sent in case of the recipient gets phished by the selected attack scenario. Once the configuration is confirmed, make sure to select the recipient group and press the Save button to create the Scheduler Rule. ![scheduler_y05.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0f5f17&media=scheduler_y05.png) After that, the Scheduler Plan can be created and analyzed for this specific configuration. ![scheduler_y06.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a032d5&media=scheduler_y06.png) scheduler_yearly.txt · Last modified: 2021/08/17 16:36 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 95,
      "source": "https://wiki.thrivedx.com/doku.php?id=mail_settings",
      "content": "mail_settings [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • mail_settings Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mail_settings Edit the Basic Email Settings (message template) The message template is a mandatory configuration element in all campaigns. In case you run a phishing campaign together with an awareness module you will need to define the message template in both modules (phishing & awareness). Where to find the message template settings? A campaign can have multiple scenarios. Each scenario - phishing or awareness- has its own Message Template. To configure the message template please choose the Campaign and navigate to Configuration → under the Attack (1) or Awareness (2) Settings –> select the Scenario template which you want to configure → Edit the Scenario Settings (3) → click on Message template/Email template: ![message_where.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=message_where.png) Message template configuration The message template is split into different configuration sections: ![exp_message_template.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=exp_message_template.png) Choose your: Message Type (1): Email or SMS Сhoose the language (2) for each group. If you configured an English landing page, then select English also within that recipient group. If you have different groups with different languages within your company you can simply create a group and select a language for each recipient. LUCY then will direct each user to an individual landing page that [matches that language](/doku.php?id=dealing_with_multiple_languages_in_your_recipient_group). Sender Name (3): The sender name equals the \"from\" line in the SMTP message header and it is only used for display purposes. You can just write a name in there (like \"Jon Smith\"). If you just want to display a different name together with an e-mail address, write the e-mail address with the display name in brackets as such: <Joe Example> joe@example.com. Sender Email (4) address: Note: The most common reason for emails not arriving at your Recipient's Inbox are SPAM filters. When using a known email domain like test@microsoft.com or a non-existing email domain like test@nonexistant.com, your email might get deleted by SPAM filters. Some public email providers are very restrictive and might not even forward emails to your Recipient's SPAM folder. To verify this you can use LUCY's built-in SPAM Checker. Recipient Header (5): Lucy also provides an ability to send all mails with fake CC or BCC. Subject (7): Create a Unique Subject Title In your e-mail header, include something unique to the recipient that's unlikely to be in a Spam message. Examples could include your company name, the name of one of your target's competitors, or the name of a person with whom the target is already familiar. Q: Can I use any sender name? Yes - the sender name equals the \"from\" line in the SMTP message header and it is only used for display purposes. You can just write a name in there (like \"Jon Smith\"). If you just want to display a different name together with an e-mail address, write the e-mail address with the display name in brackets as such: <Joe Example> joe@example.com. Depending on your mail client the recipient might only see the name field in the mail preview. But in most cases he will see the real \"MAIL FROM\" address when he opens the mail: ![display_mail.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ff05c5&media=display_mail.png) Q: Can I use any sender mail address? Technically you can spoof any mail address you want and LUCY will send the mail as you defined it in the sender field. But if you spoof a known email domain (e.g. test@microsoft.com) or a non-existing email domain (e.g. test@nonexistant.com) your email might get deleted or bounced by SPAM filters on the receiving mail server. In such a case you would see the error in your error log: ![error_domain.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=160332&media=error_domain.png) Solution: You can either Insert a mail sender domain that is NOT SPF protected (you can check here: [https://mxtoolbox.com/spf.aspx](https://mxtoolbox.com/spf.aspx)) or Use a mail domain that is owned by you (see [domain config](/doku.php?id=domain_configuration)) or Whitelist LUCY and the domains used in LUCY at the client side. Please, also take a look at the legal aspect here: [https://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=legal_aspects_of_phishing_spoofing_etc](https://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=legal_aspects_of_phishing_spoofing_etc) Add mail attachments in the message template LUCY allows you to insert an image in an email within the message template: You can choose between different embedding types: CID Embedded Images, Linked Images (on LUCY or externally). To find more information, please, consult [ this chapter](/doku.php?id=embed_image_in_mail). Malware Simulation: compile and attach a file-based malware simulation to the mail message. Learn more [here](/doku.php?id=create_a_phishing_campaign_with_malware_simulations). Attachments: upload your own custom attachment or payload General Mail Settings: define mail header settings Advanced Mail Settings: send mail as plain text, use an external mail service provider that creates a randomized mail sender, define a hostname for the mail server etc. ![screenshot_from_2020-08-23_17-33-07.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=screenshot_from_2020-08-23_17-33-07.png) Creating the Link to the Landing Page within the message template (mail body) Within the email, you will be able to place the link to the Landing Page (or awareness eLearning site). Each user will get a unique link (it might look like [http://www.example-phishing.com/aea43bc8fa2a3dc78f987ed5db94ba1a1ff39ba13e9ed228f2c6eff73d787040](http://www.example-phishing.com/aea43bc8fa2a3dc78f987ed5db94ba1a1ff39ba13e9ed228f2c6eff73d787040)) in their e-mail so LUCY will be able to analyze a recipient's clicking behavior. Alternative 1: Use the %link% variable in the text: To insert that link, you can simply type %link% at the place where it should appear. ![link_variable.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=link_variable.png) As a result, the user will get a mail containing the link that points to your Landing or Awareness page: ![screenshot_from_2020-08-24_02-29-44.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=screenshot_from_2020-08-24_02-29-44.png) The link is dynamically generated: It will automatically add the http: or https: prefix (if you want an https prefix you need to [enable SSL](/doku.php?id=ssl_configuration)) It will automatically use the domain or IP in your scenario configuration (example: if you selected the domain \"[www.example.com](http://www.example.com)\" within the scenario settings, LUCY will create a link like \"[http://www.example.com/28shFG/](http://www.example.com/28shFG/)\" Alternative 2: Hide the %link% variable behind a word As a second alternative, you could also hide the randomized link and place the hyperlink behind a text, button, image, etc. Example: Hiding behind text: Select the text which should contain the link (1) And then press the hyperlink symbol (2). This opens a pop-up where you need to define: Protocol (3): Custom (LUCY displays the hostname or IP of your admin UI. URL (4): %link% Then save the changes by clicking OK. ![links_variable_hyperlink.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=links_variable_hyperlink.png) Alternative 3: Hide the %link% variable behind another link Please, make sure the link variable is set in the HTML code if you hide it behind another Link. If you type a hyperlink instead of a word, the editor will automatically detect that, and create the link in the code. But this link will be wrong: If you type [http://www.example.com](http://www.example.com) in the editor, LUCY will automatically create a hyperlink to [http://www.example.com](http://www.example.com) in the HTML code (1) and underline the URL. But if you want [http://www.example.com](http://www.example.com) pointing to your LUCY URL, please remove the link pointing to [http://www.example.com](http://www.example.com) in the source code directly, or remove it by clicking on the \"unlink\" symbol (2), and then select the text \"[http://www.example.com](http://www.example.com)\" and click on the link symbol again and insert %link% in the HTML code (3). ![link_behind_l.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7b795e&media=link_behind_l.png) Alternative 4: Hide the LUCY link behind an image (1) Insert an image in the message template & click on the image (select the image) (2) Click on the hyperlink symbol (3) Insert the \"%link% variable Save your template ![ins_mail_link.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3ef7cf&media=ins_mail_link.png) Manual Link Creation If you don't want to use LUCY's randomized URLs, you can also create your own customized links. You will still need to use the %link% variable in the email template. Regarding the recipients, you can define your own links that LUCY will use for the campaign. More info can be found [here](/doku.php?id=configuration_for_clients_that_cannot_click_on_links_in_mails). Automatic Link Creation with a shortened randomized string As mentioned before LUCY will create a randomized URL with a string to identify the user (e.g. [http://www.example-phishing.com/aea43bc8fa2a3dc78f987ed5](http://www.example-phishing.com/aea43bc8fa2a3dc78f987ed5)). If you want a shortened randomized string because you feel that the long string might look suspicious to a user you can tell LUCY to use a short version under the menu Settings → Advanced Settings → Recipients: ![adv_set_recipients.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=adv_set_recipients.png) Variables you can use within the message template Lucy allows you to use multiple variables within the message template. The variables pull the information from the [recipient](/doku.php?id=add_mail_recipients) in the associated group. The message variables may be used in the mail body and also within the mail header elements: ![messagefieldsheader.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=messagefieldsheader.png) You may use the following variables in the message template: %link% — unique page URL for the recipient. %link-awareness% — link to awareness website. You should configure & enable awareness website in campaign settings for this feature to work. %name% — recipient name %firstname% — recipient first name %lastname% — recipient last name %email% — recipient e-mail address %division% %location% %staff-type% %comment% — recipient related information. %gender(\"MALE ADDRESSING\", \"FEMALE ADDRESSING\", \"NO GENDER\")% — recipient gender %subject% — subject of the phishing mail %sender% — sender name of the phishing mail %sender-email% — e-mail address of the phishing mail %time(FORMAT, OFFSET, ZONE)% — Time based variables More info about the time variable FORMAT - date/time format OFFSET - date/time offset in minutes, can be negative. Example: \"-60\" - means 60 minutes prior to mail submit time, \"20160\" - 20160 minutes = 14 days ZONE - time zone name. Example: US/Central EXAMPLES: %time(\"l, H:i\", \"0\", \"Europe/Zurich\")% — will output \"Monday, 09:20\" - exact time of mail submission in Europe/Zurich zone | %time(\"Y/m/d H:i:s\", \"60\")% — will output \"2016/12/12 10:20:30\" - 1 hour ahead of mail submit time You can also use the dropdown in the message template to insert the variables at the right place: ![links_variable.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=links_variable.png) Please note, that these variables are not available in CSS and Javascript files. Embedding images Within the message template, you can embed images. Please visit [this chapter](/doku.php?id=embed_image_in_mail) for your options. Optional Email Elements The email configuration page has some other Optional Elements: Random E-mail: LUCY will generate a random email account with a random sender for this single test. After the campaign is stopped the email account will be deleted. Use Reply-To Header: You might want to intercept email replies. If the user presses Reply, the email address defined in that Reply-to field will appear. It might be a different one to the original sender's email. Attachments: You can add your own attachments/payloads here. Please keep in mind that most attachment types (like executables) get filtered by common email clients. SMTP Fields: Enables you to set a custom SMTP header. This can be useful in certain environments (e.g. to flag the phishing mail with a custom email header so the SPAM gateway can differentiate between real SPAM and LUCY emails). Catching Email Replies If you want to catch email replies you have three options: ![forwardsemails.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=forwardsemails.png) (1) Define a Reply-to header. Please define that under the Scenario Settings → Message Template at the bottom under Advanced Mail Settings. The reply-to address is the address where email replies should be sent, instead of ‘From’. This is used if, for some reason, your ‘From’ address cannot receive replies (e.g. you do not control that domain or don't have a mail server setup for that domain). In the screenshot below you see that the email is sent from the user \"mitchel@guysfromrolla.com\". If the user clicks on the reply-to button in the mail, the actual reply-to address set in the header is used then (billg@microsoft.com). You should use a reply-to address that you can actually receive. Typically phishers use generic mail addresses from Gmail, Yahoo, etc. ![reply_to.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fbf230&media=reply_to.png) (2) Define a Forward Mail: LUCY is able to forward the Returning/Answering emails to an email address specified in that field. However, this requires a DNS entry (MX record) on a DNS server for the sender's domain that points to LUCY. Example: You send emails as attacker@phishing-test.com and LUCY’s IP is 201.35.77.12. Then you need to define an MX record like \"phishing-test.com MX 10 201.35.77.12\". Within the forward mail field, you can enter your own custom mail address (user@example.com). If a user replies to \"attacker@phishing-test.com\" LUCY will accept this mail and then forward it to \"user@example.com\" (note: most register services already offer free mail/DNS packages. So if you register a phishing domain you can already set up an email forwarder for that domain and you don’t need LUCY for that). Using a catch-all mail account for your registered domain that forwards to another mail address: If you registered the domain through LUCY you have the ability to define for one specific mail address one mail forwarder ([see domain registration settings](/doku.php?id=domain_configuration)). If you want to have all mail addresses forwarded we can activate a catch-all account. This Email Forwarding feature will accept all email addresses on the provider side (using the provider's mail server) for a domain and forward emails to other email addresses of your choice. Create a HTTPS link (use SSL) By default, LUCY will use an HTTP connection to your landing page. If you want the phishing or awareness website to be accessed via SSL, you first need to create the link in your Message Template (1) using the default LUCY variable %link%. Next, you need to click on the Scenario Settings. A submenu called SSL Settings (2) will open. Please enable the checkbox and create the certificate. LUCY will then automatically create an https link to your landing page: ![link_ssl.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=link_ssl.png) Technical Background Info Lucy uses the file under /etc/postfix/virtual.db for email forwarding, when you check \"Forward emails to\" checkbox in scenario's message settings. When you enable email handing feature in incident settings, Lucy adds email domain to /etc/postfix/main.cf, to the line with \"mydestination\" option, and that makes Lucy intercept all emails that arrive to emails on that domain. Issues with Line Breaks in Outlook It is possible that certain Outlook versions do not render line breaks correctly. So HTML tags like <br> or <p></p> do not work very often. A workaround is to use tables or to define a distance within a SPAN tag: <p class=\"MsoNormal\"> <span>&nbsp;</span> </p> mail_settings.txt · Last modified: 2021/04/08 10:27 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 96,
      "source": "https://wiki.thrivedx.com/doku.php?id=scenario_types",
      "content": "scenario_types [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • scenario_types Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 scenario_types SCENARIO TEMPLATE TYPES LUCY comes with different template types: File-Based Templates: Templates where the user is asked to download and execute a file (can be any file type) within an email message or a web page. Mixed Templates: Combined Data Entry & File-Based templates - the user is encouraged to enter confidential information on the page and execute the downloaded file. Technical Malware Test: This feature allows the user to perform security checks without involving employees outside the IT department. Determine the Malware related vulnerabilities on Network, System and application levels. Hyperlink Templates: Templates where the user is asked to click on the link in an email message. After that the user gets redirected to the URL specified in the Scenario Settings. Web Based Templates: Templates where the user is asked to enter confidential information on a Landing Page. This may be usernames & password or any information submitted within a web form. Awareness Only: Templates where the user will receive training. Portable Media Attack: LUCY allows you to create file that can be stored on removable media devices (CD, USB, DVD, SD Card etc.). The most popular is an attack using USB sticks. But this template works for all other variations of removable media types as well. Mail & Web Test: This scenario template is required for Mail & Web Filter test, which allows to see what type of files can be accessed within the company network through mail or web. ![scen_type_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=571755&media=scen_type_1.png) Where to edit the scenario templates? If you edit a scenario template within a campaign, the changes in the template will only apply to the campaign. If you change a scenario template in the generic settings, then the changes in the template are permanent. Therefore, it might make sense to first make a copy of the generic template and then modify the copied version. I don't find the template I need; how can I create a new template? You can click on the button \"actions\" and then select new to create your custom new template. If you don’t want to use any of the predefined templates, you can also use the “blank” template in each category. As an alternative you can ask us to create a new template for you from scratch (it costs around USD 200 for a 2-pager custom template). How can I access a scenario template once I created a campaign? You can access the scenario template within the campaign by clicking “BASE SETTINGS” in your campaign at the left navigation menu and then at the bottom you will see a button “edit scenario settings”. When you click there you get to a new configuration menu that applies to this scenario. What templates do I need for smishing, USB etc. attacks? Beside the templates listed above, LUCY is also able to perform other attack simulations. Those simulations can be also done with the standard scenario templates. The attack type is selected within the templates itself in a later step. Examples: [Java Based Attack](/doku.php?id=create_a_phishing_campaign_with_a_java_dropper_applet) [Word Macro Attack Simulation](/doku.php?id=create_a_phishing_campaign_with_a_word_macro) [Smishing (SMS) Attack Simulation](/doku.php?id=create_a_smishing_campaign) [Portable Media (USD, CD etc.) Attack Simulation](/doku.php?id=create_a_usb_campaign) Etc. scenario_types.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 97,
      "source": "https://wiki.thrivedx.com/doku.php?id=domain_configuration",
      "content": "domain_configuration [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • domain_configuration Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 domain_configuration Introduction LUCY works with virtualized servers. That’s why you can run multiple campaigns with different domain names in parallel on the same IP. There are no limitations on the number of domains you can map to LUCY. When you buy our [VPS option](/doku.php?id=advantage_of_using_our_vps) you already have 1 domain included. You can add more domains to the VPS yourself using the registration wizard in LUCY or ask us to configure this for you. Depending on the license model you will already have credits within your installation which you can use to reserve new domains. The prices vary between 0.15 cent per domain (e.g. .xyz or .online) to 15 USD per domain (e.g. TLD like .com). If you define a domain in LUCY's web GUI, it can only be used for the phishing campaign – not the Admin access. By default the administrative access works only with an IP address; however, LUCY’s administrative access can still be reached using a domain name in the browser. This works only if you have defined [Domain Name in the Initial Setup Script](/doku.php?id=setup_script_tutorial). Please note that this can be done only if you choose the Manual Setup instead of the Automatic Setup. It is also only possible to map 1 domain for the administration UI. DNS Records for the admin interface In order to reach the admin interface with your custom domain you need to configure this domain within the Linux [setup script](/doku.php?id=setup_script_tutorial). Choose the domain configuration and enter the FQDN of your server in there: ![10.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c5783d&media=10.jpg) LUCY will generate the according certificate for that domain and you will be able to access LUCY using this domain name. If you want to create a trusted certificate for this domain you can go to the [ssl settings](/doku.php?id=ssl_configuration) menu and choose \"Lets Encrypt\" which will automatically display the domain name created in the setup script. The field is always greyed out as it cannot be configured within the web interface: ![domains1.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9bfdf6&media=domains1.jpg) Access LUCY from remote The DNS record determines under which name or IP address LUCY can be reached in a campaign from the internet/intranet. If you want remote users to be able to access LUCY with a domain name, you need to define a DNS entry. You have four options: Use the Public IP from LUCY Use the Private IP from LUCY Use a Public Domain for LUCY Use a Dynamic Domain for LUCY Use the Public IP from LUCY You can select this option if LUCY is located on a server on the internet that can be reached with a fixed public IP address. ![domains2.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6641d6&media=domains2.jpg) Use the Private IP from LUCY If LUCY is located on a private network, you have to select the option \"Custom Domain\" and enter the private IP address which you see in the browser into the proper field. Using Port Forwarding on your firewall you still might be able to make LUCY accessible from the internet. ![domains3.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ed69b4&media=domains3.jpg) Use a Dynamic Domain for LUCY This option allows you to run LUCY in a private network (e.g. on your laptop) and make it accessible from the internet (assuming your firewall allows port forwarding rules for a specific host). Service like DynDNS will allow you to run LUCY on a private IP behind a NAT Device. The Dynamic DNS account information can be saved in Settings/DynamicDNS. First, define the Dynamic Domain in \"Settings/Domain\" and mark the domain as \"Dynamic\". ![domains4.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bc6e2a&media=domains4.jpg) After selecting your Dynamic DNS service you can save your authentication details and the domain will become available in the Base Settings of the campaign. ![domains6.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c29939&media=domains6.jpg) Use a Public Domain for LUCY Option 1: You don't have a domain yet: If you don't have a domain registered yet, you can use the integrated LUCY Domain Registration Wizard. This feature is only available for commercial licenses, allowing you to reserve all the available domain names for an affordable price. Commercial clients have a built-in budget for using the domain API and are also able to later add credits for the domain reservation. Option 2: You already have a domain: In order to use a Public Domain you need to add the domain in the settings menu \"Domain Settings\". The domain has to be saved without the subdomain (correct domain: \"example.com\" | wrong domain: \"[www.example.com](http://www.example.com)\"). The subdomain can be defined in the campaign at a later stage. ![domains7.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a763e5&media=domains7.jpg) Note: If you defined a domain within the Settings like example.com, you can select it in the drop-down menu “Domain”. Once you have selected the domain, another drop-down menu appears where you can add the subdomain like “www”. ![domains8.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=397033&media=domains8.jpg) If you configure as a domain \"example.com\" the phishing campaign will be only reachable via: http(s):example.com but not http(s):[www.example.com](http://www.example.com)- Configuring Sub Domains (A-records) LUCY allows you to allocate specific subdomains for a given Domain Name. Let's assume you have registered the domain \"example.com\" and want traffic only for the A-Record \"phishing\" to be redirected to LUCY. You need to first enter the Domain Name \"example.com\" in the Domain Settings (create a new record called \"example.com\" without the subdomain). The subdomain can be later defined in the specific campaign (see screenshot) under Scenario Settings. ![domains9.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=01e7db&media=domains9.jpg) Please note: you can host campaigns with multiple subdomains using the same domain name in different campaigns within LUCY (e.g. domain1.example.com & domain2.example.com). In order to map multiple a-records to LUCY you need to create the according DNS record (usually providers offer you to save a wildcard DNS A-record like *.yourdomain.com which allows you to use any subdomain you want). If you registered the domain through LUCY's API, then we have automatically created such a wildcard subdomain record for you and it will work immediately. Register a New Domain through LUCY Introduction LUCY offers a Domain Registration Wizard (either within a campaign or by accessing the DNS settings). Most commercial licenses come with a 20 $ deposit which usually will allow you to reserve 1-3 domains. You can see your current balance within the license (under settings/license). How to reserve your domain You can look for specific domain names and buy them using the Domain Wizard. LUCY will automatically create a DNS record for your domain and register LUCY's Public IP for the domain. We also automatically reserve a wildcard domain. So if you would reserve a domain like \"webmailaccess24.com\" we would make sure that all subdomains (like access.webmailaccess24.com, test.webmailaccess24.com, [www.webmailaccess24.com](http://www.webmailaccess24.com), etc.) also point to LUCY. Make sure you leave a valid e-mail address within the domain reservation form. Our provider will send you a confirmation mail with access to the portal where the purchased domain can be edited (for example, the DNS entries added or modified) ![dom_reg_email.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6956e9&media=dom_reg_email.png) How long does it take before the domain can be used in a campaign? When you make a DNS change, it takes time for the changes to take effect. This is called DNS propagation. It is the time it takes for the domain DNS to refresh the cache on the network. DNS will refresh according to the \"TTL\" or \"Time To Live\". When the DNS refreshes according to its TTL. When you create new DNS records it can take up to 48 hours for those updates to propagate throughout the Internet. Will my registration information be available to anyone on the internet? Your info from the registration form will not appear within the WHOIS database as we automatically add the WHOIS protection package to your order (free of charge). Are domains auto-renewed? Domains are only purchased for one year. They do not auto-renew How can the domains be renewed? You will get a notification on the LUCY dashboard before a domain expires. Additionally, our provider will send you an expiry notification. If you want to renew the domain you can drop us an email and we will renew it for you. How can I terminate a domain? Domains are terminated automatically after a year. If you don't want the domain to work anymore, you can delete the according DNS records within the domain admin panel yourself. Will you be able to manually take control over the DNS settings/administration? The API will create all the necessary DNS settings (SPF, wildcard a-record, MX record, etc.) so there will be no need to do any DNS settings yourself. But if you still need to take control over the domain purchased through LUCY, you can edit the DNS entries by accessing the domain portal (provided during the initial domain registration) or by contacting the LUCY Support team. I see an error message \"Error creating domain\" - what can I do? This error appears if our DNS provider is not accepting the registration. There are many reasons for such an error (temporary network issue on the provider's side, the domain requires an additional verification process which cannot be provided via API, the domain syntax is incorrect and cannot be reserved, you didn't provide the necessary information, etc.). Try the following steps: You can re-try a few minutes later. Please try again filling out ALL fields in the registration form If it still fails please try to register the domain directly at a provider (e.g. [www.namecheap.com](http://www.namecheap.com)) and enter all the necessary registrant information manually. Which license is required to reserve a domain through LUCY? The domain registration feature is only available for commercial clients (clients who bought a variable or fixed priced license). ![domains10.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1247ed&media=domains10.jpg) ![domains11.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=507b8d&media=domains11.jpg) Register a New Domain through your provider Add your domain to Lucy You can register the desired domain with your own provider and point the DNS records to LUCY. Simply go to Settings → Domain. Then click \"+New\" (1). Add your domain without the subdomain (2) and then click \"Save\" (3): ![domains12.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7d0a24&media=domains12.jpg) Create the DNS records that point to Lucy You should create the following DNS records (the name of the fields may vary from provider to provider. Please check the online documentation of your provider to learn how to set those DNS records): ![dns_records.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3b6d3a&media=dns_records.png) Create a wildcard subdomain record: this record will allow you to use any type of subdomain in LUCY (e.g. [www.yourdomain.com](http://www.yourdomain.com), test.yourdomain.com, access.yourdomain.com, etc.). All subdomains will point to the same IP address. To create a wildcard record click \"Create/Add new record\" in your domain administration panel, choose record type as \"A\" and as a host/name choose \"*\" (without the quotes) and as a value use the public IP of LUCY. Create an A-record with a host/name field set to \"@\" (without the quotes) and public IP of LUCY as a value. Create two SPF records. In your domain administration panel click \"Create/Add new record\", choose record type as \"TXT\" then set the host/name field to \"@\" and insert the TXT Value field with your SPF record (if your IP is 65.108.89.28 then your SPF could be \"v=spf1 ip4:65.108.89.28 ~all\"). Then create another SPF record with the host/name field to \"*\" and insert the TXT Value field with your SPF record. Create an MX record by selecting \"Create/Add new record\". Choose record type as \"MX\", put \"@\" in the host field, and an a-record like \"mail.yourdomain.com\" as a value(any a-record will work since you created a wildcard DNS record before). If necessary set a priority (e.g. \"10\"). domain_configuration.txt · Last modified: 2022/10/21 14:49 by editor8 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 98,
      "source": "https://wiki.thrivedx.com/doku.php?id=add_mail_recipients",
      "content": "add_mail_recipients [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • add_mail_recipients Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 add_mail_recipients Introduction Every campaign needs a recipient group to work. The recipient group is the users who receive the attack simulation or awareness content. You can create multiple groups for a single campaign. Groups can be used within LUCY to target users with specific phishing or training campaigns. Many organizations start by grouping users by department, location (if you have multiple office locations), or even domains (if there are multiple domains). The recipients can be in any number of groups and you can set up an unlimited number of groups. How to Enter Your Recipients? Recipients and groups can be configured under Users→ Recipients. ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=7024d0&media=recipients.png) ![create_new_recipient_group.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1600&tok=ed5114&media=create_new_recipient_group.png) You can either add them manually or import them via CSV, LDAP or Azure. The groups are always defined globally and you can re-use them among different campaigns. ![import_recipient.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1600&tok=6f4f58&media=import_recipient.png) We recommend importing them because it will enable you to create a custom text file with additional information about each target user (e.g. defining the division or location where they work). This information can later be used for automatic analysis and statistics. The more information you provide, the better. Note: Searching the internet without a Bing or Google API won't get you the same results as if you searched directly with a search engine. Import Recipients You can import the recipients via file, via [LDAP](/doku.php?id=ldap_integration) or via [Azure AD synchronization](/doku.php?id=azure_synchronization). There is no restriction on the number of recipients you can add to a group (even though your license might restrict the sending of all emails). SYNTAX: LUCY requires a [special syntax](/doku.php?id=recipient_import_and_syntax_issues). Otherwise, it will throw an error. In LUCY version > 3.1 it will continue the import with the correct recipients. In an awareness or phishing campaign which is sent via email, it will need at least the mail address as a mandatory field. All other fields are voluntary. The import file should contain one recipient per line. Each record should consist of 1 to 12 columns separated by the colon (:) or semi-colon symbol (;). All columns, except for the first one, are optional. If you want to skip the column value, just don't type anything between column separators (:). You can skip the columns at the end of the record - for example, if you have only Email and Name, you can just specify these 2 columns. The email address is mandatory for the Recipient list. All other fields (like Name) are compulsory. If you want to send a personalized email (using the %name% variable within the email or landing page) you need to define the Name field too. The possible columns are: 1.Email - Recipient's e-mail address 2.Full Name - Recipient's full name 3.Staff - Job position or related to that 4.Location - Recipient's location 5.Division - Company division 6.Comment - Any custom comment 7.Link - Unique link part for the Landing Page. Only use this if access to the internet by clicking on a link in an email is not possible (e.g. if you use some terminal client or a separate browser to access the internet). More information about this can be found [here](/doku.php?id=configuration_for_clients_that_cannot_click_on_links_in_mails). 8.Phone - Recipient's phone number 9.Language - Recipient's language 10.Gender - Recipient's gender.(\"m\" - Male; \"f\" - Female) 11.First Name - Recipient's first name 12.Last Name - Recipient's last name Also in LUCY, it is possible to add Custom Fields to recipient groups. So if there are any custom fields one has to add values for these fields by adding columns to the end of the line separating them with colons or semi-colons too. Note about language: if you upload a recipient group file (txt or CSV) and want to specify the language you need to use the English description (example \"Spanish\"). FILE FORMAT: You can import a plain text file (.txt) or CSV (.csv) format and name it as you want. EXAMPLE: Please note that Sample File is available for download from Import page. Your CSV or TXT file should look something like this: john@example.com:John Doe:senior consultant:new york:accounting marcus@aurelius.com:Marcus Aurelius Please note, that using the file import into one particular group containing new or updated info in any fields (except email address) would result in the data being overwritten with the new file import. For example, Recipient Group 1 contains a recipient with an email user1@default.com who has Country set as Luxemburg. The file import is initiated into this recipient group and the user has Country in the .csv file set as Germany. Once the import is completed, the info will be updated with the over-written Country value to Germany. Adding multiple groups in a campaign and associating them with a scenario LUCY allows you to add multiple groups in one campaign. After you added a group, you will be asked to define: mapping (1) scenario (2) ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1400&tok=de5f57&media=add_group_to_campaign1.png) The default mapping is \"campaign and awareness\". This means the user group will receive the phishing simulation and if configured, also the le-earning content. If you wish, you can limit the mapping to \"awareness only\" or \"campaign only\". If you for example configure \"campaign only\", the according group would only get the attack simulation, but no e-learning. The scenario association can be used to control, which group gets which attack scenario. In the screenshot, you see (2) that all the available scenarios added to the campaign will be displayed. Example: If you select 2 scenarios with a specific group, each user from this group will get two emails (one from scenario 1 and one from scenario 2). If you don't want the users to get multiple emails, you can enable the checkbox \"Distribute users over selected scenarios\". Lucy will then randomly split the users over the selected scenarios. Every user will get a unique single attack and no user will be attacked with the same scenario twice. If you want to control the distribution of receivers even more deeply, you would have to create a [scheduler rule](/doku.php?id=scheduler). This allows the distribution to be even more complex. Adding recipients to a running campaign In LUCY you can add recipients to a running campaign. Please [click here](/doku.php?id=i_want_to_add_a_few_extra_mails_into_a_running_campaign) to read more. Automatic adding of recipients in a group (LDAP SYNC) You can add your recipients by an LDAP server. How to setup LDAP you can find here [LDAP Integration](/doku.php?id=ldap_integration). ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Note, this configuration will not be active if there are global settings for recipients import disabled. ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=e83bca&media=add_mail_recipients_ldap1.png) Recipient group associations If you have multiple recipient groups with the same name (this can happen if you, for example, copy a campaign with recipients), use this procedure to find the correct group/campaign association: Step 1: Go to the \"Configuration\" tab within your campaign Step 2: Click on the \"Recipients\" tab to get to the associated group Step 3: Rename your group in order to identify it better As an alternative, you can also hover over the link and look at the group ID. When you hover over the groups within the generic recipient settings, you will see also the corresponding ID's. ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1400&tok=5abe52&media=recipient_group_associations.png) Language considerations LUCY is able to deal with multiple languages within the same recipient group. It is not necessary to define different groups for each language. Please consult [this section](/doku.php?id=dealing_with_multiple_languages_in_your_recipient_group) for more information. Identify recipients that have been already tested LUCY allows you to identify recipients that have been previously tested. If you click on the recipient group details you will notice that there is a column called \"already tested\" which shows you the last date this user has been tested. ![identify_tested_recipients.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=e1c01d&media=identify_tested_recipients.png) Filter Recipients After importing your mail recipients you will see a search field that allows you to search & filter specific emails in your list: ![filter_recipients.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=c34741&media=filter_recipients.png) Disable recipients from a group within a campaign You can load a group into LUCY and then uncheck users, you don't want to test or train in this specific campaign. Just click on the according to the checkbox: ![disable_recipients_from_a_group.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1400&tok=bf60ae&media=disable_recipients_from_a_group.png) Recipient actions within a running campaign Under the statistics/recipient tab, you will have a table view of all recipients used in a campaign. In the last column you can (1) re-send an attack to a specific user, (2) edit the user's details, (3) Update recipient stats or (4) remove the user stats from the specific campaign: ![recipient_actions_in_runing_campaign.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=a4396e&media=recipient_actions_in_runing_campaign.png) Copy Recipients LUCY allows you to copy one or multiple recipients from one group to another group (new or existing). ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=2a272d&media=copy_recipients1.png) ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=f2807a&media=copy_recipients2.png) Import Error-Log LUCY will create an import error log which will help you to quickly identify import errors with mail addresses that had a syntax error. For LUCY please [click here](/doku.php?id=recipient_import_and_syntax_issues). Please note, that LUCY cannot handle the wrong syntax. Also, don't use header lines. Duplicate or wrong entries will not be imported. ![import_error-log_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=073027&media=import_error-log_new.png) Custom Recipient Fields In LUCY you have the ability to create custom recipient fields. You can add any new recipient attribute you want (e.g. city, gender, education, etc.). Those attributes can be used for using customized statistics in LUCY (dashboard filters or raw exports). In order to create a new custom field go to recipients. Under the recipient link you will find the \"custom field\" link: ![custom_recipient_fields1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=bf5fdd&media=custom_recipient_fields1.png) The new recipient attribute (can be freely chosen) is then added as a new attribute in the recipient list: ![custom_recipient_fields2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=2a17c7&media=custom_recipient_fields2.png) ![custom_recipient_fields3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=cb6949&media=custom_recipient_fields3.png) Analysis of the campaign based on recipient attributes All attributes defined within the Recipient group can be analyzed within the campaign statistics or data exports: ![custom_attr_stats.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f793e1&media=custom_attr_stats.png) add_mail_recipients.txt · Last modified: 2022/11/03 15:28 by editor5 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 99,
      "source": "https://wiki.thrivedx.com/doku.php?id=embed_image_in_mail",
      "content": "embed_image_in_mail [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • embed_image_in_mail Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 embed_image_in_mail Add mail attachments in the message template LUCY allows you to embedd: Images Malware Simulations Any File Type ![embedd_img.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=226063&media=embedd_img.png) Inserting Images in a message (email) LUCY allows you to insert an image in an email within the message template: ![embedd.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5f5fab&media=embedd.png) You can choose between three different embedding types: CID Embedded Images Linked Images (on LUCY or externally) CID Embedded Images (Inline Images) CID is working with emails in Outlook. That aside, it’s still an option and the ability to use it is supported in our client libraries. CIDs work by attaching the image to the email you’re sending and then using standard HTML image tags that reference that image to eventually embed it in the email when the user opens it. The problem with CID embedded images is that they don’t always display properly in email clients. CID embedding will work fine in the majority of desktop email clients, but most likely not at all in web based email clients such as Gmail, or Yahoo! Mail. Pros It’s been around for a long time Usage ensures the corrent mime-type of multipart/related Supported via our client libs Cons Increases the size of overall email Varying results across email clients, especially webmail Feels outdated Lots more effort Harder for less technical staff to achieve Linked Images As you can see from the above example, if you try to use a lot of base64 encoded images in your email, the actual size of the email being sent will increase significantly, slowing down sending. Your alternative to this is to link out to your images and load them from an external server. There’s nothing super technical to achieve here. It’s just linking to an image in HTML. However, you should consider the following if taking this approach–how many people are going to receive this email and where are they in the world? Pros Keeps email weight light Requires very little extra effort Allows for changes to images after sending Cons Suffers the same blocking problems as base64 encoding on most services Requires download from external servers Which One Should You Choose? Sadly, unified support for any one of these methods isn’t going to happen, so you need to think about what you’re sending and to whom. On top of that, you need to think about where they’re going to be reading it. embed_image_in_mail.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 100,
      "source": "https://wiki.thrivedx.com/doku.php?id=scenario_activation",
      "content": "scenario_activation [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • scenario_activation Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 scenario_activation Simultaneous attack template usage (activation/deactivation) LUCY gives you the option to use multiple simulated attack templates in a single campaign. Combine different types (hyperlink, file based etc) with different attack themes to achieve the largest possible risk coverage and a better understanding of employee vulnerabilities. Combined with our scheduling randomizer, complex attack patterns can be executed over a longer period of time. If you add multiple scenario templates to your campaign, you see them listed in your base settings at the bottom. If you do not want to use a scenario within a campaign temporarily, you can deactivate it instead of deleting it. This is done by selecting the appropriate checkbox. Please save the changes after you have made your selection. ![activate-scenarios.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=51d264&media=activate-scenarios.png) scenario_activation.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 101,
      "source": "https://wiki.thrivedx.com/doku.php?id=pinned_scenario",
      "content": "pinned_scenario [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • pinned_scenario Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 pinned_scenario Pinned campaigns \"Pinned campaigns\" are used to group different campaigns within a view, similar to browser favorites. As soon as you have activated the checkbox \"pinned\" within the campaign, the campaign will appear on the dashboard within the according frame. Create a pinned campaign within the campaign settings Select \"pinned\" within the campaign settings ![pinned.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a77734&media=pinned.png) Your campaign is now within the pinned frame visible. ![undefined:pinned-n.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2b22ba&media=undefined:pinned-n.png) Create a pinned campaign on the dashboard You may move a campaign to the pinned campaign folder by clicking the according symbol (2). Sue this (1) button to disable the setting: ![unpinn.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=024bff&media=unpinn.png) pinned_scenario.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 102,
      "source": "https://wiki.thrivedx.com/doku.php?id=anonymisation",
      "content": "anonymisation [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • anonymisation Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 anonymisation Introduction Data anonymization is a type of information sanitization whose intent is privacy protection. It is the process of either encrypting or removing personally identifiable information from data sets so that the people whom the data describe remain anonymous. This is required by law in different countries. Before we explain the Anonymisation of data, we want to answer a few questions regarding data security & privacy: Where is LUCY storing and processing data? Lucy can be installed On-Site or on a cloud server. All data is stored within LUCY, no matter where it is installed. No LUCY employee has access to the client's data, unless it was approved in written by the client. Where is data sent? No personalized information that falls under GDPR ever gets transmitted outside of LUCY. As you can see in [this chapter](/doku.php?id=network_communication_-_lucy_--_internet), LUCY uses some connections to centralized servers (e.g. update server). This is only for maintenance reasons and to maintain the functionality. Do we have a data processing agreement: We do. Please visit this [chapter](/doku.php?id=company_application_and_data_security) Protecting personal data: Lucy encrypts the data and offers many possibilities to [secure access to the data](/doku.php?id=security_considerations). Collecting personal data: In certain countries, you are not allowed to collect personalized data (e.g. who failed a phishing simulation and who did not pass a training). In such a case you need to [enable anonymous mode in LUCY](/doku.php?id=confidentiality_of_campaign_data). This will be described in the next chapter. What type of data can get logged in LUCY? LUCY needs in minumum only email adresses (or in case of Smishing attacks phone numbers). In case of anonymization there is no personalized data logged at all. The following (not complete) list shows all the information that can be collected within a phishing or awareness campaign. Please note that every client can decide what data gets logged within a campaign. [Emails Opened](/doku.php?id=track_opened_mails): Recipients opened the email Link Clicks: Recipients clicked the link in the email Successful Attacks: Recipients submitted data in a form (e.g. login data that is submitted via a form based POST request), clicked on a link, executed a file etc. Hourly Stats: Page views, link clicks, successful attacks, invalid submits, etc. Daily Stats: Page views, link clicks, successful attacks, invalid submits, etc. Recipient Criteria's: Based on the usage of additional fields in the [recipients list](/doku.php?id=add_mail_recipients) you can sort and filter the statistics for each field Operating System Of recipient. This information is based on the user agent string Browser type of the recipient Browser Plugins of the recipient [File downloads](/doku.php?id=tracking_downloads) IP: Remote IP address of your recipient. Vulnerable Browser | Vulnerable Client: Based on the user agent, LUCY will tell you if there is any vulnerability. Time based stats: How long does the user stay on each landing page User history: Historical user statistics Awareness stats: Number of users trained, % correct questions, training results, users who did not start/finish training etc. Anonymisation of personal data within a campaign Within a campaign you can enable anonymous mode in the base settings: ![anonymous_mode.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4c537f&media=anonymous_mode.png) Please note that this operation cannot be undone! The personal information is then no longer visible: ![anonymize-stats.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b45518&media=anonymize-stats.png) If you also want to anonymize additional statistical data (browser, IP, etc.), you can set this in the advanced settings: ![advanced_anonymize.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e9b77a&media=advanced_anonymize.png) Additional anonymization options are possible in LUCY (under /settings/advanced settings): ![add_anon_sett.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=207d80&media=add_anon_sett.jpg) Every campaign needs a recipient group to work. The recipient group are the users who receive the attack simulation or awareness content. You can create multiple groups for a single campaign. Groups can be used within LUCY to target users with specific phishing or training campaigns. Many organizations start by grouping users by department, location (if you have multiple office locations), or even domains (if there are multiple domains). The recipients can be in any number of groups and you can set up an unlimited number of groups. How to Enter Your Recipients? Recipients and groups can be configured under Admin/Recipients. ![45.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=64d809&media=45.jpg) You can either add them manually (1), import them (2) or search the internet by using the \"[SCAN FEATURE](/doku.php?id=scan_for_mail_addresses)\" (3). The groups are always defined globally and you can re-use them among different campaigns. ![46.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a0f645&media=46.jpg) We recommend importing them because it will enable you to create a custom text file with additional information about each target user (e.g. defining the division or location where they work). This information can later be used for automatic analysis and statistics. The more information you provide, the better. Note: Searching the internet without a Bing or Google API won't get you the same results as if you searched directly with a search engine. Process of anonymization The recipients for the campaign can be imported via file or via [LDAP](/doku.php?id=ldap_integration). The recipients can contain the following attributes: 1.Email - Recipient's e-mail address 2.Name - Recipient's name 3.Staff - Job position or related 4.Location - Recipient's location 5.Division - Company division 6.Comment - Any custom comment 7.Link - Unique link part for the Landing Page. 8.Phone - recipient phone number 9.Language - recipient language Once you imported the recipients, you have to associate the recipients with a specific campaign(attack simulation or awareness training): ![recipient_association.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=71df12&media=recipient_association.png) After you start a campaign in anonymous mode you will only be able to see general statistics: ![anonymous_view1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=aecad0&media=anonymous_view1.png) ![anonymous_view2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9e5e57&media=anonymous_view2.png) ![anonymous_view3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=dfcf56&media=anonymous_view3.png) If you have less than 10 employees in a division, location etc, the marked stats will also not be visible: ![anonymous_view5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3680e9&media=anonymous_view5.png) anonymisation.txt · Last modified: 2021/07/30 13:00 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 103,
      "source": "https://wiki.thrivedx.com/doku.php?id=preview_templates",
      "content": "preview_templates [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • preview_templates Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 preview_templates Lucy comes with many predefined templates. If you are not sure you have all templates you can [download them](/doku.php?id=download_templates). Each template can be previewed. You can preview: the message template (e.g. mail) and the landing page To preview a template just go in the according template section (e.g. admin/settings/scenario-templates) and click the preview button for the language you desire: ![preview.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f41972&media=preview.png) The preview is fully functional. So within the preview mode you can always use the available buttons to test the functionality (e.g. use the login): ![prev2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=036abf&media=prev2.png) Note: In preview mode LUCY will use some dummy data for variables (e.g. \"Jon Doe\" for the variable %name%). You can ignore this since it will be replaced by the user name in the recipient list. preview_templates.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 104,
      "source": "https://wiki.thrivedx.com/doku.php?id=not_found_pages_404",
      "content": "not_found_pages_404 [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • not_found_pages_404 Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 not_found_pages_404 Background Info When doing a phishing simulation users will receive a random link send within a campaign that might look like this: [https://phishing.does-it.net/a5b371863fc2d6b5e2bf2bc2199597135f3db17c9a9194247002ae86e24c75ff/](https://phishing.does-it.net/a5b371863fc2d6b5e2bf2bc2199597135f3db17c9a9194247002ae86e24c75ff/). If a user will enter just the domain name in the browser to see what is running behind that link (e.g. [https://phishing.does-it.net/](https://phishing.does-it.net/)) he will get a 404 error. Here is a sample 404 page: ![404err.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ef9fe1&media=404err.png) Customize Error (Globally) If you don’t want LUCY to expose itself (e.g. when the user accesses the LUCY administration domain name or IP), you can define a global custom error message in the settings under settings/whitelabel. This error message will appear as a customized 404 (not found page). ![lucywhitelabel.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=adc659&media=lucywhitelabel.png) Customize Error (per domain) When you save a new domain in LUCY you have the ability to define a custom 404 or homepage for that specific domain. Please click on \"Use the custom Not found template and then save\" within the domain setting: ![lucydnserror1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=45056f&media=lucydnserror1.png) Next, click on “Not Found Template” ![lucydnserror2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=e8fb9b&media=lucydnserror2.png) Here you are ![lucydnserror3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=75dede&media=lucydnserror3.png) You will be able to set your custom 404 for this domain which will overwrite the global 404 settings. If you want to embed an image you can do this with a img tag that points to the external image on a 3rd party server (e.g. <img src=http://www.yourserver.com/img.jpg>). If you don't want to use the global 404 template (defined under settings/not found templates), then please enable the checkbox within the custom error page: ![custom_404_optionpng.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=010d07&media=custom_404_optionpng.png) Issues The 404 pages only work with domain names, not IP's Create an \"error\" page that redirect the user to a different website If you want to display an error for a few seconds and then redirect the user to an existing website, you could save a html header in the not found template. In this case the user gets redirected to [www.example.com](http://www.example.com) after 3 seconds: <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <meta charset=\"UTF-8\"> <meta http-equiv=\"refresh\" content=\"3; url=http://example.com\"> </head> <body> This is an error page. If you are not redirected automatically, follow this <a href='http://example.com'>link to example</a>. </body> </html> not_found_pages_404.txt · Last modified: 2020/01/16 20:43 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 105,
      "source": "https://wiki.thrivedx.com/doku.php?id=download_templates",
      "content": "download_templates [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • download_templates Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 download_templates LUCY TEMPLATES TYPE OF LUCY TEMPLATES LUCY comes with a few preinstalled templates in the categories: Awareness templates (templates for educating users) Attachment Templates (templates with some malware simulation) Attack Templates (templates for phishing attack simulations) Report Templates Mail Plugin Templates There are more than 600 templates and the list is continuously growing. The following screenshot gives a short overview of a few selected templates: ![lucy_templates_sel_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cfabb0&media=lucy_templates_sel_1.png) ![lucy_templates_sel_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d72994&media=lucy_templates_sel_2.png) DOWNLOAD TEMPLATES New templates are distributed over a centralized server and are available for download either through the Actions drop-down menu by pushing the Download button or throughout Settings → Download templates section: ![dwn_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=61691c&media=dwn_1.png) There are two checkboxes within the download section: Hide installed (if selected it will only show templates on the centralized server which are locally not installed) Check all available (if selected it will mark all available visible templates for download) ![dwn_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9668b8&media=dwn_2.png) INSTALLATION OPTIONS Once you selected the templates you want to download please click on \"install\" to install them. There are two options: Install: just install all templates - but do not overwrite old ones. If you already have an old version of a template and select install it will install the same template again. As a result you will have the same template twice or multiple times! Install & replace: when selected it will install all selected templates and overwrite the old ones ![dwn_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4fea62&media=dwn_3.png) Note: you cannot overwrite templates which are in use of a campaign. Finish the campaign and then delete the scenario in order to be able to update the according template. If you see a template installation error it means that one or more templates could not be saved. DELETE DOUBLE TEMPLATES LUCY provides the possibility to delete multiple template entries. Select the templates you want to delete and then in the Delete drop-down menu push the Selected button. In order to delete all the double templates press Duplicate without selecting any templates and LUCY will delete all double entries. ![del_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bc9650&media=del_1.png) EDIT ATTACK TEMPLATES Please visit [this](/doku.php?id=edit_landing_page) chapter. CREATE CUSTOM WEB BASED AWARENESS CONTENT YOURSELF Please visit [this](/doku.php?id=create_an_e-learning_template_using_the_adapt_authoring_tool) chapter. TRANSLATE TEMPLATES We can translate and proofread any web based template (attack- or awareness) for you. The translation includes the message template and the landing page(s). Pricing per language per web based template: The translation process usually takes around 5-10 days, depending on the length of the template. If you want to translate templates yourself, please go through the following steps: Step 1: Add the according language inside the template and save the template. LUCY will then create a copy of the template in English. You will have to replace the English text then with the desired text in your language. ![lg_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d63021&media=lg_1.png) Step 2: Select the according language (1), select the file inside the course which you want to translate (2) and insert the translated text inside the editor (3). Sometimes it is required to insert the translated text in the source code. Once you inserted the text, please save the template. ![lg_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fb3fed&media=lg_2.png) CREATE CUSTOM TEMPLATES We can create custom attack or awareness templates for you. Pricing on request CREATE CUSTOM VIDEO TEMPLATES Please visit [this](/doku.php?id=create_a_custom_e-learning_video) chapter. UPLOAD YOUR CUSTOM VIDEO Please visit [this](/doku.php?id=upload_your_own_awareness_video) chapter. download_templates.txt · Last modified: 2020/11/27 16:19 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 106,
      "source": "https://wiki.thrivedx.com/doku.php?id=copy_templates",
      "content": "copy_templates [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • copy_templates Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 copy_templates LUCY > 3.1 allows the user to quickly create a copy of one or multiple scenario templates (settings/scenario-templates). To create a copy you first need to select the template(s) and then click on \"action\". Under the action menu you will find a \"copy\" button: ![templateactions_copy.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8db962&media=templateactions_copy.png) Once activated LUCY will create a 1:1 copy of the template and add a the classification (copy) next to the template name: ![templateactions_copy_result.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a563d9&media=templateactions_copy_result.png) copy_templates.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 107,
      "source": "https://wiki.thrivedx.com/doku.php?id=export_restore_templates",
      "content": "export_restore_templates [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • export_restore_templates Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 export_restore_templates Export & Restore a template from the generic template section The generic templates are located settings/templates. If you backup a template using the backup feature, only the template gets exported. No application settings or any personal campaign data will be included. Create a template backup ![export_templ1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2c0c3b&media=export_templ1.png) Step 1: Select the attack- or awareness template you want to export (1) Step 2: Under \"actions\" please click on \"backup\" (2) Restore the template Step 1: Once you clicked the \"backup\" button, the template will be archived under /support/backups. Please download the the template to a local device. You can download the template by clicking on the date/time: ![export_templ2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2921f9&media=export_templ2.png) Step 2: You can restore the template on any LUCY server by clicking on the restore button: ![export_templ3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6b63a7&media=export_templ3.png) export_restore_templates.txt · Last modified: 2019/10/07 10:07 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 108,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_custom_e-learning_video",
      "content": "create_a_custom_e-learning_video [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_custom_e-learning_video Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_custom_e-learning_video Introduction Lucy includes a set of awareness videos: Premium videos (produced by an external partner) LUCY videos (produced by LUCY Security AG) The LUCY videos can be identified by their logo type: ![lucy_vide_tem.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=300&tok=fb47e1&media=lucy_vide_tem.jpg) The videos are stored locally as a part of the LUCY application in the awareness section. They are embedded in different awareness templates (e.g. video gallery, mixed interactive quiz, awareness videos etc.). Each video can be customized (logo, voice etc.). You can use the video editing scripts and merge scenes from different videos into a new video or ask us to create new video scenes etc. How to request changes? Send us your company logo and we will include it in the training videos. You want another language? No problem. We will set the video to play in the language you prefer. You want a different scene? Simply download the video scripts and mark the desired changes If you want only a few selected scenes to be altered, choose the according scene and provide us with the customized text and a draft of the desired animation. Within the field “animation description” you can specify the details of the animation. If you only want the logo at the start and end to be changed, please provide us with a high quality image of your logo (300 DPI / EPS or Adobe Photoshop/Illustrator file). Price calculation * Video White Label (for LUCY video's): Removal of watermark, adding custom client logo at start and end of video: USD 200 * Video White Label (for premium videos): Premium Videos have a special label and are produced by an external partner. To purchase the rights of unlimited usage without our logo, please ask for an offer of a white label version. Specify the video name and your company size in the request. Prices vary from 1300-2000 USD per premium video. ![premium_vid.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2c975a&media=premium_vid.jpg) Translation: The translation (new voice over and translation of all video visuals) starts from USD 350 per video (depends on video length) Example Videos (please mail info@lucysecurity.com for a full list of videos) Phishing Awareness Video Example: [https://www.youtube.com/watch?v=2z9mPh5QYWI](https://www.youtube.com/watch?v=2z9mPh5QYWI) Current Language(s): English, Spanish, German, French Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard.docx](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard.docx) Mobile Security Awareness Video Example: [https://youtu.be/ahNb6kA0Lms](https://youtu.be/ahNb6kA0Lms) Current Language(s): English, German, Spanish, Dutch, French, Italian Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_mobile_security_awareness.docx](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_mobile_security_awareness.docx) Email Security Awareness Video Example: [https://youtu.be/Og9lf0StwVA](https://youtu.be/Og9lf0StwVA) Current Language(s): English Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [email_awareness_video.docx](/lib/exe/fetch.php?media=email_awareness_video.docx) Physical Security Awareness Video Example: [https://www.youtube.com/watch?v=ORS9DPKJlks](https://www.youtube.com/watch?v=ORS9DPKJlks) Current Language(s): English Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [physical_awareness_video.docx](/lib/exe/fetch.php?media=physical_awareness_video.docx) Secure Social Networking Awareness Video Example: [https://www.youtube.com/watch?v=Ce0E2fDTPhI&feature=youtu.be](https://www.youtube.com/watch?v=Ce0E2fDTPhI&feature=youtu.be) Current Language(s): English, German, Italian, Lithuanian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [lucy_social_networking_storyboard.docx](/lib/exe/fetch.php?media=lucy_social_networking_storyboard.docx) Secure Internet Usage Awareness Video Example: [https://www.youtube.com/watch?v=rt9ZDkYab9s&feature=youtu.be](https://www.youtube.com/watch?v=rt9ZDkYab9s&feature=youtu.be) Current Language(s): English, German, Italian, Lithuanian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [lucy_secure_internet_usage.docx](/lib/exe/fetch.php?media=lucy_secure_internet_usage.docx) WI-FI security Video Example: [https://youtu.be/lY9Dy7xNuDU](https://youtu.be/lY9Dy7xNuDU) Current Language(s): English, German, Italian, Lithuanian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_wi-fi_security_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_wi-fi_security_video.doc) Data Privacy & GDPR Video Example: [https://www.youtube.com/watch?v=Eh3wEtMGDRs&t=12s](https://www.youtube.com/watch?v=Eh3wEtMGDRs&t=12s) Current Language(s): English, German, Italian Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_data_privacy_gdpr-video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_data_privacy_gdpr-video.doc) Password Security Video Example: [https://www.youtube.com/watch?v=VqEMlofu47k](https://www.youtube.com/watch?v=VqEMlofu47k) Current Language(s): English, German, Italian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_password_security_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_password_security_video.doc) PCI Security Awareness Video Example: [https://www.youtube.com/watch?v=sAcyUEFo2Hc](https://www.youtube.com/watch?v=sAcyUEFo2Hc) Current Language(s): English Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_pci_security_awareness_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_pci_security_awareness_video.doc) Ransomware Explainer Video Example: [https://www.youtube.com/watch?v=995lZmQI-2E](https://www.youtube.com/watch?v=995lZmQI-2E) Current Language(s): Danish, Dutch, English, French, German, Italian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_ransomware_awareness_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_ransomware_awareness_video.doc) Security Awareness Video: 7 Security Tips Example: [https://www.youtube.com/watch?v=i0iLy8racHI](https://www.youtube.com/watch?v=i0iLy8racHI) Current Language(s): Danish, Dutch, English, French, German, Italian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_security_awareness_tips.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_security_awareness_tips.doc) Malware Awareness Video Example: [https://www.youtube.com/watch?v=AIly1cCfz4o](https://www.youtube.com/watch?v=AIly1cCfz4o) Current Language(s): English, French, German Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_malware_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_malware_video.doc) Workplace Security Awareness Video Example: [https://www.youtube.com/watch?v=hSSSx3c7_co](https://www.youtube.com/watch?v=hSSSx3c7_co) Current Language(s): English, Italian Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_workplace_security_awareness_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_workplace_security_awareness_video.doc) Identity Theft Video Example: [https://www.youtube.com/watch?v=hy6spPyKJFo](https://www.youtube.com/watch?v=hy6spPyKJFo) Current Language(s): English, German, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_identity_theft_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_identity_theft_video.doc) Social Engineering Video Example: [https://www.youtube.com/watch?v=VkTH6BPMMFA](https://www.youtube.com/watch?v=VkTH6BPMMFA) Current Language(s): French, English, German, Italian, Spanish Possible Translation in other Languages: All* (*If you want to have the video in a different language you have the option to order this for USD 350) Cost of scene changes: See movie script* (*If you want to have the content changed (e.g. logo or different scenes altered) please download the movie script and send us back the desired changes within that document) Movie Script: [sample_lucy_movie_storyboard_social_engineering_video.doc](/lib/exe/fetch.php?media=sample_lucy_movie_storyboard_social_engineering_video.doc) create_a_custom_e-learning_video.txt · Last modified: 2020/02/08 21:26 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 109,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_poster",
      "content": "create_a_poster [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_poster Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_poster LUCY comes with a variety of different posters. Various security issues are covered. Each theme is available as a photo or as an illustration: ![poster_n.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=973d3f&media=poster_n.png) You can access the Adobe Illustrator File within the awareness template by clicking \"Upload File or Image\" –> \"Browse Server\": ![poster_edit.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e82f7c&media=poster_edit.png) create_a_poster.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 110,
      "source": "https://wiki.thrivedx.com/doku.php?id=commands_that_can_be_executed_in_file_based_malware_simulations",
      "content": "commands_that_can_be_executed_in_file_based_malware_simulations [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • commands_that_can_be_executed_in_file_based_malware_simulations Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 commands_that_can_be_executed_in_file_based_malware_simulations Which tools can be used for command shell execution? LUCY comes with three tools that will access the windows command shell and enable you to execute commands: ConsolePost: Enables you to automatically execute one or multiple commands within the Windows shell on the target computer and send back the output to LUCY. ConsoleOutlook: Execute commands and send the output back via Outlook (access Outlook hidden via MAPI) to a predefined email address. It also has the ability as a PoC to send back the subject line from last received email in Outlook. ConsoleInteractive: This tool allows you to establish a reverse HTTP/HTTPS channel to LUCY. Once the file has been executed, you can see the session in “Sessions”. The tool only runs in the memory (called “file” in Process View). After the termination, the session can no longer be established. You can click on the IP and start executing commands within the Windows shell. The output should appear after a few seconds automatically. This Tool only works with Windows 7/8 in combination with IE and Firefox. Macro Simulation “POST ONLY: this tool is described [here](/doku.php?id=create_a_phishing_campaign_with_a_word_macro). What are the limitations? In the community edition you might be only able to execute the following commands: whoami date time date /T time /T ipconfig In the commercial edition, there are no limitations. Commercial editions allow any command to be executed using this syntax: cmd.exe /c \"YOUR COMMAND GOES HERE\" (some commands in Windows are not executable. They are built into the command line. Example of command with executable: whoami. If you need to use a command which is a built-in command line, then you should call cmd directly. Example of requesting the directory content: “cmd /c dir”). So, for example, standard cmd.exe commands are accessible like: * dir (list directory contents) * md (create directory) * etc commands_that_can_be_executed_in_file_based_malware_simulations.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 111,
      "source": "https://wiki.thrivedx.com/doku.php?id=interactive_reverse_http_s_sessions",
      "content": "interactive_reverse_http_s_sessions [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • interactive_reverse_http_s_sessions Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 interactive_reverse_http_s_sessions Background Info Not only does the popular perimeter-based approach to security provide little risk reduction today; it is, in fact, contributing to the increased attack surface criminals are using to launch potentially devastating attacks. In general, the perimeter-based approach assumes two types of agents: insiders and outsiders. The outsiders are considered to be untrusted while the insiders are assumed to be extremely trustworthy. This type of approach promotes the development of architectures where networks are clearly broken into delineated “trusted” zones and “untrusted” zones. The obvious flaw with the perimeter approach is that all the insiders — that is the employees of a business — are assumed to be fully trustworthy. With LUCY, we are now able to expose how the emerging breed of attackers are able to leverage application and browser flaws to launch “inside-out” attacks, allowing them to assume the role of the trusted insider; a type of attack used in the \"1 Billion Dollar Heist\" (see page 9 [https://securelist.com/files/2015/02/Carbanak_APT_eng.pdf](https://securelist.com/files/2015/02/Carbanak_APT_eng.pdf)). Traversing the corporate firewall to attack an internal application may seem like an impossible task, but attackers have the advantage of knowing that most corporate firewalls make an exception to web traffic (http & https). Although an attacker cannot force HTTP content through the firewall, the attacker can execute code that he/she controls behind an organization's perimeter if an employee \"invites\" it in. This invitation might come in a phishing mail, asking the victim to download and execute some file. Once executed, the browser of the client can be hijacked and used to establish an open communications channel to the attacker. You can imagine it like this: the Malware tells the victim's browser to connect back to a webserver that belongs to the attacker. But instead of displaying a website, the attacker makes sure that the connection to that website stays open - invisible to the user. Having control over the website, the attacker is now able to send back commands to that victim in that already established web connection. This is called interactive sessions. Using this feature with LUCY, we can now simulate such attacks. But who needs such advanced hacker techniques? Well, for example, security companies performing penetration tests with their clients. But also any organization, who wants to test, if such hidden communication channels are possible within their infrastructure. Since LUCY is simulating the attack from A-Z (creating the Malware simulation, creating the website, sending the email with the Malware sample, establishing the reverse http channels, etc.) you don’t need to have in-depth IT security skills anymore to verify the exposure against such attacks. About the Tool The tool is called \"ConsoleInteractive\" in LUCY. It allows you to establish a reverse HTTP/HTTPS channel to LUCY and execute commands within the admin web GUI. Those commands are pulled from the LUCY Malware simulation and are then executed. The results then are visible in the admin GUI: once the file has been executed, you can see the session in “Sessions”. Differences to MSF LUCY is mainly a tool that simulates social hacks with a big variety in attack templates. Those predefined attack templates can be combined with actual malware simulations, which makes LUCY among many other attack toolkits unique. Security Concerns The Tool only runs in the memory (called “file” in Process View). After the termination, the session cannot be established again. You can click on the IP and start executing commands in the Windows shell. The output should appear after a few seconds automatically. Also, this Tool only works with Windows 7/8/10 in combination with Internet Explorer, Firefox, Microsoft Edge and Chrome. Configuration To be able to perform an interactive attack, the user needs to download and execute the file that LUCY creates during the campaign. On the user's side, the file requires no installation (it runs as a portable executable) and needs only standard Windows user rights. You can either choose to send the attachment via Email (use the network activity report) or create a download page (e.g. select the VPN Download scenario). The specific Malware Simulation Settings can then be edited either within the landing page template or the email template. To perform an attack with the interactive shell, please select \"Console Interactive\" as the tool. ![120.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=75f7e9&media=120.jpg) If you only want the executable to be provided as a download link and not an email attachment, simply select the \"Console Interactive\" in the web landing page as a file template. If you want the file also to be sent via email, select the \"Console Interactive\" in the email settings as a file template. If you don't choose to select to show a custom error upon execution, then the file runs silently in the memory. Otherwise, a popup will appear when the user executes the file. Where to type in your commands? All interactive sessions can be configured in the Top Navigation Menu under \"Interactive Sessions\". You will have the ability to select the user first, and then start your interactive session. ![81.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ec4287&media=81.jpg) ![82.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1b41de&media=82.jpg) What commands are supported? The tool allows you to use a limited set of commands. Some commands in Windows are not executable, they are built into the command line (Example of command with executable: whoami). If we need to use a command which is a built-in command line, then we should call it directly. Here are a few more examples of how to run shell commands: dir cd C:\\ & dir type C:\\autoexec.bat dir \"C:\\Program Files\\ Where to download the session logs? All raw session logs can be downloaded under Statistics/Collected data. ![119.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a29319&media=119.jpg) Can I upload my custom payload to the client? Within a session, you can upload your own custom payload to the victim's PC. Please use the upload form field. LUCY will convert your binary file into a BASE64 string which the client will fetch and decode and then execute. ![uploadpayload.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e44310&media=uploadpayload.png) Video Watch this video here to see the interactive shell configuration in a live example: [https://www.youtube.com/watch?v=mSA8jMXYlJU](https://www.youtube.com/watch?v=mSA8jMXYlJU) interactive_reverse_http_s_sessions.txt · Last modified: 2021/03/15 17:58 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 112,
      "source": "https://wiki.thrivedx.com/doku.php?id=file_based_gui_options",
      "content": "file_based_gui_options [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • file_based_gui_options Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 file_based_gui_options Each file-based template comes with different GUI options that can be customized. The GUI has no function. The only purpose is to display something for the user that matches your social engineering scenario. The display GUI option may have a value of 0 to 4: 0 - no GUI, 1 - Progress Bar, 2 - Decryptor Window, 3 or 4 - Error Message Window If you choose 1, 2 or three you can add your custom text to the message box. file_based_gui_options.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 113,
      "source": "https://wiki.thrivedx.com/doku.php?id=set_a_password_for_the_archive_in_file_based_attacks_or_change_the_file_name",
      "content": "set_a_password_for_the_archive_in_file_based_attacks_or_change_the_file_name [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • set_a_password_for_the_archive_in_file_based_attacks_or_change_the_file_name Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 set_a_password_for_the_archive_in_file_based_attacks_or_change_the_file_name Background Info about Archiving Options LUCY allows so-called [file based attacks](/doku.php?id=create_a_phishing_campaign_with_malware_simulations) which allow the administrator to combine a phishing simulation with a malware simulation. The malware simulation can be attached to the mail or inserted into a phishing webpage where it may be downloaded by the recipient. To help protect the computer, mail and web filters in most cases do not allow you to receive files of certain types (such as .exe files) as attachments or within a download, because of their potential for introducing a virus into the computer. Certain mail clients (like Outlook) also block these files by default. So-called Level 1 files (like exe, bat, vbs etc.) cannot be sent in plain form. Otherwise, they will get filtered. LUCY allows the administrator to archive those files (like *.zip or *.rar files). But also just placing them in an archive is not sufficient in most cases. Therefore we also offer the administrator in LUCY > 3.1 to set a password for the archive. This makes it impossible for any filter to analyze the content. If encrypted files are not rejected on a gateway level, this offers the LUCY admin to ensure that the file-based simulations can be downloaded or attached in the simulation. Configuration In order to rename, archive and set a password for a file-based attachment or download you can go to the scenario settings of your specific scenario and then at the bottom you can: Enable archiving of the file Give the archive a custom name Set a password for the archive Please note that the compression only applies for Level 1 file types (like .exe) and not Level 2 file types (like .docx, .mp3 etc). ![file_settings.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d976ba&media=file_settings.png) Change the file name of the executable or word file In LUCY < 3.2 you can change the file name of the executable or word file by: 1) Downloading the original file within the generic file-based template section and locally rename it to the desired file name 2) Deleting the original file name on LUCY by clicking on \"X\" (e.g. delete \"file.exe\") 3) Uploading the file with the modified file name ![rename_file.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e8675b&media=rename_file.png) Change the layout of the word file In LUCY < 3.2 you can change the layout of the word file by: 1) Downloading the original word file within the generic file-based template section and locally change the design to the desired layout 2) Deleting the original file name on LUCY by clicking on \"X\" (e.g. delete \"info.doc\") 3) Uploading the file with the modified file name 4) Use the word modified word file in your campaign Change the file type (e.g. use an excel instead of word) In LUCY < 3.2 you can change the file type by simply copying the macro from the word file to the desired file format (e.g. Excel) and upload it back to LUCY as a generic file template. Change the file icon If you want to change the icon of the executable, you need to manually do that using a free tool (e.g. [http://www.angusj.com/resourcehacker/](http://www.angusj.com/resourcehacker/), [https://github.com/electron/rcedit/releases](https://github.com/electron/rcedit/releases), [http://winrun4j.sourceforge.net/](http://winrun4j.sourceforge.net/) etc.). Those tools allow you to download the *.exe, set a custom icon and then download it back to LUCY. After LUCY 3.8 we will provide the possibility to change the icon within the UI. Issues with files that get filtered by AV or any other security software Our malware simulations are non-malicious and are intended only for educational use. We can ensure that they are non-persistent (run only in memory) and free of any malicious code. On request we also allow clients to access the source code for each malware simulation. Still, we noticed in the past that AV vendors or content filter added virus signatures for certain file based simulations from LUCY. We are working together with those vendors to remove them from their signature lists. But we cannot guarantee that we cover all products. Therefore we kindly ask our clients to report us if our malware simulations are getting filtered (send us a mail with the vendors signature ID to info@lucysecurity.com). set_a_password_for_the_archive_in_file_based_attacks_or_change_the_file_name.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 114,
      "source": "https://wiki.thrivedx.com/doku.php?id=file_formats",
      "content": "file_formats [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • file_formats Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 file_formats In phishing simulations different file formats can be offered either as mail attachments or as downloads on a website. DOWNLOADS Measuring downloads: LUCY can manage any file format (ppt, word, mp3 etc.) on a website and then measure whether the user has downloaded the file. See chapter \"[Tracking Downloads](/doku.php?id=tracking_downloads)\". EXECUTION Measuring the execution: LUCY offers the possibility to measure the execution of the file types. Active contents must be used. LUCY offers the following formats in this context: [PDF (with exe in the attachment)](/doku.php?id=pdf_attacks) [Archive (e.g. Zip) with exe in archive](/doku.php?id=set_a_password_for_the_archive_in_file_based_attacks_or_change_the_file_name) [Office file (e.g. Excel or Word Macro)](/doku.php?id=create_a_phishing_campaign_with_a_word_macro) [ Exe](/doku.php?id=create_a_phishing_campaign_with_malware_simulations) [Java Applet (signed)](/doku.php?id=create_a_phishing_campaign_with_a_java_dropper_applet) Java Applet, which executes executable locally file_formats.txt · Last modified: 2020/04/08 11:21 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 115,
      "source": "https://wiki.thrivedx.com/doku.php?id=phishing_incidents",
      "content": "phishing_incidents [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • phishing_incidents Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 phishing_incidents Introduction LUCY comes with a \"Phish Alert\" plugin/addon for mail clients or browsers: Outlook 2010 Outlook 2013 Outlook 2016 Outlook 2019 Office365 Desktop Office365 Web Office365 Mobile Outlook for Mac Office for Mac 2016 Office for Mac 2019 Gmail This add-in gives your users a safe way to forward suspected Emails with only one click and have them analyzed automatically by the [Threat Analyzer](/doku.php?id=centralized_analysis) in LUCY. The tool empowers users to proactively participate in an organization’s security program and makes it easy for your employees to report any suspicious email they receive. It has two main features ![outlook2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=045757&media=outlook2.png) a) Forward the mail (.msg) to a predefined mail address (e.g. your security team). Within the plugin you have the ability to define a custom message that appears to the user after the mail gets reported. Once the message gets forwarded to your team, it will automatically be deleted from the user's inbox to prevent future exposure. b) Report back to LUCY: the plugin may forward suspected phishing emails as well LUCY generated emails back to the LUCY server via HTTPS. If the mail was generated by LUCY, the reports will automatically be processed within the campaign statistics. All other emails can be analyzed in LUCY using our threat analysis engine. There are 3 variations of the Report Plugin by design: [Outlook Plugin](/doku.php?id=outlook_plugin) [O365 Plugin](/doku.php?id=o365_plugin) [Gmail Plugin](/doku.php?id=gmail_plugin) Configuration Incident Settings The configuration of the plugin and phishing incidents is done within the settings menu (Admin/Settings/Incident Settings) where you can define the settings for: Custom Rules (create special rules with Regex filters to flag emails) Score Factors (adjust the scores for specific incident events) Abuse Autoresponder Plugin settings ![incident_settings4.7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6369e0&media=incident_settings4.7.png) Plugin settings The following settings can be configured: ![plugin_settings05.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f3d4f9&media=plugin_settings05.png) ![plugin_settings06.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=079717&media=plugin_settings06.png) Plugin Variations Feature Support Comparison Main Settings Setting Name Description Outlook (MSI) Office365 (XML) Gmail Default Language Set the default language for the plugin. + + + Email the mail address of your security team. This is the address, where suspected phishing mail gets forwarded. The whole mail will be attached as a .msg (for MSI plugin only) and send to a predefined mail address. You may use multiple emails separated by a semicolon symbol (;). Example: john@doe.com;bill@gates.com. + + + Outlook MSI Icon (ico) Choose an icon for a visual representation of plugin's button in the Outlook MSI interface. Once it has been picked up there is a preview and an option to delete icon. + - - Outlook O365 Icon (png) Choose an icon for a visual representation of plugin's button in the Office365 Outlook interface. Once it has been picked up there is a preview and an option to delete icon. - + - Send Reports Over HTTP Enable this option, if you want the Outlook Plugin to send a copy of the reported phishing mail to LUCY (does not include emails from phishing simulations) and additionally add the statistical info about reported phishing emails to LUCY. + + + Never report phishing simulations No reports will be sent over HTTP if user reports a simulation email generated by Lucy. So the plugin will send only \"real phishing\" emails over HTTP. + + - Send Reports over SMTP Enable this option, if you want to forward the mail to the predefined mail address via SMTP. If enabled, the plugin will send the report to the email you provided on the same page. That is supposed to be your own email or the email of your security team. Please do not use this method at the same time with HTTP to send reports to LUCY, if you do not want to have duplicated reports. Only pick one delivery method. + + + Use SMTP for receiving incident reports on Lucy if enabled, Lucy will suppose it has to intercept emails that plugin sends over SMTP, so it configures the local postfix accordingly. All emails received will be added to incidents. If you do not enable this, even if the email configured points to Lucy, nothing will happen - Lucy won't wait for reports over SMTP. This option requires that the first e-mail in the \"Email\" field should be the e-mail of Lucy postfix server + + + Never report phishing simulations No reports will be sent over SMTP if user reports a simulation email generated by Lucy. So the plugin will send only \"real phishing\" emails over SMTP. If HTTP is disabled as well, Lucy will not get these reports either, as there is no other delivery method configured for these reports. + + + Send phishing simulations over HTTP If the option is enabled, the plugin will send reports regarding phishing simulations to LUCY via HTTP. + + - Use X-Headers in forwarded emails If true, the plugin will make the following changes in the email forwarded over SMTP: * Add a new header X-CI-Report: True * Add a HTML code <p>X-CI-Report: True</p> after the body tag within the email body. + + - Inline Message Forwarding If true, the plugin will clear the body of the forwarded email when sending the report via SMTP. + - - Deeper Analysis Request If true, the plugin will ask the user whether to request deeper analysis of the reported phishing mail. + + - Enable Comment to Deeper Analysis Request If Deeper Analysis Request is true, the plugin will offer to the user an additional text box where the user can type any comment to the deeper analysis request. Additionally the user can configure a custom text that will appear instead of \"Yes\" or \"NO\" labels on the buttons + - - Send reported mail attachment in EML format Reported email message will be sent as an *.eml attachment. + + + Disable Autoresponder For Reports If true, LUCY will not send an automatic email to a user as a reaction to report. + + + Delete reported email Set this action option and the plugin will delete the reported emails. + - - Move reported email to a non-system folder named Set this option and the plugin will move reported emails to the custom-named folder. Type in the folder name in the field below. + - - Move reported email to Junk E-mail of the current user Set this action option and the plugin will move reported email to Junk E-mail of the current user. + - - Notify of Expired Incidents Check this to receive notification if there are reports older than 30 days. This notification will be delivered via email. + + + Language Settings Language settings are required to be configured before the initial download of the plugin from the Incidents Tab. The language sample text (English) can be found [here](/doku.php?id=language_settings_sample). Please note, multi-language support is only available for the MSI plugin. The locale will be set automatically according to the Outlook's language. Otherwise the default language will be used. ![plugin_settings03.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=81153e&media=plugin_settings03.png) ![plugin_settings04.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5a994a&media=plugin_settings04.png) Setting Name Description Outlook (MSI) Office365 (XML) Gmail Language Choose the language preset to configure it specifically for the needed language. + + + Thank you message The message that will be displayed after the user marks a suspected phishing email and pushed the plugin button. + + - Thank you message for LUCY mails The message that will be displayed for all emails, that are created by LUCY within a simulated phishing campaign. + + - Button Message The name of the button in Outlook. + - - Button Super Tip The help text displayed when the user hovers the mouse over the button. + - - Report Title The title of the message that will be displayed after the user marks a suspected phishing email and clicks the plugin button. + + - Error Title The title of the message that will be displayed when any error occurs. + + - User Request Message The message that will be displayed after the user marks a suspected phishing email and clicks the plugin button. + + - Deeper Analysis Request Message Deeper analysis request confirmation text. This message box is shown after user clicks on the report button. + + - No Selection Message The title of the message that will be displayed after the user clicks phish button without any selected email. + - - Eval Error Message Text displayed when the error of getting the selected item occurs. + - - Send Error Message The message that will be displayed when an issue with sending the report occurs. + - - Unsupported Message Text displayed when user tries to report an unsupported item (calendar event, etc). + - - Subject The subject of the forwarded email message when sending a report over SMTP. You may use %subject% variable to insert the subject of the phishing email. Example: Phish Alert %subject%. + - + Ribbon Label The name of the area in which the button is located. + - - For \"Yes\" action Set the Deeper Analysis Request Custom Button for \"Yes\" action. + + - For \"No\" action Set the Deeper Analysis Request Custom Button for \"No\" action. + + - The algorithm logic for the different delivery options in the plugin is as follows: Is HTTP enabled? If yes, send a report over HTTP, regardless of its status (simulation or real) Is SMTP enabled? If no, stop, otherwise go to next Is \"Never report phishing simulations (Suppress SMTP)\" enabled AND this is a simulation email? If BOTH are yes, then stop, otherwise go next Send report over SMTP For more clarification of various use cases of the plugin configuration please refer to the examples [here](/doku.php?id=sample_plugin_configurations). Known Issues: if you use SMTP for receiving incident reports on Lucy within the incidents, Lucy will intercept all your emails to the domain specified. If you use example.com as a domain for receiving the incidents in LUCY, the internal Postfix server will be listening for this domain for incoming mails. If you now start at the same time a phishing or awareness campaign and try to send your emails to \"@example.com\", LUCY will not forward those emails externally. Phishing Incident Center Features (Threat Analyzer) Phishing Incident Reports created by users are collected in the Incidents section. Dashboard Filter: LUCY allows you to filter the incoming mails on the dashboard: ![status.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ec8c9a&media=status.png) Centralized Analysis: This feature allows you to analyse the incoming mails manually or automatically Centralized Campaign Reporting: Any reported mail which is part of a phishing simulation will be processed within the campaign statistics Threat Mitigation: The Threat Mitigation allows you to take actions against legitimate phishing attacks Custom Regex & Score: LUCY allows you to define custom rules to scan mails for specific keywords and flag them with a individual threat score. Detection of real phishing mails vs. Phishing simulations The plugin automatically handles emails created in a phishing simulations from LUCY: it will ensure that only reports of potentially malicious emails are delivered to appropriate security staff. All emails created by LUCY itself will create a custom message to inform the user, that the mail has been send as a part of a security awareness program. LUCY generated phishing mails won't be forwarded to the security team. But they will be reported back to LUCY in order to process the information within the campaign statistics. The reported mails will then be purged from the successful attack listings in LUCY. Where are incidents (LUCY generated emails) from the plugin reported? If a user spots the phishing simulation and reports the email, you can see this information in various places: Incident widget on the dashboard: ![incident-dashboard.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=90af29&media=incident-dashboard.png) Incident tab: ![incidentstab.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1529d1&media=incidentstab.png) Under the campaign statistics (recipients) under the \"reported\" item: ![incidents322.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ede7c6&media=incidents322.png) If you want a comparison of all reported emails, you can export the whole campaign data via CSV. Within the CSV there is a reported column: ![incidentsja21.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d43ec7&media=incidentsja21.png) The incidents reports will also be integrated on the dashboard under the general statistics. For more detailed information on the report's analysis please proceed to [Centralized Analysis](/doku.php?id=centralized_analysis). Threat mitigation The threat mitigation allows a LUCY admin to report reported phishing mails to according abuse contact of the provider's originating IP address taken from the message header. You can click on the mail symbol within the incident center to initiate the sending of the report. More info [here](/doku.php?id=threat_mitigation). API Integration The e-mails reported to LUCY via plugin can be automatically forwarded to external systems (e.g. Splunk) via LUCY's [REST API](/doku.php?id=api). This ensures a seamless connectivity to a SOC. Technical Details The plugin is a non signed MSI file and programmed as a C++/COM object. It is bundled with Microsoft Visual C++ 2015 Redistributable (x86) Package (14.0.23026). The loading time of the plugin is around 10 MS. It has been tested in Outlook 2010, 2013 & 2016. An Office365 and Gmail Plugins are also available. A phishing mail generated in LUCY will have a \"X-Lucy-VictimUrl\" value in the mail Header. This allows LUCY to identify the phishing mail and Report it back to the app using a HTTPS call. Example: X-Lucy-VictimUrl: [https://microsoft.secure-log-in365.info/f56/phishing-report](https://microsoft.secure-log-in365.info/f56/phishing-report) Message-Id: [20170414072426.390935E2095F@demo.phishing-test.services](mailto:20170414072426.390935E2095F@demo.phishing-test.services) If the user clicks the phish button where the HTTP delievery is configured in the Settings, a new click Event is generated. The variables could look like this: url: https://demo.phishing-test.services/phishing-report email: test@lucysecurity.com message: Thanks. Your help is appreciated! lucyMessage: This was a phishing simulation. Thank you for your help! buttonText: Phish Reporter submitHttp: yes submitSmtp: yes something is selected user clicked yes property accessor is ok submitting over smtp... successfully submitted over smtp submitting over http... url: https://microsoft.secure-log-in365.info/f56/phishing-report HTTPS communication - plugin to LUCY: The XML always uses web browser to send data to Lucy. In case of running as a web-plugin in MS Outlook it uses the build-in web browser (for Windows it is Internet Explorer) to communicate with Lucy. Both, MSI and XML, use the proxy system settings (Windows > Control Panel > Network and Internet > Internet Options). If Windows-based authentication is required for the proxy, it will work transparently as well as for MSI and XML. Using your own plugin to report emails to LUCY There is a possibility to use your own plugin to report emails to LUCY. To do this you need: Configure your domain that is used for LUCY so that its MX records might point to LUCY Configure an email address for receiving incident reports in Settings - Incidents Settings - Plugin Settings, this email address should use the domain configured on step 1. Turn on check-boxes \"Send Reports Over SMTP\" and \"Use SMTP for receiving incident reports on LUCY\" After these steps are done you can forward any email as an attachment to the configured email address and LUCY will treat these emails as incident reports and display them on the \"Incidents\" page. Potential Issues If you enable \"send reports via SMTP\" you cannot send emails to the same domain (e.g. \"example.com\") anymore: this setting will cause Lucy to intercept all your emails to \"example.com\" domain. If you remove the checkbox, then Lucy won't try to intercept emails for that domain and the feature will work as expected. Using \"Send Reports Over SMTP\" along with \"Use SMTP for receiving incident reports on Lucy\" is the other way to deliver phishing reports to Lucy. You can specify, for example, some custom email like lucy-phishing-reports@separatedomain.com as a primary email in Incidents settings, check both those checkboxes and point separatedomain.com MX records to Lucy. So all emails being sent to lucy-phishing-reports@separatedomain.com will be intercepted by Lucy, as well as emails sent from Outlook plugin - they will be added to the \"Incidents\" page. If you just want to receive a copy of incident report to your own email (yourname@example.com), that is not tied to Lucy, then you should keep \"Use SMTP for receiving incident reports on Lucy\" checkbox clear - in that case Lucy won't attempt to intercept anything and the plugin will just forward all reports to yourname@example.com. phishing_incidents.txt · Last modified: 2022/01/18 09:02 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 116,
      "source": "https://wiki.thrivedx.com/doku.php?id=centralized_analysis",
      "content": "centralized_analysis [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • centralized_analysis Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 centralized_analysis Centralized Analysis Automatic Incident Analysis (Threat Analyzer) Once the mail has been reported by the user it will popup as an incident in LUCY in case you have enabled the HTTP option in LUCY. There are a few automatic analysis routines build into LUCY (e.g. check an IP in Google's Safe Browsing Database or Phishtank Database). More checks will follow in the upcoming versions. When you click on a reported mail you will first see the overall risk score. The overall risk score is a weighted average of the following score from different scans: Header Analysis Domain Analysis Body Analysis ![dl_ot4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=55e13b&media=dl_ot4.png) LUCY will automatically flag mail simulations. All other mails can then be manually verified by the administrator. All mails can be downloaded as .msg or .eml file and/or add an incident report. ![downloadmessage.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b9be3d&media=downloadmessage.png) ![downloadmessage2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e3f419&media=downloadmessage2.png) When a user forwards an email to LUCY all the domains and IP's from the mail header & body are extracted. For each IP and domain LUCY will then lookup public databases like google's safe browsing or phishtank, if any threat was reported: ![dl_ot5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cd11d2&media=dl_ot5.png) The current sources are: [https://safebrowsing.googleapis.com/v4/threatMatches:find](https://safebrowsing.googleapis.com/v4/threatMatches:find) (port 443) [http://data.phishtank.com/data/online-valid.csv](http://data.phishtank.com/data/online-valid.csv) (port 80) DNS BL queries to bl.spamcop.net and zen.spamhaus.org CI Army (list) ([http://cinsscore.com/](http://cinsscore.com/)) - Network security Block Lists. Cybercrime tracker ([http://cybercrime-tracker.net/](http://cybercrime-tracker.net/)) - More sources will be added with each new major release. Lucy will query those sources directly from the location where the software is installed. No data is transmitted back to our infrastructure. The LUCY admin can also quickly just manually investigate the WHOIS records from the IP's by clicking on the help symbol: ![dl_ot6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=af5571&media=dl_ot6.png) Filter View Incidents ![filter_incidents_01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=11fda6&media=filter_incidents_01.png) Lucy offers more filter and view options: Search: You can search for any text from the mail subject or body. All emails that contain that exact search string will get displayed. This allows you to quickly identify similar attacks, even if the mail sender and recipients are different. Client: Every campaign is associated with a client. This feature is helpful for MSSP's or companies with multiple legal entities to quickly identify submitted reports from different sources. Date: You can use a date or date range to narrow down your search criteria Domain: This field relates to the sender domain used in the reported email (not the user who reports the Email) Minimum Score: The automatic risk score calculated in the system Campaign: If the Email is associated with a specific campaign from LUCY Select all View All fields are sortable Threat Details can be viewed by clicking on the date Reported Emails Categories The reported emails can be categorized by status: Open In Progress Dismissed Simulation Real Phishing Closed ![phish-categor1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=39a8d6&media=phish-categor1.png) The status can be set by the LUCY administrator after clicking on the detail of a reported Email. If you don't want any further notification, please set a status of the open tickets or disable the checkbox on LUCY: ![status_inc4.7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f46706&media=status_inc4.7.png) centralized_analysis.txt · Last modified: 2021/09/03 16:49 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 117,
      "source": "https://wiki.thrivedx.com/doku.php?id=threat_mitigation",
      "content": "threat_mitigation [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • threat_mitigation Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 threat_mitigation Threat Mitigation The threat mitigation allows a LUCY admin to report reported phishing emails to according abuse contact of the provider's originating IP address taken from the message header. You can click on the mail symbol within the incident center to initiate the sending of the report: ![threat-mitigation.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=84df7f&media=threat-mitigation.png) The email sent to the abuse contact of the provider can be edited within the incident settings: ![threat_migration_2.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e439d4&media=threat_migration_2.jpg) The abuse report can contain the following variables: %domain% — Domain or IP %email% — actual Email %time% — Time Default abuse template LUCY comes with a default abuse template, which should be customized by the admin: ![default_abuse.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=19f4c6&media=default_abuse.jpg) threat_mitigation.txt · Last modified: 2019/11/21 09:29 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 118,
      "source": "https://wiki.thrivedx.com/doku.php?id=incident_auto_responder",
      "content": "incident_auto_responder [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • incident_auto_responder Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 incident_auto_responder Incident Auto Responder (automatic feedback) LUCY allows the admin to define an auto responder for submitted emails through the phish button. ![autoresp.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=871384&media=autoresp.png) The message may contain the actual risk score calculated in LUCY. ![risk_score.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8215f5&media=risk_score.png) The risk score uses the IP's and domains in your email and compares them with databases that contain information about malicious activities: [https://safebrowsing.googleapis.com/v4/threatMatches:find](https://safebrowsing.googleapis.com/v4/threatMatches:find) (port 443) [http://data.phishtank.com/data/online-valid.csv](http://data.phishtank.com/data/online-valid.csv) (port 80) DNS BL queries to bl.spamcop.net and zen.spamhaus.org CI Army (list) ([http://cinsscore.com/](http://cinsscore.com/)) - Network security Block Lists. Cybercrime tracker ([http://cybercrime-tracker.net/](http://cybercrime-tracker.net/)) - Additionally, we look at the body of the mail message and run the tool SpamAssassin (SpamAssassin uses a variety of spam-detection techniques, including DNS-based and fuzzy-checksum-based spam detection, Bayesian filtering, external programs, blacklists and online databases). incident_auto_responder.txt · Last modified: 2020/03/19 14:47 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 119,
      "source": "https://wiki.thrivedx.com/doku.php?id=outlook_plugin",
      "content": "outlook_plugin [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • outlook_plugin Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 outlook_plugin Outlook Plugin This is a dedicated article for the Outlook (MSI) Report Plugin. It's supported by the following desktop installations on Windows machines: Outlook 2010 Outlook 2013 Outlook 2016 Outlook 2019 Office365 Desktop ![outlook2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=045757&media=outlook2.png) Configuration of Outlook (MSI) Plugin Main settings and the set of supported features are described in the [main article](/doku.php?id=phishing_incidents). Examples of the plugin configuration can be found [here](/doku.php?id=sample_plugin_configurations). You can make multiple configurations only for the Outlook (MSI) plugin and use them for different customers or organizational units. Please create a configuration, save it and download the corresponding plugin. You can repeat this step as often as you like for other organizations. Once you configured the plugin in the LUCY UI and installed it, you will notice that the settings can be viewed or changed locally (MSI only plugin). However in order to be able to change it, first turn on the settings in the Lucy's plugin settings as shown below: ![plugin_settings08.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=583503&media=plugin_settings08.png) ![addin_settings.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=300&tok=452e9b&media=addin_settings.png) The instructions on how to set the keyboard shortcut for more convenient way of pressing the report button is provided in this [article](/doku.php?id=keyboard_shortcut_for_report). Deployment The deployment can be done via MSI file which can be downloaded after the initial configuration under the \"Incidents\" menu (/admin/incidents). You can create multiple configurations for different organisation units or clients. For this reason the download offers the possibility to choose the client first. You can repeat this step as often as you like for other organizations: ![out_dl4.7_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=79fbb4&media=out_dl4.7_2.png) The assignment to the client can be used in the user interface to sort or filter incidents: ![cl_out_a.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9e3e41&media=cl_out_a.png) The plugin installer needs user to have read and write access at least to keys under HKCU (current user). ![download_plugin_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=eb3469&media=download_plugin_1.png) User Wide plugin will affect only one user of a particular PC. Machine Wide plugin will be available for every user of a PC once it is installed. It's recommended to use the appropriate version of the application matching your OS \u200bin terms of 32/64-bit. 32bit app is fully compatible with 64bit OS. Using 64bit software over 32bit OS might result issues. Upon installation, a temporary config.dat file is created. But all settings are written in the registry and can therefore be controlled via GPO. The plugin may be installed in the user context HKCU or in machine context (to HKLM). Any significant changes to the plugin's configuration would require the plugin's redeployment. In case the plugin is already installed on the workstation, and the new settings are applied for the plugin's configuration, the following instructions should be executed in order for plugin to work with the new settings: 1. Uninstall the previous plugin via Windows Control Panel - Apps - Lucy Add-in plugin. 2. Set and confirm the new settings for the plugin in Lucy interface. 3. Download the needed plugin from the Incidents tab in Lucy. 4. Install the new plugin. The newer plugin builds have the ability to unistall the plugin by executing the msi file again after the installation. ![msi_uninstallation.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=eeeb3a&media=msi_uninstallation.png) However, in case the previously installed plugin is outdated extremely, it is still recommended to perform the step-by-step redeployment as instructed above. outlook_plugin.txt · Last modified: 2021/09/28 17:24 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 120,
      "source": "https://wiki.thrivedx.com/doku.php?id=o365_plugin",
      "content": "o365_plugin [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • o365_plugin Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 o365_plugin Office365 Plugin This is a dedicated article for the Office365 (XML) Report Plugin. It's supported by the following deployment environments: Office365 Desktop Office365 Web Office365 Mobile Outlook for Mac Office for Mac 2016 Office for Mac 2019 The Outlook 365 button works similar to the Outlook Plugin but mainly used for the web-based Outlook access O365. The set of supported features are listed in the comparison table in the [main article](/doku.php?id=phishing_incidents). The important aspect of the O365 Plugin (XML) is that it works differently compared to the Outlook one (msi). The office365 plugin dynamically reads the settings from the Lucy server and uses the email/settings which are configured there. While the MSI can be configured multiple times and have different settings, the XML plugin will always work only according to the settings that are currently being set within Lucy Incident Plugin Settings. The O365 Button design is also different. The logo button that's presented in the interface does not do the report itself - it initiates the addon. The sliding-in interface from the side is the addon plugin iteself and only the blue-button can perform the report. So it takes more steps to report a message using O365 Report Plugin. ![o365_pl_02.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=885a86&media=o365_pl_02.png) For its work, it is necessary to have a network connection between Lucy and O365 server in case if you use a web browser as a client, and a network connection between Lucy and user's workstation in case if a desktop client is used. The XML is the file that needs to be installed for O365 plugin to work. Deployment Outlook 365 sequence: Individual Installation Step 1 Go Incidents > Download Plugin, choose an option \"Microsoft Outlook 365\", your browser will download an XML file ![o365_pl_01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=95e1a5&media=o365_pl_01.png) Step 2 Go to MS Outlook - [https://outlook.live.com/owa/](https://outlook.live.com/owa/) Step 3 Open any email and press \"Get Add-ins\" as it described on the screenshot below ![scr_o365_settings_04.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=410d96&media=scr_o365_settings_04.png) Step 4 Go to \"My add-ins\" and upload the Plugin's XML file ![scr_o365_settings_05.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=59a078&media=scr_o365_settings_05.png) Step 5 The Warning message would appear, press Install ![scr_o365_settings_06.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=300&tok=19d4a0&media=scr_o365_settings_06.png) Step 6 Once installed, the Plugin will appear in the custom add-ins section ![scr_o365_settings_07.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=75cf0e&media=scr_o365_settings_07.png) Step 7 Now in email panel, you will see the Plugin's icon, which is the Report Plugin ![scr_o365_settings_08.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=0ba00b&media=scr_o365_settings_08.png) Step 8 To perform a report press the Button and hit \"Send Report\" on the right ![scr_o365_settings_09.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bf9f6b&media=scr_o365_settings_09.png) Centralized O365 Plugin Installation For Multiple Users You can install the O365 plugin for multiple users in the Microsoft 365 admin center: [https://go.microsoft.com/fwlink/p/?linkid=2024339](https://go.microsoft.com/fwlink/p/?linkid=2024339) Step 1 In the admin center, go to the Settings → Integrated apps. ![settingsinap.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0a9f7f&media=settingsinap.png) Step 2 Select \"Upload custom apps\" ![uploadca.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=57952a&media=uploadca.png) Step 3 Select \"Upload manifest file (.xml) from device\", press the \"Choose File\" and upload the Plugin's XML file. After the uploading and validating of the file press \"Next\". ![manifestfile.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=5647af&media=manifestfile.png) Step 4 Select the \"Entire organization\" option and press \"Next\". ![addusrs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5f884d&media=addusrs.png) Step 5 Accept permissions requests by pressing \"Next\" ![acceptpermissionsrequests.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=300&tok=1f501b&media=acceptpermissionsrequests.png) Step 6 Review and finish deployment by pressing \"Finish deployment\" ![finishdeplo.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=07fd29&media=finishdeplo.png) Step 7 When deployment is completed press \"Done\" ![deploymentcompleted.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=3deec4&media=deploymentcompleted.png) O365 Mobile plugin Phishing plugin can be utilized in the O365 Mobile version both on Android and iOS platforms. In order to make the plugin available for mobile applications simply install the XML plugin as described in the according to the section above. After the plugin is deployed for the web version it will automatically appear in the Outlook mobile application. Feel free to contact the support team if any issues occur. It is also possible to deploy O365 XML into Exchange with compatibility mode, the report button will be available for Android & iOS as well. ![mobiledevises.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=34e52c&media=mobiledevises.png) Deployment on Apple Computer Microsoft has \"Office for Mac\" product, which requires the O365 account to run. When you open Outlook application on Mac, it fetches all plugins from the corresponding O365 account and shows them in the interface, so the plugin is available both in the web interface and on Mac. Therefore, you first need to install the plugin in O365 before you set it up on a MAC. Outlook 365 sequence: Go to incidents, press \"Download Plugin\" → \"Microsoft Outlook 365\", your browser will download an XML file Go to MS Outlook - [https://outlook.live.com/owa/](https://outlook.live.com/owa/) Press \"cog\" icon and then \"Manage Add-ins\" Click \"Click here to add a custom add-in\" text right below the page title Upload the XML you downloaded on step 1 Go to any email in your inbox, you will see a little monkey on the top right in email header Press the monkey and hit \"Send Report\" on the right On Macs the \"LUCY\" symbol will be visible on the ribbon menu ![macos.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=196248&media=macos.png) o365_plugin.txt · Last modified: 2022/04/26 21:48 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 121,
      "source": "https://wiki.thrivedx.com/doku.php?id=gmail_plugin",
      "content": "gmail_plugin [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • gmail_plugin Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 gmail_plugin Gmail Plugin & Deployment This is a dedicated article for the Gmail Report Plugin. It's supported only by the Gmail Environment. The Gmail Report Plugin works similar to the Outlook Plugin but is used only within the Gmail client. The set of supported features are listed in the comparison table in the [main article](/doku.php?id=phishing_incidents). Download Gmail plugin archive from Lucy ![gmail_plugin.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=560c44&media=gmail_plugin.png) Unzip the archive, there should be 2 files, \"code.js\" and \"appscript.json\". Go to [https://script.google.com/](https://script.google.com/) → New Project A new tab will open, copy, and paste the content of code.js → Press the Save button. ![gmail_plugin1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ddab87&media=gmail_plugin1.png) Switch to Legacy Editor and navigate to View → Show manifest file - Once ticked, click on editor on the left menu panel, you should now see \"appscript.json\" ![gmail_plugin2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=abb283&media=gmail_plugin2.png) appscript.json should open in the editor. Copy and paste the content of the appscript.json from the downloaded file → Press the Save button. ![gmail_plugin3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=299cf1&media=gmail_plugin3.png) - FYI - If you getting the below error when running the function, kindly ignore it and proceed with deployment. ![gmail_plugin8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=eb464e&media=gmail_plugin8.png) Publish → Deploy ![gmail_plugin4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9da3ed&media=gmail_plugin4.png) ![gmail_plugin5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7ceed8&media=gmail_plugin5.png) ![gmail_plugin6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c8a6c2&media=gmail_plugin6.png) Install this add-on ![gmail_plugin9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=dd5463&media=gmail_plugin9.png) ![gmail_plugin10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=da7fa2&media=gmail_plugin10.png) ![gmail_plugin7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6ac573&media=gmail_plugin7.png) gmail_plugin.txt · Last modified: 2023/02/07 13:22 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 122,
      "source": "https://wiki.thrivedx.com/doku.php?id=sample_plugin_configurations",
      "content": "sample_plugin_configurations [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • sample_plugin_configurations Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 sample_plugin_configurations Sample plugin configurations When configuring Incidents Plugin one has a whole variety of features to choose from. That might be a bit stunning especially when talking about initial integration of the feature into personnel training workflow. However, there are several common use cases for the plugin and in order to make acquaintance with the feature more pleasant, we added some standard configurations below. Start with those and change tool configurations depending on the awareness strategy that you choose. Config.1: All the reports come to Lucy web-interface The standard configuration: all the reported emails (including phishing simulations) will appear under Incidents tab in Lucy web-interface. There are two ways of configuration in such a case depending on the delivery method (HTTP or SMTP). For HTTP delivery method: ![sample_plugin_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=db290a&media=sample_plugin_1.png) For SMTP delivery method: ![sample_plugin_1_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=285684&media=sample_plugin_1_2.png) Please note that the email address should have the domain name which MX records point to LUCY. Config.2: Reports only for real phishing emails in Lucy **Incidents** The reports will appear at Lucy Incidents tab. No phishing simulations will be delivered, only real spam emails reported by the users. There are two ways of configuration in such a case depending on the delivery method (HTTP or SMTP). For HTTP delivery method: ![sample_plugin_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=107fd5&media=sample_plugin_2.png) For SMTP delivery method: ![sample_plugin_2_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=04c373&media=sample_plugin_2_2.png) Please note that the email address should have the domain name which MX records point to LUCY. Config.3: All the reports come to custom mailbox The standard configuration: all the reported emails (including phishing simulations) will be forwarded to the defined mailbox outside Lucy (custom mailbox) ![sample_plugin_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e38056&media=sample_plugin_3.png) One can add several mailboxes divided by the semi-colon (;) to the email field. Reports will be forwarded to all of those. Please note that If Send reports via SMTP feature is enabled one cannot send emails to the same domain (e.g. \"example.com\") anymore: this setting will cause Lucy to intercept all the emails to \"example.com\" domain. Config.4: Reports only for real phishing emails to a custom mailbox The reports will be forwarded to a predefined custom Lucy mailbox and will not appear in Lucy web interface. Only real spam emails will be reported and reports for phishing simulations will be ignored. ![sample_plugin_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0abcac&media=sample_plugin_4.png) Please note that If Send reports via SMTP feature is enabled one cannot send emails to the same domain (e.g. \"example.com\") anymore: this setting will cause Lucy to intercept all the emails to \"example.com\" domain. Config.5: Real spam emails are delivered to a custom mailbox and phishing simulations appear in Lucy web-interface In order for Lucy phishing emails to appear in campaign statistics in Reported section, the simulation emails must be delivered to Lucy. None of the real emails will be forwarded to Lucy Incidents, but one will be able to see which users reported phishing simulations. Please note that such configuration also excludes the possibility of analysis for the reported emails (in case user reports a real spam email) inside Lucy. The reported emails will be forwarded only to the predefined mailbox. ![sample_plugin_5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9ce58e&media=sample_plugin_5.png) Please note that the email address should have the domain name which MX records point to LUCY. Config.6: Reports are delivered to Lucy via SMTP from custom plugin If recipients for some reason stick to using the good old plugin that has been built in the mail client for ages, one may configure Lucy to receive both attack simulations and real phishing reports from 3rd party plugin. ![sample_plugin_6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=816859&media=sample_plugin_6.png) Please note that the email address should have the domain name which MX records point to LUCY. sample_plugin_configurations.txt · Last modified: 2021/09/03 15:28 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 123,
      "source": "https://wiki.thrivedx.com/doku.php?id=language_settings_sample",
      "content": "language_settings_sample [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • language_settings_sample Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 language_settings_sample Language Settings Sample Setting Name Value Thank You Message Thank you very much. The e-mail has been forwarded to your IT department for review. You will be contacted if necessary Thank You Message For Your Software Name Emails Congratulations, you have correctly identified the e-mail as a phishing attempt! It was sent by the Security Team and is harmless Button Message Report Phishing Button Super Tip Use this button to forward suspicious e-mails to your IT department Report Title Report a suspicious e-mail Error Title Application error User Request Message The selected e-mail will be forwarded to your IT department for review and removed from your inbox. Would you like to continue? Deeper Analysis Request Message Have you clicked on a link or opened an attachment? If yes, leave a comment and confirm with \"Yes\" No Selection Message Please select an e-mail Eval Error Message An error has occurred while trying to evaluate the selected e-mail Send Error Message An error has occurred while sending the report Unsupported Message Unsupported Outlook element type (not an e-mail message) Subject Suspicious e-mail forwarded by a user. %subject% Ribbon Label Security For \"Yes\" action Yes For \"No\" action No language_settings_sample.txt · Last modified: 2021/09/23 11:28 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 124,
      "source": "https://wiki.thrivedx.com/doku.php?id=keyboard_shortcut_for_report",
      "content": "keyboard_shortcut_for_report [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • keyboard_shortcut_for_report Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 keyboard_shortcut_for_report Keyboard Shortcut for Report For a more convenient way to report the mail, there is a way to create a keyboard shortcut in Desktop Outlook. First, right-click on the Phishing Addon Button and add it to Quick Access Toolbar. ![report_shortcut_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=550&tok=542520&media=report_shortcut_1.png) The small icon would appear in the Toolbar in the left top corner. ![report_shortcut_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=550&tok=8f1207&media=report_shortcut_2.png) ![report_shortcut_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=550&tok=682597&media=report_shortcut_3.png) By pressing Alt the quick access indicator will show which button is assigned for the Report shortcut. Selecting an email and pressing Alt+3 will report the email keyboard_shortcut_for_report.txt · Last modified: 2021/09/03 15:49 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 125,
      "source": "https://wiki.thrivedx.com/doku.php?id=performance_tests",
      "content": "performance_tests [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • performance_tests Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 performance_tests Maximum number of recipients LUCY is designed to work with over 500'000 parallel recipients on one instance. This will require a [hardware](/doku.php?id=hardware) with sufficient [RAM & CPU](/doku.php?id=hardware). Test your instance If you are not sure if your hardware meets the campaign requirements you can run the build in test module. It allows you to run a performance test in order to verify if your hardware can handle the amount of recipients. It will also check the Campaign Settings. ![perf_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=756303&media=perf_1.png) Once the test has finished, you can see the detailed report which will tell you, how many recipients your sever is able to handle within reasonable time frames. ![perf_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5678bc&media=perf_2.png) Note: Perfomance Test might take a while, so be patient and avoid using the LUCY server during the test. performance_tests.txt · Last modified: 2019/08/12 10:19 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 126,
      "source": "https://wiki.thrivedx.com/doku.php?id=test_mail",
      "content": "test_mail [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • test_mail Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 test_mail Sending a Test Mail LUCY allows you to test email delivery prior to run your campaign. This test can be found in the navigation tab under support/test-email: ![test_email_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d5d6fc&media=test_email_1.png) As a sender you can put any mail address you want. But make sure the mail sender address is not protected (e.g. a SPF entry pointing to a different mail server): a mail sender address like \"test@microsoft.com\" will not work as it will be filtered by Spam filters. We recommend using a mail sender domain that actually points to LUCY (you can [register a domain](/doku.php?id=domain_configuration)). As an alternative you can use a domain that exists, but is not protected (you could use \"test@gaga.com\" for example). test_mail.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 127,
      "source": "https://wiki.thrivedx.com/doku.php?id=s_mime_certificate",
      "content": "s_mime_certificate [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • s_mime_certificate Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 s_mime_certificate S/MIME Certificate Lucy emails (both attack and awareness) can be sent digitally signed using S/MIME method. Lucy can generate digital signature file or use the certificate issued by internal CA. In order to enable S/MIME signature simply proceed to the Mail Settings within the scenario (Attack Settings or Awareness Settings). Check the Use S/MIME Certificate checkbox and upload the certificate file and key file. Click Save. Emails sent within this scenario will be delivered with digital signature. ![smime_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2d8007&media=smime_1.png) Also, Lucy can create self-signed S/MIME certificates that can be also added to the emails. Simply press the Generate Certificate button and fill out the required fields according to the scenario. Click Generate and Save. ![smime_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d9015b&media=smime_2.png) s_mime_certificate.txt · Last modified: 2021/03/05 23:20 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 128,
      "source": "https://wiki.thrivedx.com/doku.php?id=start_a_campaign_campaign_checks",
      "content": "start_a_campaign_campaign_checks [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • start_a_campaign_campaign_checks Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 start_a_campaign_campaign_checks How to Start Your Test Once you have finished configuring the campaign, you can simply press «START» and LUCY will start the website you've configured and send out the emails after a quick check. In LUCY > 3.0 there are 3 Options to start a Campaign: “START” - means the system will attack victims or start the awareness. After pressing \"START\", LUCY will send out all emails to your recipient group(s). RESUME: If you click \"RESUME\" for a campaign that has been started & stopped before (so emails already have been sent out once before), the emails won't be resent (only the webpage will be started again and the links become available again). To resend the emails in such a scenario please use the \"RESTART\" button. If you add new scenario's to a campaign which has been previously started and then click \"START\", only the mails for the new scenario will be sent and the initial scenario will resume. During the time a campaign is stopped, the landing pages won't be accessible and the user will see an error, that can be [customized](/doku.php?id=not_found_pages_404). Once you resume the campaign, all links will work again. “RESTART” - this can be used if you want to reset the campaign statistics and resend the emails to the recipient group again. Attention: all data is lost and cannot be restored if you restart a campaign! Please use \"START - START\" if you want to resume an existing campaign without losing any data. “TEST RUN” means running a live campaign in test mode - i.e. before LUCY 2.7.5 the system uses the admin user's email address for this test run. After the test run is stopped, all test data are removed from the system. The email address for the test runs are configured within /admin/users. After 2.7.5 you can define which email can be used for the test run. ![undefined:testrun2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=14badb&media=undefined:testrun2.png) ![usertestrun.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d49d3c&media=usertestrun.png) The statistics in the test run will not show accurate results. Only when you do a real attack the statistics will show the correct link clicks & success status. How to edit a running campaign If you want to edit a running campaign you can stop the campaign, do the changes and then press \"START - REAL ATTACK\". Do never press restart after editing a campaign. It will empty all results and re-send all emails. If you press STOP, the awareness or phishing website will not be reachable for the time the campaign is stopped. If you start the campaign again LUCY will resume the campaign and continue sending the mails from the point on where you stopped. All stats will remain the same. Please note that in LUCY > 3.3 you will be able to modify a campaign without stopping it. CHECKS THAT CAN BE PERFORMED WHEN STARTING A CAMPAIGN The checks that LUCY runs before starting the campaign are just to verify that the configuration works as expected. The test will run a few minutes - so be patient! ![checks.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=43b64f&media=checks.png) You should always do a test run with a few test users before starting a company-wide attack. LUCY will perform various tests (verify MX settings, lookup host from internet, send a test mail, etc.). During those tests, different connections to and from LUCY will be established. Examples: DNS: Query SPF entry, Query MX Entry SMTP: Sends one test mail to a random Mailinator account with an anonymous hash value that gets deleted via API right after the test is over. HTTP/S: Our server will make an http/https GET request to the configured IP/DNS name and verify if the URL can be reached from the internet. Note: When you let LUCY test the settings, LUCY will make a connection to the internet. No data from your campaign settings will be transferred during those tests. If a test fails, you can click on the corresponding test to see the details: ![accessibility_check.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b53bf9&media=accessibility_check.png) Even if tests fail, you will be able to start the campaign. Just press the \"Start Anyway\" button in such a case. start_a_campaign_campaign_checks.txt · Last modified: 2019/09/10 18:30 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 129,
      "source": "https://wiki.thrivedx.com/doku.php?id=automatically_stop_campaign",
      "content": "automatically_stop_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • automatically_stop_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 automatically_stop_campaign Automatically stop a campaign In case if you are up to create a campaign and you want it to automatically stop when a specific day occurs, it is necessary to check \"Stop the Campaign Automatically\" option and to set a date as it is shown on the screenshot below. ![stop_the_campaign.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=f47c68&media=stop_the_campaign.png) If you want to configure scheduled stop of the campaign for already created campaigns, you need to go to the base settings of a campaign and configure the feature. ![schedule_stopping.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=eddf15&media=schedule_stopping.png) automatically_stop_campaign.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 130,
      "source": "https://wiki.thrivedx.com/doku.php?id=protect_campaign_against_accidental_deletion",
      "content": "protect_campaign_against_accidental_deletion [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • protect_campaign_against_accidental_deletion Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 protect_campaign_against_accidental_deletion Protect a campaign against accidental deletion In case if it is required to protect a campaign from accidental deletion, please go to the base settings of a campaign and activate the corresponding option. Then save the change by hitting the \"Save\" button. ![delete_protection.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=22d479&media=delete_protection.png) protect_campaign_against_accidental_deletion.txt · Last modified: 2019/09/10 18:38 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 131,
      "source": "https://wiki.thrivedx.com/doku.php?id=dealing_with_multiple_languages_in_your_recipient_group",
      "content": "dealing_with_multiple_languages_in_your_recipient_group [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • dealing_with_multiple_languages_in_your_recipient_group Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 dealing_with_multiple_languages_in_your_recipient_group Language attributes in LUCY The application is equipped with 130 standard language attributes. However, we can add any language by request and thus theoretically support all 6500 existing languages worldwide. Existing translations in LUCY LUCY provides attack and awareness templates already translated in different languages: ![template_languages1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=15cafe&media=template_languages1.png) All new templates will be published in English first. They will then be translated into the following primary LUCY languages within a period of 6-8 weeks: German Spanish French Italian Portuguese Secondary languages (languages that have a lower priority and therefore are translated only after 3-4 months) are: Dutch Turkish Danish Chinese (Traditional) Arabic Japanese Russian Other languages can be done on request. Lucy offers the possibility to add a new language to each template within seconds: ![template_languages2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=65bdba&media=template_languages2.png) Configuration of campaigns with multiple languages using recipient groups Introduction: If you create a campaign and want your employees to get the correct language, you won't need to create a separate scenario for each language. LUCY has the ability to dynamically send the correct language template to the recipient, if you have defined the language for each employee in the recipient settings. Step 1: upload a recipient group, where you have the correct language associated with each recipient. The language must be specified in English within the recipient list (if you want a recipient to get a German template, his language attribute must be \"German\" and NOT \"Deutsch\"). If you don't specify a language with the recipient, he will get the base language that was selected when adding a new scenario. ![language_recipients.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d271b6&media=language_recipients.png) Step 2: When you create a new campaign and select a new scenario, LUCY will ask you which base language you want to use. You can only select one base language at this point: ![base_lang.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=56a69c&media=base_lang.png) Step 3: Within the scenario settings you now have the possibility to add further languages. Please select the additional languages for your scenario. ![language_sel.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0724f0&media=language_sel.png) Step 4: When you [edit the landing page](/doku.php?id=edit_landing_page) or [edit the message template](/doku.php?id=mail_settings) you will see a drop-down menu appearing at the top with the additional language you added in the previous step. If the template is already available in the desired language, the according content will appear once you to select the language. If there is no template with the desired language, you will need to create the template yourself first. ![landing_page_language.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=de8f0a&media=landing_page_language.png) Configuration of campaigns with multiple languages using dropdown menus in templates If you don't know the language of the user or allow the users to choose the language themselves, you can work with specific awareness templates. We have different examples within the awareness section that illustrates the technology: ![dwropdownlanguage.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ba2bc2&media=dwropdownlanguage.png) ![dwropdownlanguage2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=05c3de&media=dwropdownlanguage2.png) You can add more languages within the source code (1). Each text in a separate language needs its own div tag (example: <div translate=\"fr\" for the french translation of the text): ![dwropdownlanguage3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=108d73&media=dwropdownlanguage3.png) Next, please open the q0.html file and you can see the following strings there: ![dropdowntemp_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0b9925&media=dropdowntemp_1.png) For the paragraph, the translate attribute is entered. If this attribute = \"en\" - English is implied, similarly for other languages. Then please create and paste this code into the javascript (in any or separate js file): var someelement = $ ('… select the element …'); var lang = $ ('… choose the language …'); someelement.find (\"[translate]\"). not (\"[translate = '\" + lang + \"']\"). remove (); For example: ![dropdown_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4262bb&media=dropdown_2.png) You can create other templates using the same technology. As an alternative, we can create a multi-language dropdown template from any existing template in LUCY. Please contact support@lucysecurity.com for pricing. TRANSLATE TEMPLATES We can translate and proofread any web based template (attack- or awareness) for you. The translation includes the message template and the landing page(s). Pricing per language per web based template: The translation process usually takes around 5-10 days, depending on the length of the template. If you want to translate templates yourself, please go through the following steps: Step 1: Add the according language inside the template and save the template. LUCY will then create a copy of the template in English. You will have to replace the English text then with the desired text in your language. ![lg_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d63021&media=lg_1.png) Step 2: Select the according language (1), select the file inside the course which you want to translate (2) and insert the translated text inside the editor (3). Sometimes it is required to insert the translated text in the source code. Once you inserted the text, please save the template. ![lg_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fb3fed&media=lg_2.png) CREATE CUSTOM TRANSLATED TEMPLATES We can create custom attack or awareness templates for you. Pricing on request CREATE CUSTOM TRANSLATED VIDEOS Please consult [this](/doku.php?id=create_a_custom_e-learning_video) chapter. dealing_with_multiple_languages_in_your_recipient_group.txt · Last modified: 2022/11/03 15:42 by editor5 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 132,
      "source": "https://wiki.thrivedx.com/doku.php?id=backup_restore_your_campaign",
      "content": "backup_restore_your_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • backup_restore_your_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 backup_restore_your_campaign Location of backups All backups are written into the centralized backup directory on LUCY server. The backups can be accessed within the support menu (/support/backups): ![back_upn.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=406622&media=back_upn.png) Downloading a backup You can download the according to backing by clicking on the backup date: ![back_upn2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e2c579&media=back_upn2.png) Backup a mail or web template All Templates (Email, Web, Scenario & e-learning) can be saved or restored using the Backup/Restore function with the corresponding Menu item. Example: Backup & Restore Scenario Templates ![93-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=60c12b&media=93-1.png) Note: please make sure that if you restore a template, that you don't change the naming convention of the archive nor extract any file before restoring it. A backup archive has a syntax like: \"2019-09-07-awareness-templates.zip\". That exact file should be shared between Lucy instances. Backup your campaign You can either backup your campaign or as well create an identical copy of an existing campaign with the backup/restore function (if you don't delete the original campaign and restore your campaign a copy will be created). Example: Backup & Restore Campaigns ![94-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=691ef8&media=94-1.png) During a Campaign Backup the Following Data Is Saved: Campaign Configuration (all settings) Email Template Landing Page Template Awareness Site Template Campaign Stats (from LUCY v. 2.8 on) ![115.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=58853d&media=115.jpg) Copy a campaign LUCY > 3.0 allows you to quickly copy a campaign using the copy button. To copy a campaign first select the checkbox of the campaign(s) that you want to copy and then click \"copy\". LUCY will create a 1:1 copy of your complete campaign and add a number next to the campaign name: ![copycampaign-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9fd8d2&media=copycampaign-1.png) Create a new campaign based on a previous campaign template Create a new campaign based on a previous campaign template: LUCY now allows an administrator to create a template based on a previous campaign. The template consists of all settings including all associated scenario and awareness templates. You can then start a new campaign, using this campaign template You can create a new template by clicking \"save as template\" in the campaign summary page: ![campaign_template.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b73bed&media=campaign_template.png) You find the campaign template on the campaign template settings page: ![campaign_template3-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=95eb3a&media=campaign_template3-1.png) If you start a new campaign, you can then select one of your previously saved campaign templates. Please select \"Start with Default Campaign Template\" to get in the required menu: ![campaign_template4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ffe7ee&media=campaign_template4.png) KNOWN ISSUES Certain data is cross-referenced (e.g. recipient group name). So if you delete that group or copy that backup to a fresh LUCY install, make sure the exact same group name exists. Other data (e.g. your custom landing page, etc. is fully backed up in the ZIP file). The Backup/Restore only works without issues using the same version. You cannot restore campaign data from a lower version into a LUCY with a higher version. Therefore, you need to make sure that you first [Update LUCY](/doku.php?id=updating_lucy) to the latest version before backing up your campaign data. backup_restore_your_campaign.txt · Last modified: 2019/11/22 10:14 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 133,
      "source": "https://wiki.thrivedx.com/doku.php?id=spam_check",
      "content": "spam_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • spam_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 spam_check Introduction Many campaigns fail because the test emails end up in the SPAM folder (e.g. if you define a sender email domain that does not exist, most email servers will reject that email as SPAM. Also, sending an email with a link that contains only an IP address instead of a domain or has certain keywords, may also trigger SPAM filters). There are many reasons for getting filtered and a few things that can be done. More info can be found [here](/doku.php?id=avoid_spam_issues). This SPAM check does not replace the [checklist](/doku.php?id=avoid_spam_issues), but it gives the user a quick indicator about possible issues. What type of SPAM checker tools are build into LUCY? LUCY has two SPAM checks build into the product: A SPAM check that runs automatically when you start a campaign A separate SPAM checker tool that can be started anytime Where is the independent SPAM checker located? If you only want to run a SPAM check without starting the campaign you can go to the navigation item \"Support/Spam Test\" and select the campaign which you want to test against SPAM. What is the LUCY SPAM check doing? The SPAM check is testing your DNS settings (SPF, PTR etc.), see if the IP or domain is listed in any blacklists and verifies if the content of your landing page or message contains any suspicious words that give it a high SPAM rating. How long is the SPAM check running? This depends very much on your settings (advanced settings | Spam Tests): if yoz select \"use full blacklist\" LUCY will test your domain/IP against more than 200 online databases. This can take up to 30 minutes. ![spam_long.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b9b8aa&media=spam_long.png) Why are SPAM filters rejecting an email? Spam filters identify Spam based on a long list of criteria, but generally they consider: Relationship with subscriber Reputation of IP address and sender domain Quality of email subject line, teaser, and content Quality and safety of links in email Presence or absence of images (e.g. tiny size of a tracking images might cause a problem) Ratio of images to text and links to text Inclusion of text version of email etc. How can I get pass the common email defenses like SPAM filters? The goal of a phishing campaign is people testing. So you don't want to spend too much time in creating a hack that allows you to bypass an external email filter (since most email filters are \"black boxes\" the only way of preventing you from being filtered is using some very time consuming trial & error methodology). Therefore we strongly recommend creating a whitelist entry on your SPAM/Email defense solution (whitelist either LUCY's domain or IP). If this is not possible you try a few other things to get a better SPAM score or bypass filters: Use an external mail server Using an external mail server with an existing domain configured could be the easiest and quickest workaround to prevent SPAM issues. Set helo/ehlo SMTP host name in LUCY It is recommended to create a SMTP server name (that is the server name of LUCY). Most SMTP servers will accept your mail if you simply have a reverse DNS entry. It does not have to match the domain name on your e-mail address. Some SMTP servers will reject mail if the reverse DNS doesn't match the HELO/EHLO hostname used in the connection. If your mail server's hostname is mail.example.com then your reverse DNS, MX record, HELO/EHLO, and SMTP greeting banner should all be mail.example.com as well. According to RFC 2821 the SMTP client MUST, if possible, ensure that the domain parameter to the EHLO command is a valid principal host name (not a CNAME or MX name) for its host. If this is not possible (e.g., when the client's address is dynamically assigned and the client does not have an obvious name), an address literal SHOULD be substituted for the domain name and supplemental information provided that will assist in identifying the client. An SMTP server MAY verify that the domain name parameter in the EHLO command actually corresponds to the IP address of the client. You can save this under the mail Settings: ![mail_set1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=96845b&media=mail_set1.png) Review Your Email Content Spam filters consider a long list of criteria when judging the “spamminess” of an email. They’ll weigh each factor and add them up to determine a Spam score which then determines whether a campaign will pass through the filter. They might look for spammy phrases like “CLICK HERE!” or “FREE! BUY NOW!”. Then they'll assign points every time they see one of those phrases. Certain criteria get more points than others. Here’s a sample of criteria from SpamAssassin: Talks about lots of money (.193 points) Describes some sort of breakthrough (.232 points) Contains urgent matter (.288 points) Money back guarantee (2.051 points) LUCY allows you to Review the mail Content with the local SPAM assassin engine: ![mail_set2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6bc40a&media=mail_set2.png) Use a Corporate Email Account as Your Sender Address If you use a major ESP and send email using personal email addresses such as paul@yahoo.com or paul@aol.com, ISPs like Google will block your email. Why? Yahoo and AOL tell them to! The solution is to use your corporate email address or a domain owned by you. But please watch out: if your Company domain is \"mycompany.com\", you probably won't be able to use this domain as a sender as spoofing attempts are most likely detected if your domain has a SPF entry. You can validate this here: [https://mxtoolbox.com/spf.aspx](https://mxtoolbox.com/spf.aspx) Use Descriptive Text Instead of URLs as Link Text Spam filters try to block phishing attacks where attackers encourage readers to click on a well-known text URL that links to a different URL (attacker website). For example, a victim of a phishing attack would see \"[http://chase.com](http://chase.com)\" in an email but upon clicking the link, they would be directed to \"[http://attackerwhostealsyouridentity.com](http://attackerwhostealsyouridentity.com)\". Because of this shady tactic, you should avoid using URLs as link text. Instead, use descriptive text. Make Sure You Are Not on Blacklists If you are sending from your own IP address, you can use tools like MX Toolbox ([https://mxtoolbox.com/blacklists.aspx](https://mxtoolbox.com/blacklists.aspx)) or LUCY's build in checks to verify and get alerted if your IP gets on a blacklist. It Matters Where You’re “From” Mailbox providers evaluate more than just the sender’s IP, domain and content. They also pay attention to your \"From\" field addresses. Therefore avoid obscure From field names, such as: “1338sdsd8@domain.com”, “noreply@domain.com”. Use clear, trustworthy From field names, such as: “contact@”, “newsletter@”, “support@”, feedback@” Keep the Format Simple Avoid the use of background colors, large or unusual fonts, or more than one font. In other words, don't make your email look like an advertisement or a brochure. Avoid coding sloppy HTML - usually from converting a Microsoft Word file to HTML. Avoid creating an HTML email that’s nothing but one big image with little or no text. Spam filters can’t read images, so they assume you’re a spammer trying to trick them. Using the word “test” in the subject line. Agencies can run into this issue when sending drafts to clients for approval. Limit the Number of URL Links Spam filters are wary of link-laden messages because spammers tend to scatter links around their messages, hoping that the reader will click on at least one. Create a Unique Subject Title In your e-mail header, include something unique to the recipient that's unlikely to be in a Spam message. Examples could include your company name, the name of one of your target's competitors, or the name of a person with whom the target is already familiar. Review Your Sending Method and Ask Your Client to Whitelist the IP Sending a test to multiple recipients within the same company might cause some problems. That company’s email firewall often assumes it’s a Spam attack. To perform a phishing attack, you might need to whitelist LUCY's IP on the remote firewall or SPAM filter. Optimize your DNS settings Don't use an existing common domain name (like apple.com) already reserved by a third party. Never use a domain that does not exist. Reserve a similar domain name or one that relates to the service you describe in the email (example: get-your-secure-mail.com). Set an MX, A & a SPF record for the domain you use in the test that all point to LUCY for that domain. Enable [LUCY's DKIM feature](/doku.php?id=dkim_support) and save the corresponding DNS txt record. Also check: Did you use an email address with a domain that points to a different MX record? If you use attacker@gmail.com as an example for the sender most email servers will block that email since LUCY is not the official email server for this service. Watch out when you spoof your own domain Did you define your own company domain as a sender? Example: You try to phish your employees with the domain mycompany.com which is actually the official domain for your company? The problem is that there might be a DNS record (example SPF) that defines which mail server is allowed to send mails on behalf of this domain. If such a record exists your email server will deny emails coming from a different server using this domain. The solution is: If you still want to perform a phishing test, with a domain like the one from your company, we recommend reserving a similar domain like “my-company.com” or strategically place a typo like “myconpany.com”. Most users won’t recognize the difference and you'll have an additional feature to test awareness. Set a PTR (reverse DNS) Some SPAM filters like [http://www.spamcannibal.org/](http://www.spamcannibal.org/) will put an IP address without a valid PTR & A-Record on a blacklist. To prevent this, we recommend defining a PTR (reverse DNS) for the IP address where LUCY is installed and sending mails. This must be a unique FQDN (like testing.example.com). You still will be able to associate more than one domain with LUCY. But it is only possible to define one PTR per IP. The PTR record can only created by your provider or us (in case you order our VPS). Avoid using a tracking image in the mail (Do not click: \"track opened mails\") Tracking images (the small size) lead to a higher SPAM score. So try to uncheck this option in case you get filtered. Avoid using advanced LUCY Features like BeEF Framework The [BeEF Framework](/doku.php?id=beef_integration) is often detected by scanners that follow the links. This will raise the chance your mail gets flagged as SPAM. Test your IP & Domain reputation If you mails still get flagged you can test your domain/reputation (see details in this article: [https://sendgrid.com/blog/5-ways-check-sending-reputation/](https://sendgrid.com/blog/5-ways-check-sending-reputation/)). Don't send too much at the same time If you send hundreds of mails without throttling down the delivery you might get flagged as SPAM very quickly. Please use the [scheduler](/doku.php?id=scheduler) to slow down mail delivery. What is the best test procedure with LUCY to identify the source of SPAM issues? Step 1 - TEST MAIL Send to the desired recipient a [test mail](/doku.php?id=test_mail) using a sender with a 3rd party domain name that has no SPF (e.g. \"test@gaga.com) or a valid domain configured on LUCY. ![tstmail.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1eb488&media=tstmail.png) The test mail is always a text only mail with no suspicious content. If the test mail does not arrive it is possible that the email filter is blocking any mail communication from an unknown IP (if there is no known activity log about that IP in the internet). In such a case you can either try to configure an [external mail](/doku.php?id=using_an_external_mail_server_or_web_proxy) server. Step 2 - IDENTIFY THE ISSUE THAT TRIGGERS THE EMAIL FILTER Start altering the message & domain settings: it is very important that you slowly start altering the settings in order to identify the reason for getting filtered. One of the first changes you might want to try is playing around with different domain names (e.g. a different domain as a [sender mail](http://phishing-server.com/PS/doc/dokuwiki/doku.php?id=mail_settings&s[]=domain), the using a different domain for the landing page and maybe also just use a link with an IP address only). If there is no effect in using different domain names make sure that the domain settings are correct. Keep the mail & landing page as simple as possible in the beginning and then start adding content. Step 3 - TEST RUN After you identified and removed the issues that caused the mails to get filtered we recommend doing a test run. The test run should be done with one target email accounts to see if the email gets filtered and how the link is accessed (sometimes a SPAM filter can automatically access the link in the email before the user can. This will make it impossible for LUCY to know if the link was really clicked). Step4 - REAL CAMPAIGN Once you started the campaign you might still have a situation where mails get filtered. To investigate this: First check if the mail got send by clicking on the message log in the left navigation panel within a campaign ![mail_set3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=300&tok=16f97d&media=mail_set3.png) Then check if there was a communication error by clicking on the error log in the left navigation panel within a campaign ![mail_set4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=300&tok=fbe47b&media=mail_set4.png) There are three possible message scenarios in case mails are still being filtered: a) No mails send: then you won’t see anything in the message log b) Mails send – but with error: then you will see an error in “Errors” c) Mail send – no error: mail communication has been established and mails have been accepted for delivery In case of \"c\" (if there is was no obvious error) you have two possibilities: 1) You know that the SMTP communication works and LUCY's IP is not filtered by any 3rd Party product. Therefore you experience a configuration issue in the campaign which causes the mail to get filtered (like using a spoofed sender domain which has an SPF record, using a sender domain that points to a different MX record or has no valid MX record at all or creating a campaign that gets filtered because of the SPAM score). Also make sure you even created a [message template](/doku.php?id=mail_settings) in the campaign). If the test mail does not go through: make sure port 25 is opened on your router/firewall and mails do not get filtered by SPAM filters. In case the firewall configuration is not allowing LUCY to send mails, you might also configure LUCY to use an external mail server. See [Configuration of using a pre-paid, external mail server (via HTTP)](/doku.php?id=mail_delivery_methods_in_lucy#configuration_of_using_a_pre-paid_external_mail_server_via_http). ![mail_communication_issues:testmail.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d33b21&media=mail_communication_issues:testmail.png) 2) Investigate your [settings](/doku.php?id=i_started_my_campaign_-_but_no_mails_get_send_and_i_see_no_error) Known Issues with Microsoft, Gmail etc. Some providers will block all mails or automatically flag them as SPAM from any new mail server that has no activity logs in the internet (like Microsoft or Gmail). Microsoft Points out that any new mail server will have a higher likelihood of getting blocked ([https://mail.live.com/mail/troubleshooting.aspx](https://mail.live.com/mail/troubleshooting.aspx)). In any case you could also request to get whitelisted (here a link for Microsoft: [https://support.microsoft.com/en-us/getsupport?oaspworkflow=start_1.0.0.0&wfname=capsub&productkey=edfsmsbl3](https://support.microsoft.com/en-us/getsupport?oaspworkflow=start_1.0.0.0&wfname=capsub&productkey=edfsmsbl3)) Note: If you are sending emails from a new or “cold” IP address, abrupt spikes in email sending volumes can harm your IP’s reputation. To prevent this, you need to warm your IP address up gradually over time to establish your IP address as a legitimate email sender among Internet Service Providers (ISPs). Properly warming up your IP address is a crucial step in building your email sending reputation and improving delivery performance. The key to warming your IP address is to spread out your initial sends over multiple days. How do I improve my Sender Score? Your Sender Score can affect your deliverability in a few ways. Senders with scores below 70 generally have emails coming from their IP aggressively filtered – your emails are more likely to end up in junk folders. Senders with scores above 70 generally have filtering applied to individual emails and campaigns, rather than their IP address. There are several things you can do to improve and maintain a good Sender Score. Maintaining consistent sending volumes and schedules, staying off blacklists, and warming your IP address are all great ways to keep your Sender Score healthy. spam_check.txt · Last modified: 2020/08/07 13:01 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 134,
      "source": "https://wiki.thrivedx.com/doku.php?id=links_in_preview_mode",
      "content": "links_in_preview_mode [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • links_in_preview_mode Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 links_in_preview_mode What can be previewed? You have the possibility to preview the templates in LUCY: Email Templates Landing Page Templates Awareness Website (e-Learning) Templates Template section that allows previews: Landing Page & Email Templates are stored in /admin/settings/scenario-template/ Awareness Templates are stored in /admin/settings/awareness-template/ How to preview a template? Click on the preview button within the template section of LUCY: ![preview1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f0fd41&media=preview1.png) Additionally, you can also preview the templates within a campaign: ![preview2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e9deec&media=preview2.png) URL's and variables in preview mode Landing Page preview: the URL in the Preview mode is a different one than the URL generated by the system during the attack. Let's assume you created a domain called example.com and one landing page file called index.html. Then the final link sent to the recipient will be \"[http://example.com/randomized](http://example.com/randomized) value\" (index.html gets replaced by \"randomized value\" to track the clicks of the user). Previewing links in a mail template: links in an email template in preview mode won't work (you will get redirected to an error page). If you want to test the functionality, either use the [test mode](/doku.php?id=start_a_campaign_campaign_checks) or place your user in a test recipient group and start the campaign with the test group. Variables: variables in preview build get populated with dummy values. For example, the %name% variable will always get replaced with \"Jon Doe\". links_in_preview_mode.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 135,
      "source": "https://wiki.thrivedx.com/doku.php?id=advanced_information_gathering",
      "content": "advanced_information_gathering [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • advanced_information_gathering Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 advanced_information_gathering Background Info It is increasingly important for enterprises to thoroughly educate employees on the dangers of using Web browsers. Employees should be aware of acceptable use policies and Internet access security processes. With LUCY you are already able to perform phishing attack simulations and tell if users click on a potential phishing link. But how can an organization determine whether the user's browser is configured using safe settings? If the user accesses the link from a corporate PC, you might be able to answer this question. But what if the user accesses the corporate email from his private workstation or mobile device? One answer is the Advanced Information Gathering, a security testing framework that helps companies deliver effective user awareness training surrounding these issues. By using techniques similar to common drive-by Malware, testers can assess the security of a target’s internal environment, bypassing the hardened perimeter. Unlike other security frameworks, Advanced Information Gathering looks past the hardened network perimeter and client system and examines exploitability within the context of the one open door: the web browser. Advanced Information Gathering can be used to \"safely\" expose Web and browser-based vulnerabilities like cross-site scripting (XSS) using client-side attack vectors. If a user clicks on a link that Advanced Information Gathering put there, it will hook the user's browser into the Advanced Information Gathering server which is now also part of LUCY. The tool can also issue commands to the browser, such as redirection, changing URLs, generating dialogue boxes and more. It has the ability to run Malware on the hooked browser IP address and use it as a launching point to infiltrate other computers on the same network, effectively spreading the Malware. With the integration of Advanced Information Gathering into LUCY, companies can now answer two main questions: Would an employee fall for a phishing attack? And if they do, would their browser security settings have prevented more damage from browser exploitation type Malware? Advanced Information Gathering setup in LUCY As Advanced Information Gathering is running in the background of a phishing landing page it only will work in scenario's, where a landing page which the user can access, is activated. To enable Advanced Information Gathering go into the Base Settings of the campaign, select the scenario in which you want to activate it and then go to scenario settings. At the bottom, you will find a checkbox \"Advanced Information Gathering\" which you need to activate. ![aig.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8018a8&media=aig.png) advanced_information_gathering.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 136,
      "source": "https://wiki.thrivedx.com/doku.php?id=configuration_for_clients_that_cannot_click_on_links_in_mails",
      "content": "configuration_for_clients_that_cannot_click_on_links_in_mails [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • configuration_for_clients_that_cannot_click_on_links_in_mails Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 configuration_for_clients_that_cannot_click_on_links_in_mails Initial Position There are different reasons why the automatic link creation with %link% may not suit your needs: Some clients might not want to use the long randomized URLs because users might easily spot them as phishing emails. Certain environments do not permit users to click on a link in an email and access the internet. This could be in an infrastructure where access to the internet is only granted using a 3rd party product like a terminal server or a Citrix client. Since LUCY generates a very long random string to track users, it would be very hard for the client to memorize such a link and then type it in the browser or a 3rd party product manually. Other companies might have a hardened browser configured on the client which has no associations with hyperlinks in emails and therefore needs to be started manually. To solve the issues above we have implemented the possibility to manually define the links for recipients. Example Configuration: Creating Manual Links for Groups Let's assume you have 60 employees in 3 different departments called HR, IT & MARKETING. Access via internet is only possible via Citrix Client - therefore links in emails won't work and the user needs to type the link manually in the Citrix Session. Now you want to track, how many employee of each department clicked on that phishing link. You would then create 3 recipient groups on LUCY called HR, IT & MARKETING. For each group, you define a unique link (example: \"marketing\"; Do not use any special characters in that link & if you specify this, please make sure it is unique across all recipients in the scenario). ![conf_client_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=513ba6&media=conf_client_1.png) When LUCY sends out the email the final link to your landing page will be \"yourdomain.com/marketing\" (see screenshot below). ![124.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bcabfe&media=124.jpg) This gives you the possibility to track in statistics, how many recipients have accessed that link. Of course, you won't be able to match the email address with the link click. Still you have an overview of how many people might have fallen for a specific scenario. Example Configuration: Manually Creating a Unique Link for Each User in Bigger Campaigns The manual link creation can also be used to track individual users in bigger campaigns. This requires that every user gets a unique link. With smaller campaigns, you can simply type those links in the web form of each recipient and save them. For larger campaigns, you could use tools like Excel and the CSV/TXT Import feature in the recipient groups to make this easier: Step 1: Load your emails and other recipient info into an Excel sheet (separated by \":\") as described [here](/doku.php?id=add_mail_recipients). Step 2: In the column where the hyperlink goes, write your own custom hyperlink, followed with a number (like \"link1). Step 3: Use the Excel auto-fill feature ([http://www.excelfunctions.net/Excel-Autofill.html](http://www.excelfunctions.net/Excel-Autofill.html)) to fill up the column with a sequential number. ![manual_links.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=00bfe8&media=manual_links.png) Step 4: Save the Excel sheet as a text file, delete all the empty TAB spaces and upload the file to LUCY. ![manual_links2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b60c4b&media=manual_links2.png) configuration_for_clients_that_cannot_click_on_links_in_mails.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 137,
      "source": "https://wiki.thrivedx.com/doku.php?id=smishing",
      "content": "smishing [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • smishing Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 smishing Background Info Smishing (short for SMS Phishing) is a variant of phishing email scams that uses Short Message Service (SMS) systems to send out bogus text messages. Also written as SMiShing, SMS phishing made recent headlines when a vulnerability in the iPhone's SMS text messaging system was discovered that made smishing on the mobile device possible. Smishing scams frequently seek to direct the text message recipient to visit a website or call a phone number. At which point, the person being scammed is enticed to provide sensitive information such as credit card details or passwords. Smishing websites are also known to attempt to infect the person's phone with Malware. SMS phishing uses cell phone text messages to deliver the bait, persuading people to divulge their personal information. The \"Hook\" (method used to capture people's information) in the text message may be a website URL. LUCY offers the possibility to simulate such attacks. To create a smishing campaign is the same as creating a regular [Phishing Campaign](/doku.php?id=create_your_first_phishing_campaign). The only difference is that within the message template (former e-mail template) you have to select SMS instead of email as a delivery method. How is LUCY sending SMS? LUCY has a built-in API that will connect to a centralized LUCY gateway when initializing SMS delivery. The gateway will first verify if the LUCY client has sufficient credits and is allowed to send SMS. If all checks pass, our gateway will connect to an international provider using a second API (MessageBird). This provider will send messages with the settings defined in your LUCY server. Considerations American Clients: In the United States, specific numbers are to be used with our platform under the 10DLC regime that requires registering numbers and using them for approved purposes. Numbers and fees associated with the 10DLC regime are paid for and managed by ThriveDX Enterprise. From a regulatory perspective, a 10DLC number is approved and assigned to a specific corporate entity for specific appropriate purposes. Broader 10DLC overview as follows - [https://support.messagebird.com/hc/en-us/articles/208747865-United-States-10DLC-FAQ](https://support.messagebird.com/hc/en-us/articles/208747865-United-States-10DLC-FAQ) Under this regulatory regime, there are no acceptable use agreements with specific carriers in the same way that using a credit card does not require an individual agreement with every business - the 10DLC number approved and used for specific purposes is like a passport as a verified credential to use an asset for a specific reason. Similarly, a 10DLC number is revoked if the number operates for purposes outside of its stated and approved purposes. This is the same as if a mail server spoofs email senders, and the same as having your passport no longer recognized as valid. Other Countries: Similarly, nations the world over have their own specific and differentiated regulatory requirements. These can limit everything from sender names, to times of day when messages are permitted, to whether links are permitted in messages, to if numbers can be ‘spoofed’. For any of the above reasons, messages might not be delivered. In case of doubt, before testing, please consult the list of country restrictions here - [https://support.messagebird.com/hc/en-us/sections/360000108538-Country-Restrictions-and-Regulations](https://support.messagebird.com/hc/en-us/sections/360000108538-Country-Restrictions-and-Regulations) Requirements In order to use the smishing feature in LUCY, you need a: a) commercial license (Pro / Elite) b) sufficient balance Q&As Where can I see my current assets available for this feature? You can find your current credit under settings/licence: ![smishing_camp_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=17e569&media=smishing_camp_1.png) How do I add credits? You have a button next to the balance which enables you to buy more credits directly within the LUCY GUI. How many credits do I need? One SMS costs 15 cents (USD). How do I get a commercial license? After deciding which [pricing model](/doku.php?id=lucy_pricing) you need you can [purchase](/doku.php?id=how_to_purchase_lucy) and [activate](/doku.php?id=how_to_activate_lucy) lucy in order for this feature to work. Setup A Smishing Campaign is not different from a [regular phishing campaign](/doku.php?id=create_your_first_phishing_campaign). Most templates can be used in the same way. The difference is only the delivery method: within the scenario (Base Settings –> Scenario Settings –> Message Settings) you can use as a delivery method either \"mail\" or \"sms\". Choose \"SMS\". As a sender, you can put a name or phone number (use always the phone number with the country code: example 49 xxx). The actual phone number should have no \"00\" and \"+\" in front, i.e. 41796959611 (41 - Switzerland country code) and not 0041796959611 or +41796959611. See [https://en.wikipedia.org/wiki/List_of_country_calling_codes](https://en.wikipedia.org/wiki/List_of_country_calling_codes) ![smishing_camp_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3b9673&media=smishing_camp_2.png) If the phone number is saved in the recipient's contacts, it will show the corresponding contact information upon arrival of the SMS. ![smishing2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d37010&media=smishing2.png) Next, you will need to enter the phone number in your recipient's list. Don't forget to also set the correct language (the language should match the language chosen in General Settings (Base Settings –> Scenario settings –> Base Settings). ![smishing3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a35054&media=smishing3.png) Automated URL Shortening When you place the %link% variable within the message body and your scenario uses a public domain name, it will automatically be shortened. The link will look like \"[http://is.gd/9VjDKF](http://is.gd/9VjDKF)” to fit into one text message. If you use an IP address for your landing page the link will be not shortened. Known Issues Issues with specific countries: in certain countries, SMS spoofing will not work at all or SMS might only arrive if the sender is using a different country code. For example: in Belgium, the SMS sender will get replaced by a general number like \"8850\" when using a different country code. Issues with Delivery (sender):This usually means, that your provider did not accept your senders ID. Try different variations to solve this. Example: if your sender number is 0041793531111 (where 0041 is the country code, 79 the prefix and 3531111 the phone number) you could try to send as +41793531111 or 0041793531111 or +41.793531111. If all variations do not work, please leave the sender field empty. Our message provider will then replace it with the default sender name. If the message gets successfully delivered with the default message, you can try to enter your own sender name (e.g. Jon Smith) instead of a phone number. Issues when spoofing with same provider: Spoofing a message within same provider within the same country might not work. For example: if you want to send a spoofed message from a cell phone using “o2” to another cell phone using “o2” the message won't arrive. But if you send the same message from a phone using “telekom” to a cell phone using “o2” it will work No credit: In order to use the Smishing feature you will need enough credits. To see your current balance go to the license page in LUCY. Issues with delivery (recipient number): sometimes the message is not delivered, because the phone number under the recipient is saved with the wrong format. Make sure recipients phone number always has the country code included. Issues with specific countries: in certain countries SMS spoofing will not work at all or SMS might only arrive if the sender is using a different country code. Example: in Belgium the SMS sender will get replaced by a general number like “8850” when using a different country code. Delivery issues (content): Unfortunately some operators block links in SMS sometimes (for example, in Russia it's nearly impossible to send a link in SMS). You could try to remove http link or create a plain SMS without a link to test this feature. For further info please check out the support section at: [http://support.messagebird.com/hc/en-us](http://support.messagebird.com/hc/en-us) smishing.txt · Last modified: 2023/03/06 12:38 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 138,
      "source": "https://wiki.thrivedx.com/doku.php?id=dkim_support",
      "content": "dkim_support [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • dkim_support Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 dkim_support DKIM Background Info: DKIM attaches a new domain name identifier to a message and uses cryptographic techniques to validate authorization for its presence. The identifier is independent of any other identifier in the message, such in the author's From: field. DKIM is a way of 'signing' emails to prove they came from you. It is a form of email authentication that works via a digital signature and makes it easier to identify spoofed emails. The sending mail server signs the email with the private key, and the receiving mail server uses the public key in the domain's DNS information to verify the signature. One domain can have several DKIM keys publicly listed in DNS, but each matching private key is only on one mail server. When you send emails through the LUCY mail server and have this option enabled, they will be automatically signed. Setup DKIM in LUCY Step 1: Within the message template click on DKIM support and save the changes. A DKIM info box will appear: ![dkim.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=aaea77&media=dkim.png) Step 2: Then copy the key and create an according DNS entry. Here is how the correct DNS entry looks like with namecheap.com: ![dkim_settings.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=81a99a&media=dkim_settings.png) Other configuration links for different providers: 1&1: [http://help.1and1.com/domains-c36931/manage-domains-c79822/dns-c37586add-or-remove-txt-records-a792509.html](http://help.1and1.com/domains-c36931/manage-domains-c79822/dns-c37586add-or-remove-txt-records-a792509.html) Bluehost: [https://my.bluehost.com/cgi/help/559](https://my.bluehost.com/cgi/help/559) Cloudflare: [https://support.cloudflare.com/hc/en-us/articles/200168696-How-do-I-add-DKIM-records](https://support.cloudflare.com/hc/en-us/articles/200168696-How-do-I-add-DKIM-records)- Dreamhost: [http://wiki.dreamhost.com/DKIM](http://wiki.dreamhost.com/DKIM) Hostgator: [http://support.hostgator.com/articles/hosting-guide/lets-get-started/dns-name-servers/manage-dns-records-with-hostgatorenom](http://support.hostgator.com/articles/hosting-guide/lets-get-started/dns-name-servers/manage-dns-records-with-hostgatorenom) HostMonster: [https://my.hostmonster.com/cgi/help/559](https://my.hostmonster.com/cgi/help/559) Hover: [https://help.hover.com/entries/21204757-how-to-edit-dns-records-a-cname-mx-txt-and-srv](https://help.hover.com/entries/21204757-how-to-edit-dns-records-a-cname-mx-txt-and-srv) Namecheap: [https://www.namecheap.com/support/knowledgebase/article.aspx/9214/31/email-authentication-tool-in-cpanel-spf-records](https://www.namecheap.com/support/knowledgebase/article.aspx/9214/31/email-authentication-tool-in-cpanel-spf-records) Network Solutions: [http://www.networksolutions.com/support/how-to-manage-advanced-dns-records/](http://www.networksolutions.com/support/how-to-manage-advanced-dns-records/) Step 3: Validate your settings. Add a mail from a site like [http://dkimvalidator.com/](http://dkimvalidator.com/) into your DKIM test recipient group, then start the campaign with that group and analyze the results on [http://dkimvalidator.com/](http://dkimvalidator.com/). If you configured LUCY and the DNS entry correctly, you should see a status like in the following screenshot: ![dkim_test.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b63dbe&media=dkim_test.png) Note: Lucy sends out DKIM-signed emails with \"mail.domainkey_\" part built-in and before LUCY 3.2 there is no configuration option to change that. Same for the DKIM header, which is fixed. DKIM Header Explanation Here is an example DKIM signature (recorded as an RFC2822 header field) for the signed message: DKIM-Signature a=rsa-sha1; q=dns; d=example.com; i=user@eng.example.com; s=jun2005.eng; c=relaxed/simple; t=1117574938; x=1118006938; h=from:to:subject:date; b=dzdVyOfAKCdLXdJOc9G2q8LoXSlEniSb av+yuU4zGeeruD00lszZVoG4ZHRNiYzR Let's take this piece by piece to see what it means. Each \"tag\" is associated with a value. b = the actual digital signature of the contents (headers and body) of the mail message bh = the body hash d = the signing domain s = the selector v = the version a = the signing algorithm c = the canonicalization algorithm(s) for header and body q = the default query method l = the length of the canonicalized part of the body that has been signed t = the signature timestamp x = the expire time h = the list of signed header fields, repeated for fields that occur multiple times We can see from this email that: The digital signature is dzdVyOfAKCdLXdJOc9G2q8LoXSlEniSbav+yuU4zGeeruD00lszZVoG4ZHRNiYzR. This signature is matched with the one stored at the sender's domain. The body hash is not listed. The signing domain is example.com.This is the domain that sent (and signed) the message. The selector is jun2005.eng. The version is not listed. The signing algorithm is rsa-sha1. This is the algorith used to generate the signature. The canonicalization algorithm(s) for header and body are relaxed/simple. The default query method is DNS. This is the method used to look up the key on the signing domain. The length of the canonicalized part of the body that has been signed is not listed. The signing domain can generate a key based on the entire body or only some portion of it. That portion would be listed here. The signature timestamp is 1117574938. This is when it was signed. The expire time is 1118006938. Because an already signed email can be reused to \"fake\" the signature, signatures are set to expire. The list of signed header fields includes from:to:subject:date. This is the list of fields that have been \"signed\" to verify that they have not been modified. dkim_support.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 139,
      "source": "https://wiki.thrivedx.com/doku.php?id=scan_for_mail_addresses",
      "content": "scan_for_mail_addresses [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • scan_for_mail_addresses Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 scan_for_mail_addresses E-Mail Scanning Feature (E-Mail Spider) Under the recipient tab you find an option to scan for mail addresses on the internet. ![scanmails.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=8b488a&media=scanmails.png) We use different sources to search email addresses. scan_for_mail_addresses.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 140,
      "source": "https://wiki.thrivedx.com/doku.php?id=predefined_campaigns_sample_campaign",
      "content": "predefined_campaigns_sample_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • predefined_campaigns_sample_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 predefined_campaigns_sample_campaign Configuration of your campaign When you start a new campaign you may either use: the Expert Setup: allows you to manually define each setting the Setup Wizard: guides you through the installation start with predefined campaign template: will do the whole configuration for you. risk assessment: create a real risk profile for your company by using recommended attack scenarios. Please don't forget to choose Industry type. Mail & Web Test: this scenario template is required for Mail & Web Filter test, which allows seeing what type of files can be accessed within the company network through mail or web. What is the predefined configuration? If you want to create a campaign in less than 3 minutes you could also use the predefined campaigns. The predefined campaign has only a very small set of templates available which you can select. But after entering the recipient and sender details it will do the remaining configuration by itself. ![predef.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8f7a56&media=predef.png) predefined_campaigns_sample_campaign.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 141,
      "source": "https://wiki.thrivedx.com/doku.php?id=pagination_and_sorting_options_for_any_list_based_view",
      "content": "pagination_and_sorting_options_for_any_list_based_view [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • pagination_and_sorting_options_for_any_list_based_view Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 pagination_and_sorting_options_for_any_list_based_view LUCY offers the possibility to set a pagination option on each page with multiple list entries. The default pagination view is currently 10 entries per page. The user has the ability to change that pagination to 10, 50 or 100 entries per page. Additionally, all views are sortable. By default, the entries in each lists are displayed in the order of the creation date. By clicking on the according to navigation item in the title you can sort the list in alphabetical order. ![pagination.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3f2fb0&media=pagination.png) pagination_and_sorting_options_for_any_list_based_view.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 142,
      "source": "https://wiki.thrivedx.com/doku.php?id=campaign_supervision_workflow",
      "content": "campaign_supervision_workflow [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • campaign_supervision_workflow Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 campaign_supervision_workflow Background Info The approval workflow idea is based on the 4-eyes principle when creating a new campaign: a campaign administrator will be responsible for creating a specific phishing or e-learning campaign. But he will only be able to start the campaign after a different user (the supervisor) reviewed the campaign and approved it. If the supervisor rejects the campaign a ticket with an expiry date will be created within the campaign for the administrator. Configuration 1. create a user with the \"user\" role. You don't need to assign any special rights here. ![sworkf_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7082a0&media=sworkf_1.png) 2. create a supervisor with \"supervisor\" role and assign the \"user\" as a supervised user ![sworkf_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0b28d3&media=sworkf_2.png) - add both \"user\" and \"supervisor\" to the same campaign. The \"user\" should have at least \"start/stop campaign\" permissions If the user needs to configure the campaign he also needs configuration access as well), the \"supervisor\" can have full permissions set for the campaign. ![sworkf_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=87ccb6&media=sworkf_3.png) ![sworkf_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=769ba4&media=sworkf_4.png) ![sworkf_5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b90c51&media=sworkf_5.png) 3. If the campaign admin will log in under his \"user\" role and starts the campaign it will be put on hold, until \"supervisor\" approves the launch. On this step, you can see a new entry created on \"Supervision Log\". Within the campaign dashboard, you will also see a small turning wheel that indicates that the campaign is waiting for approval ![sworkf_6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=461b50&media=sworkf_6.png) ![sv2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=196483&media=sv2.png) 4. If the supervisor now logs in under his \"supervisor\" role and navigates to the same campaign he will be able to either reject or approve the campaign by clicking on the according to buttons: ![sworkf_7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0a786e&media=sworkf_7.png) If the supervisor rejects the campaign he will be able to create a ticket with an end date and severity that allows him to communicate the required changes: ![sworkf_8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6bf7d3&media=sworkf_8.png) In case of a rejected campaign the campaign admin with his \"user\" role will be able to see the desired changes within the supervision log: ![sworkf_9.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3c316a&media=sworkf_9.png) ![sworkf_10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=50368e&media=sworkf_10.png) Once the changes have been done the step 4 can be repeated again until the supervisor approves the campaign campaign_supervision_workflow.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 143,
      "source": "https://wiki.thrivedx.com/doku.php?id=ldap_integration",
      "content": "ldap_integration [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • ldap_integration Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 ldap_integration LDAP Integration LUCY has an LDAP API, which allows the administrator to: import recipients and users directly from your directory service authorize users in the Admin console, Enduser portal and Awareness website Sync tool for Windows Besides LDAP API, there is a tool that can be run on Windows machines to sync your Active Directory groups with Lucy, see more [here](/doku.php?id=ldap_synchronization_tool). Setup To configure the LDAP connection please go in LDAP settings (Settings → LDAP Settings) and save your server and authentication details. Within the field \"Server Address\" you need to enter your LDAP server IP address, within the field \"Server Port\" you should enter TCP/UDP port for LDAP (default port 389 or port 636 for LDAPS) and if \"Use Global Catalog\" and \"LDAP over SSL\" are enabled you should use the ports 3268 and 3269. Within the field \"Domain Controller\" you need to enter your LDAP Server Root RDN (example: \"dc=domain,dc=com\") and within the field \"Login\" you need to enter user RDN (example: \"cn=Administrator,cn=Users\"). ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) LUCY summarizes the values for \"Domain Controller\" and \"Login\" on the backend. So if the LDAP login is \"cn=ldap,cn=user,dc=domain,dc=com\", put \"dc=domain,dc=com\" to the \"Domain Controller\" and \"cn=ldap,cn=user\" to \"Login\". Fields \"Group Object\" and \"User Object\" are used to filter search from the LDAP objects. Objects within \"Group Object\" and \"User Object\" fields need to be separated with a comma and one space. You may use regular Active Directory search filters, for example: (|(objectClass=inetOrgPerson)(objectClass=user)) ![ldap_settings_7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f97cc9&media=ldap_settings_7.png) Also in the \"LDAP settings\" you can use Global Catalog: ![ldap_settings_8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=072b05&media=ldap_settings_8.png) Note: The Global Catalogue allows the connection only via two special ports: 3268 or 3269. To use this functionality, please configure one of these ports for connection to AD. The global catalog (GC) allows users and applications to find objects in an Active Directory domain tree, given one or more attributes of the target object. The global catalog contains a partial replica of every naming context in the directory. It contains the schema and configuration naming contexts as well. This means the GC holds a replica of every object in the directory but with only a small number of their attributes. The attributes in the GC are those most frequently used in search operations (such as a user's first and last names or login names) and those required to locate a full replica of the object. LDAP Update Preferences This menu allows configuring automatic synchronization of LDAP recipients and users that were imported into LUCY. Automatic synchronization happens every 10 minutes. Note, these settings are global and all of the Autoupdate LDAP preferences per a group of recipients will be ignored with the settings enabled (see [Autoupdate LDAP Recipients](/doku.php?id=ldap_integration#autoupdate_ldap_recipients)). ![ldap_update.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e79faf&media=ldap_update.png) LDAP update preferences contain 2 options for automatic action. It is possible to configure LUCY to add users and recipients automatically or to wait for the Administrator's decision. ![choice.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a8c2dc&media=choice.png) In case if you select \"Waiting for administrator's decision\", an Administrator will have to go to a control list and decide whether it is necessary to delete\\add a recipient\\user or not. ![control_list.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=31aaf5&media=control_list.png) It is also possible to customize the pattern of automatic import of users from an Organization Unit. Lucy will scan a Distinguished Name (RDN) of the OrganizationUnit (eg. OU=Admins, DC=domain, DC=tld) and automatically bind a role to an imported user according to the settings that can be seen on the screenshot below. ![ldap_settings_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=be1515&media=ldap_settings_2.png) The user default role defines a role that will be assigned to users with manual import users from LDAP. ![default_role.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=7fc66c&media=default_role.png) Multiple LDAP integrations LUCY allows to configure and use multiple LDAP servers. The dedicated section in the LUCY web interface can be found in the Settings: ![ldap_multi_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=59a2a8&media=ldap_multi_1.png) Pressing \"Add Server\" would result the usual LDAP server configuration page to appear. Configure the additional LDAP Server and press Save. It will appear in the list of available LDAP Servers ready for sync and import. ![ldap_multi_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=cdbfdc&media=ldap_multi_2.png) After setting-up multiple LDAP Servers, there would be a dropdown menu in the import settings of the recipient group to chose the specific server for the import. ![ldap_multi_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ad1a6e&media=ldap_multi_3.png) The same choice is available for the Autoupdate feature. ![ldap_multi_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9f4840&media=ldap_multi_4.png) Importing recipients in a group for a campaign When you create a new recipient group you will be able to use the previously configured LDAP connection to query and import all the users/groups: ![ldap_settings_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=16dc63&media=ldap_settings_3.png) ![ldap_settings_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f21737&media=ldap_settings_4.png) LUCY will automatically match the user's attributes in the LDAP directory with the available recipient attributes in LUCY. If \"Update existing recipients\" option is enabled, recipient attributes will update during LDAP import if these recipients have been imported before. Autoupdate LDAP Recipients It is possible to configure LUCY autoupdate recipient list of from an LDAP Server. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Note, this configuration will not be active if there are global settings for recipients import disabled. ![autoupdate_recepients.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=eb40b9&media=autoupdate_recepients.png) You may use regular Active Directory search filters, for example: (|(objectClass=inetOrgPerson)(objectClass=user)). See [Microsoft Documentation](https://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx) for more info. The Base DN of the query must be specified in the following format: dc=MyDomain,dc=com. Importing users via LDAP If you want to import users who can access LUCY using their AD account, you can go into the user settings menu (Settings > Users) and click the according button: ![ldap_settings_6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=60d7f5&media=ldap_settings_6.png) By default, the User role will be assigned for all imported users. Which LDAP fields can be used? LUCY will automatically match the user's attributes in the LDAP directory with the available recipient attributes in LUCY. Those are: 1.Email - Recipient's e-mail address 2.Name - Recipient's name 3.Location - Recipient's location 4.Phone - recipient phone number To configure other recipient fields to match Active Directory attributes go to the LDAP Fields Associations page (Settings > LDAP Settings > LDAP Fields Associations): ![ldap_fields_associations.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=e9ee75&media=ldap_fields_associations.png) ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Recipient's custom fields are also supported. Login Lucy through Active Directory (LDAP) Lucy allows users to login with their Active Directory account. Admin console & Enduser portal In order users to login Admin console or Enduser portal you should first import accounts to Lucy from your Active Directory. See [this](/doku.php?id=ldap_integration#importing_users_via_ldap) section for more details. ![](https://wiki.thrivedx.com/lib/images/smileys/question.svg) Please note that to login Lucy you should use an appropriate user role that can be configured within the LDAP Update Preferences page (Settings > LDAP Settings > LDAP Update Preferences). User roles used to access Admin console: Administrator, View, User, Supervisor. User role used to access Enduser portal: Enduser. Awareness website Lucy has an option to send a non-unique link for awareness website, but it requires users to login with their AD account to access the website. It also requires endusers to be imported into Lucy (see previous section). To enable LDAP login for Awareness website, tick the option \"Enduser Direct login\" within the Base Settings in your campaign: ![enduser_direct_login.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=5d44df&media=enduser_direct_login.png) and the option \"Do not send emails\" within the Website section of the Awareness settings: ![do_not_send_emails.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=7a336f&media=do_not_send_emails.png) This enables the Global Link that can be used to access Awareness website after successful login via LDAP: ![global_link.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=dd2a1f&media=global_link.png) The option \"Do not send emails\" disables sending awareness emails from campaign, that allows to share the Global Link through your own channel. Troubleshoot problems An error occurs during the connection to Azure AD LDAPS: Error connecting to LDAP Server: 80090308: LdapErr: DSID-0C090446, comment: AcceptSecurityContext error, data 52e, v2580 Solution: Invalid Login or Password. Login must be in the format CN=<username>OU=<ou>, for example: CN=UserTest,OU=AADDC Users An error occurs when logging in at /admin or /user using Azure AD account: Invalid LDAP user login or password. Solution: Please make sure you have enabled your NTLM password hash synchronization. Users cannot bind using secure LDAP or sign in to the managed domain, until you enable password hash synchronization to Azure AD Domain Services. Follow the instructions below, depending on the type of users in your Azure AD directory. Complete both sets of instructions if you have a mix of cloud-only and synced user accounts in your Azure AD directory. [Instructions for cloud-only user accounts](https://aka.ms/aadds-pwsynccloud) [Instructions for synced user accounts](https://aka.ms/aadds-pwsync) ldap_integration.txt · Last modified: 2021/11/04 18:57 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 144,
      "source": "https://wiki.thrivedx.com/doku.php?id=azure_synchronization",
      "content": "azure_synchronization [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • azure_synchronization Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 azure_synchronization Azure AD Synchronization Starting from version 4.8, LUCY allows to import recipients from Azure AD and provides a possibility to automatically synchronize a recipient group with your Active Directory. Active Directory settings can be found under Settings > Azure AD Settings. ![azure_sync_01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=bc9f1b&media=azure_sync_01.png) Please refer to this wiki article to establish the connection to Azure AD: [Configuration of OAuth 2.0 for Microsoft Azure](/doku.php?id=microsoft_azure_oauth_2_0) Make sure to configure an additional URI for import feature in the Azure application settings: https://<lucydomain>:<port>/oauth <lucydomain> - your Lucy's system domain, for example access.cloudserver.com <port> - custom port (in case one's configured), for example 8443. If the default port is being used, there's no need to specify it in the URI. As soon as the connection has been configured to Azure AD, you may be able to import recipients and users directly from your directory service. Azure AD Update Preferences This menu allows configuring automatic synchronization of Azure AD recipients and users that were imported into LUCY. Automatic synchronization happens every 10 minutes. ![azure_sync_02.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8ca2c1&media=azure_sync_02.png) Azure AD update preferences contain 2 options for automatic action. It is possible to configure LUCY to add users and recipients automatically or to wait for the Administrator's decision. ![azure_sync_03.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5318b3&media=azure_sync_03.png) In case if you select \"Waiting for administrator's decision\", an Administrator will have to go to a control list and decide whether it is necessary to delete\\add a recipient\\user or not. ![azure_sync_04.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=14b48a&media=azure_sync_04.png) In Azure AD update preferences it can be determined the behavior for deleted recipients: Automatically Delete Inactive Never Delete Recipients Waiting for Administrator's decision ![azure_sync_05.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9ab816&media=azure_sync_05.png) It is also possible to customize the pattern of automatic import of users from AD. Lucy will scan Azure AD and automatically bind a role to an imported user according to the set filters. ![azure_sync_06.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5c5f6b&media=azure_sync_06.png) Importing recipients in a group for a campaign When you create a new recipient group you will be able to use the previously configured Azure AD connection to query and import all the users/groups: ![azure_sync_09.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=03575b&media=azure_sync_09.png) LUCY will automatically match the user's attributes in the active directory with the available recipient attributes in LUCY. If \"Update existing recipients\" option is enabled, recipient attributes will update during Azure AD import if these recipients have been imported before. Autoupdate Azure AD Recipients It is possible to configure LUCY to autoupdate recipient list from Active Directory. ![azure_sync_08.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=05fd42&media=azure_sync_08.png) You may use regular Active Directory search filters. For detailed information about the filtering of the Azure AD please refer to [Microsoft Documentation](https://docs.microsoft.com/en-us/graph/query-parameters#filter-parameter). Azure Filter Search Examples Scenario 1. There is a need to import only the recipients who have the email domain ending with a specific set of characters. For example, @lucysecurity.company would require the following search query: endswith(mail,'@lucysecurity.company') ![azure_filter01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f01d8f&media=azure_filter01.png) Scenario 2. Importing recipients with a name that starts with \"User\" would require the following search query: startswith(displayName,'User') ![azure_filter02.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6d131f&media=azure_filter02.png) Scenario 3. Filter value to get all users with a location 'Ext1': officeLocation eq 'Ext1' ![azure_filter04.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4dfbf0&media=azure_filter04.png) Scenario 4. If phone number of the recipient is not equil to '911' then the following query is being used: mobilePhone ne '911' ![azure_filter05.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4479be&media=azure_filter05.png) Importing Users from Azure AD If you want to import users who can access LUCY using their AD account, you can go into the user settings menu (Settings > Administrative Users) and choose (Import > Azure AD): ![azure_sync_07.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3432fc&media=azure_sync_07.png) The same user import menu can also be accessed via (Settings > Azure AD Settings > Import Users From Azure AD). This way 5 types of Users can be imported: The users for the admin portal of LUCY web interface: Administrators View users Users Supervisors And also the members for the End-User Portal: Endusers [End User e-learning portal](/doku.php?id=end_user_e-learning_portal) ![azure_import_roles.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=e9364f&media=azure_import_roles.png) For more information regarding different user roles please refer to the article [User Management](/doku.php?id=user_management) Which AD fields can be used? LUCY will automatically match the user's attributes in the Azure active directory with the available recipient attributes in LUCY. The default mapping between Lucy and Azure is presented below: LUCY Azure Description Applying For E-mail mail Recipient's e-mail address User & Recipient Import Phone mobilePhone Recipient's phone number User & Recipient Import Full Name displayName Recipient's full name User & Recipient Import Staff Type jobTitle Recipient's staff status Recipient Import Location officeLocation Recipient's location Recipient Import Division department Recipient's working department Recipient Import Language preferredLanguage Recipient's language Recipient Import Lastname surname Recipient's second name Recipient Import Firstname givenName Recipient's first name Recipient Import azure_synchronization.txt · Last modified: 2021/12/16 13:35 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 145,
      "source": "https://wiki.thrivedx.com/doku.php?id=antivirus_spam_protection_interval_setting",
      "content": "antivirus_spam_protection_interval_setting [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • antivirus_spam_protection_interval_setting Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 antivirus_spam_protection_interval_setting Sometimes a remote Firewall, Spam filter or Virus Filter might automatically scan all the URL's within a link. As a result you end up with false positives and LUCY will show all link clicked (success). To avoid such automatic link requests by some 3rd party application you can enable the antivirus/firewall protection and LUCY will ignore all* GET requests for the first 30 or 60 seconds: ![block_clicks.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=deb73f&media=block_clicks.png) *Note: it starts to work starting from the 2nd recipient that clicks the link too fast. For example, you have 4 recipients, run a campaign, you get the first click within the 1st minute: it gets counted, but the system moves to the alerted state, the 2nd click within 1-minute interval turns on the protection and drops the click. All further clicks under 1 minute will be dropped as well. We are counting the 1st click, because it is useful for testing purposes. If you want to ignore all clicks within chosen interval, you can tick the \"Block all clicks within protection interval\" checkbox. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) You should enable both options when starting a campaign in production. Important notice for Office 365 email customers If your recipients use Office 365 with Exchange Online Protection (EOP) and you cannot add Lucy's IP address or sender's email address to the trusted list, then please configure the Antivirus Protection Interval to \"1 minute\" and activate the option \"Block all clicks within protection interval\". Besides, you will have to set up a [Scheduler](/doku.php?id=scheduler) for your campaign in order to distribute the sending of phishing\\awareness emails during a longer period of time and not all at once. This is because Office 365 usually comes with [Advanced Threat Protection (ATP)](https://docs.microsoft.com/en-us/microsoft-365/security/office-365-security/office-365-atp) enabled which scans each incoming email for malicious and phishing. Such actions made by ATP might trigger Lucy to count clicks and visits. antivirus_spam_protection_interval_setting.txt · Last modified: 2019/10/13 11:05 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 146,
      "source": "https://wiki.thrivedx.com/doku.php?id=victim_reminder",
      "content": "victim_reminder [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • victim_reminder Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 victim_reminder Reminders The victim reminder can be configured within a campaign: ![reminders_01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=11f351&media=reminders_01.png) It allows the administrator to define, that recipients who did not click on a link, did not start a training or did not finish a training, get a reminder message after X days (to be specified). Please select one or all checkboxes in order to enable the reminder. Remind users who did not click a scenario link days after message is sent. The system looks for users who did not click on the link in the phishing email and send this email again. Remind users who did not start a training days after message is sent. The system looks for users who did not open the Awareness website and resend the awareness email. Remind users who did not finish a training days after training is started. The system looks for users who did not finish the quiz and resend the awareness email. Note: Reminder send date is being set in the moment of email sendout. In case if reminder is set when all of the email are already sent, reminder will not be activated. Reminder Template By default, the reminder resends the same phishing or awareness email after the specified amount of time. You can configure a custom template for each type of reminder by clicking the \"Template\" link. ![reminders_02.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=88ebf1&media=reminders_02.png) Reminder Message Variables You may use the following variables in the template: %link% — unique page URL for the recipient. %link-awareness% — link to the awareness website. You should configure & enable the awareness website in campaign * settings for this feature to work. %name% — recipient name %email% — recipient email address %division%, %location%, %staff-type%, %comment% — recipient related information. %gender(\"MALE ADDRESSING\", \"FEMALE ADDRESSING\")% — recipient gender %time(FORMAT, OFFSET, ZONE)% — Time based variables. FORMAT - date/time format. OFFSET - date/time offset in minutes, can be negative (example: \"-60\" - means 60 minutes prior to mail submit time, \"20160\" - 20160 minutes = 14 days). ZONE - time zone name (example: US/Central). Example: %time(\"l, H:i\", \"0\", \"Europe/Zurich\")% — will output \"Monday, 09:20\" - exact time of email submission in Europe/Zurich zone Example: %time(\"Y/m/d H:i:s\", \"60\")% — will output \"2016/12/12 10:20:30\" - 1 hour ahead of email submit time Please note, that these variables are not available in CSS and Javascript files. victim_reminder.txt · Last modified: 2021/11/05 15:57 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 147,
      "source": "https://wiki.thrivedx.com/doku.php?id=test_run",
      "content": "test_run [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • test_run Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 test_run With the TEST RUN you can run live campaign in test mode. You are able to define the account under which the test runs. The system will automatically create a group for you and associating a name (which is based on the campaign name) with the emails you provided: ![testrun.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d20bf8&media=testrun.png) The statistics in test run will not show accurate results. Only when you do a real attack the statistics will show the correct link clicks & success status. test_run.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 148,
      "source": "https://wiki.thrivedx.com/doku.php?id=api",
      "content": "api [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • api Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 api LUCY REST API - Background Info Lucy API is a RESTful web service. The API does not keep the client's state and all requests can be performed in any order. Within LUCY the API can be activated under settings/API. You will need to specify the remote IP(s) which is allowed to communicate with the API. ![api1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=720def&media=api1.png) Requirements Some general requirements are: The service uses JSON as the only data interchange format, all API responses are in JSON, most request parameters are expected to be in JSON. All requests to API should have a \"Content-Type\" header set to \"application/json\". All requests should be performed strictly over HTTPS protocol. Plain HTTP requests to API will be rejected by server. Authentication Lucy API uses JWT (JSON web tokens) for authentication. The token should be obtained by sending an Authentication request before issuing any other requests (see Authentication request description below for details). The obtained authentication token should be specified in the \"Authorization\" HTTP header with \"Bearer\" scheme, for all subsequent requests. The only request that doesn't require authentication is the authentication request itself, all other requests require a token. Example: Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI 6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONF h7HgQ The client should store the token locally and keep it until the token expires. The expiration date and time is specified in the token header. Please check out [https://jwt.io/](https://jwt.io/) for JWT token formation description and libraries for various programming languages. Resources Resources are used when getting some data from Lucy API or creating/changing some objects in Lucy. Resource structure is always the same and does not depend on the type of action you do - whether you are getting information from Lucy or creating an object, the object representation doesn't change. For example, campaigns - when you get a list of campaigns or get a single campaign, the structure doesn't differ from what the server expects when you are creating a new campaign. The only difference is links - when you are posting/putting something to API, the server does not expect any links (and ignores them if they are present in request). The links are only used for exposing relations in GET requests. For specifying relations with other existing objects in system, please use integer IDs. API Records Return Limit All endpoints returning a list of Resources, by default, can return only 100 records. If necessary, this can be changed using request parameters LIMIT and OFFSET. The maximum LIMIT is \"1000\". Any LIMIT values exceeding 1000 will return maximum of 1000 records. Example of limit customization: {GET /api/campaigns?sort=-created_at&offset=10&limit=10} Example Usage First you need to auth: POST /api/auth HTTP/1.1 Host: phish.local Content-Type: application/json Cache-Control: no-cache {\"email\":\"test@test.com\",\"password\":\"123\"} You will get the token in response, use it in all subsequent requests: {\"token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1MDQ1OTI4OTksImp0aSI6Ik1QbktRTkxscDdrOHh6YzRxenp3ZlhWd085TjRCMFRIZ21UUXpwalFXdVE9IiwiaXNzIjoicGhpc2gubG9jYWwiLCJuYmYiOjE1MDQ1OTI5MDAsImV4cCI6MTUwNDY3OTMwMCwiZGF0YSI6eyJ1c2VySWQiOjIsInVzZXJOYW1lIjoidGVzdEB0ZXN0LmNvbSJ9fQ.2B0SafZcpF-kyN0RqscfAthojX0iaEtcCegAYfZeG6BuBVF3pUxnYgclYqpLUGj57WwEPTdapSc1dqgbwW6l2w\"} Then create a group for example: PUT /api/recipient-groups/ HTTP/1.1 Host: phish.local Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1MDQ1OTI4OTksImp0aSI6Ik1QbktRTkxscDdrOHh6YzRxenp3ZlhWd085TjRCMFRIZ21UUXpwalFXdVE9IiwiaXNzIjoicGhpc2gubG9jYWwiLCJuYmYiOjE1MDQ1OTI5MDAsImV4cCI6MTUwNDY3OTMwMCwiZGF0YSI6eyJ1c2VySWQiOjIsInVzZXJOYW1lIjoidGVzdEB0ZXN0LmNvbSJ9fQ.2B0SafZcpF-kyN0RqscfAthojX0iaEtcCegAYfZeG6BuBVF3pUxnYgclYqpLUGj57WwEPTdapSc1dqgbwW6l2w Content-Type: application/json Cache-Control: no-cache {\"name\":\"test recipient group\"} You will get something like this in response: {\"recipient-group\":{\"id\":262,\"name\":\"test recipient group\",\"usb_attack\":false,\"links\": [{\"rel\":\"self\",\"href\":\"/api/recipient-groups/262\"}]}} Then you may create a recipient in that group: PUT /api/recipient-groups/262/recipients HTTP/1.1 Host: phish.local Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1MDQ1OTI4OTksImp0aSI6Ik1QbktRTkxscDdrOHh6YzRxenp3ZlhWd085TjRCMFRIZ21UUXpwalFXdVE9IiwiaXNzIjoicGhpc2gubG9jYWwiLCJuYmYiOjE1MDQ1OTI5MDAsImV4cCI6MTUwNDY3OTMwMCwiZGF0YSI6eyJ1c2VySWQiOjIsInVzZXJOYW1lIjoidGVzdEB0ZXN0LmNvbSJ9fQ.2B0SafZcpF-kyN0RqscfAthojX0iaEtcCegAYfZeG6BuBVF3pUxnYgclYqpLUGj57WwEPTdapSc1dqgbwW6l2w Content-Type: application/json Cache-Control: no-cache {\"email\":\"oliver@test.com\",\"name\":\"Oliver Test\"} You will get this response: {\"recipient\":{\"email\":\"oliver@test.com\",\"phone\":null,\"name\":\"Oliver Test\",\"staff_type\":null,\"location\":null,\"division\":null,\"comment\":null,\"link\":null,\"language_id\":null,\"recipient_group_id\":262,\"id\":\"158928\",\"last_tested\":null,\"links\":[{\"rel\":\"self\",\"href\":\"/api/recipients/158928\"}, {\"rel\":\"recipient_group\",\"href\":\"/api/recipient-groups/262\"}]}} API End Points The complete list of API End Points supported by LUCY can be found [here](/doku.php?id=api_end_points) Detailed Documentation The detailed documentation for LUCY REST API is available from within the LUCY web interface in the section Settings > API Whitelist > API Documentation. ![api_documentation.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=15731e&media=api_documentation.png) There's also PDF documentation (for v.4.8.3) can be found [here](/lib/exe/fetch.php?media=lucy_rest_api_documentation.pdf). api.txt · Last modified: 2022/03/05 18:12 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 149,
      "source": "https://wiki.thrivedx.com/doku.php?id=api_end_points",
      "content": "api_end_points [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • api_end_points Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 api_end_points LUCY REST API End Points The following table contains the complete list of API End Points supported by LUCY. Every endpoint corresponds to some system resource or action. A dedicated article regarding the [LUCY REST API.](/doku.php?id=api) More detailed documentation for the API usage can be found [here](/lib/exe/fetch.php?media=lucy_rest_api_documentation.pdf). № End Point HTTP Verb Description 1 /api/auth POST Client authentication 2 /api/languages GET Get a list of languages 3 /api/clients GET Get a list of clients 4 /api/clients PUT Create a client 5 /api/clients/:id GET Get client 6 /api/clients/:id POST Save client 7 /api/clients/:id DELETE Delete client 8 /api/recipient-groups GET Get a list of recipient groups 9 /api/recipient-groups POST Create a recipient group 10 /api/recipient-groups/:id GET Get recipient group 11 /api/recipient-groups/:id POST Save recipient group 12 /api/recipient-groups/:id DELETE Save recipient group 13 /api/recipient-groups/:id/recipients GET Get a list of recipients in group 14 /api/recipient-groups/:id/recipients PUT Create a recipient 15 /api/recipients/:id GET Get recipient 16 /api/recipients/:id POST Save recipient 17 /api/recipients/:id DELETE Delete recipient 18 /api/recipient-custom-fields GET Get a list of recipient custom fields 19 /api/recipient-custom-fields PUT Create a recipient custom field 20 /api/recipient-custom-fields/:id GET Get recipient custom fields 21 /api/recipient-custom-fields/:id POST Save recipient custom field 22 /api/recipient-custom-fields/:id DELETE Delete recipient custom field 23 /api/scenario-templates GET Get a list of scenario templates 24 /api/scenario-templates/:id GET Get scenario template 25 /api/scenario-templates/:id DELETE Delete scenario template 26 /api/awareness-templates GET Get a list of awareness templates 27 /api/awareness-templates/:id GET Get awareness template 28 /api/awareness-templates/:id DELETE Delete awareness template 29 /api/attachment-templates GET Get a list of attachment templates 30 /api/attachment-templates/:id GET Get attachment template 31 /api/attachment-templates/:id DELETE Delete attachment template 32 /api/report-templates GET Get a list of report templates 33 /api/report-templates/:id GET Get report template 34 /api/campaigns/templates GET Get a list of campaign templates 35 /api/campaigns GET Get a list of campaigns 36 /api/campaigns PUT Create a campaign 37 /api/campaigns/:id GET Get campaign 38 /api/campaigns/:id POST Save campaign 39 /api/campaigns/:id DELETE Delete campaign 40 /api/campaigns/:id/recipient-groups GET Get a list of recipient groups in campaign 41 /api/campaigns/:id/recipient-groups PUT Add a recipient group to a campaign (recipients will be added to all scenarios in campaign) 42 /api/campaigns/:id/recipient-groups/:recipient_group_id DELETE Delete recipient group from campaign 43 /api/campaigns/:id/status POST Change campaign status. This endpoint is intended to run, stop or restart a campaign; therefore it supports only POST request and only three statuses 44 /api/campaigns/:id/copy POST Copy a campaign with all scenarios 45 /api/campaigns/:id/stats GET Get campaign statistics 46 /api/campaigns/:id/report POST Create a campaign report 47 /api/campaigns/:id/errors GET Get campaign errors 48 /api/campaigns/:id/victims GET Get campaign victims 49 /api/campaigns/victims/:victim_id/re-send/:message_type POST Resend email for the specified victim and message type 50 /api/campaigns/:id/scenarios GET Get a list of scenarios in campaign 51 /api/campaigns/:id/scenarios PUT Create scenario in campaign 52 /api/campaigns/:id/awareness GET Get a list of awareness in campaign 53 /api/campaigns/:id/awareness PUT Create awareness in campaign 54 /api/campaign-custom-fields GET Get a list of campaign custom fields 55 /api/campaign-custom-fields PUT Create a campaign custom field 56 /api/campaign-custom-fields/:id GET Get campaign custom fields 57 /api/campaign-custom-fields/:id POST Save campaign custom field 58 /api/campaign-custom-fields/:id DELETE Delete campaign custom field 59 /api/scenarios/:id GET Get scenario 60 /api/scenarios/:id POST Save scenario 61 /api/scenarios/:id DELETE Delete scenario from campaign 62 /api/scenarios/:id/recipient-groups GET Get a list of recipient groups in scenario 63 /api/scenarios/:id/recipient-groups PUT Add a recipient group to a scenario 64 /api/scenarios/:id/recipient-groups/:recipient_group_id DELETE Delete recipient group from a scenario 65 /api/scenarios/:id/victims GET Get scenario victims 66 /api/incidents GET Get a list of phishing incident reports 67 /api/incidents/:id GET Get incident 68 /api/incidents/:id DELETE Delete incident 69 /api/export/generate POST Export campaign data 70 /api/awareness-certificates/generate POST Request a certificate for victims 71 /api/awareness-certificates/:id GET Check awareness certificate status 72 /api/awareness-certificates/download/:id GET Download the archive with awareness certificates 73 /api/benchmarks GET Get a list of benchmarks 74 /api/benchmarks PUT Create a benchmark 75 /api/benchmarks/:id GET Get benchmark 76 /api/benchmarks/:id POST Save benchmark 77 /api/benchmarks/:id DELETE Delete benchmark 78 /api/domains GET Get a list of domains 79 /api/domains PUT Create a domain 80 /api/domains DELETE Delete domain 81 /api/export/:id GET Get an Export for the specified ID api_end_points.txt · Last modified: 2021/10/07 12:03 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 150,
      "source": "https://wiki.thrivedx.com/doku.php?id=user_reputation",
      "content": "user_reputation [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • user_reputation Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 user_reputation Background Info The user reputation level is a score that gives every user a specific profile based on the number of successful phishing simulations performed against this user. If a user gets a phishing simulations and doesn't fall for it, the level will be 100 (means that the user spotted 100 % of the phishing simulations). So if a user gets 10 phishing simulations, and submits only in 1 simulation a password, the rating is 90%. Configuration The profiles can be configured under the according menu in the settings: ![rep_lvl_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=437735&media=rep_lvl_1.png) You can create different profiles. Each profile can have its own settings which are used to determine, what the reputation type is: ![replevel2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3f3295&media=replevel2.png) The reputation profile also allows you to use a picture (100 x 100 px). ![replevel3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=894dfa&media=replevel3.png) This picture will then appear on the statistics recipient page as well in the awareness end user section: ![enduser_rep.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1d820a&media=enduser_rep.png) Default levels Starting with 4.4, LUCY has 3 default reputation levels saved. They are visible within the recipient stats as soon as the end user profiles are enabled. ![default_levels.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7528eb&media=default_levels.png) user_reputation.txt · Last modified: 2020/08/20 10:37 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 151,
      "source": "https://wiki.thrivedx.com/doku.php?id=risk_assessment",
      "content": "risk_assessment [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • risk_assessment Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 risk_assessment Risk Assessment The Risk Assessment feature is redesigned for LUCY >4.7. To use the feature simply launch Campaign Wizard. On the campaign configuration step expand the Advanced settings and set Company Size and Type. On a template selection step, it is possible to notice an option \"Only display recommended templates according to your industry type and size\". ![size_and_type.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=03e14c&media=size_and_type.png) ![type_and_size.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ace594&media=type_and_size.png) The information below is related to LUCY <4.7. Instead of showing only raw data about how many users have been successfully phished, we can additionally provide a risk assessment methodology in LUCY, that shows the exposure to certain threats. We can classify different types of threats/Likelihoods such as Technical threats (e.g. unsecured windows PC, unsecure browser, etc.), Internal threat (e.g. uneducated user who clicks on certain content) and Externals threats through hackers (latest trends in attacks, e.g. exploiting a specific browser vulnerability). In LUCY we implemented only a part of the 2nd analysis step and in the coming releases, this feature will be improved. Using the risk assessment in LUCY Select the campaign type \"risk assessment\" in campaign wizard: ![risk_assessment.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=43787b&media=risk_assessment.png) Select your company size and industry type. Then you will be presented a recommended set of attack templates: ![risk_assessment2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=446fa2&media=risk_assessment2.png) ![risk_assessment-3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b22084&media=risk_assessment-3.png) Please try to use a variation of different attack types (hyperlink, web-based & file based) to get a better understanding, how your employees react to different threats. You will find the risk specific threats within the campaign statistics under \"risk assessment\". Note: The Risk Assessment functionality is available only on a commercial license and via a setup wizard. risk_assessment.txt · Last modified: 2020/08/07 13:09 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 152,
      "source": "https://wiki.thrivedx.com/doku.php?id=campaign_statistics_-_vulnerable_plugins",
      "content": "campaign_statistics_-_vulnerable_plugins [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • campaign_statistics_-_vulnerable_plugins Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 campaign_statistics_-_vulnerable_plugins Vulnerable Browser | Vulnerable Client Based on the user agent, LUCY will tell you if there is any misuse. A User Agent is a short string that web browsers and other applications send to identify themselves to web servers. A user agent string contains the following information: Mozilla/[version] ([system and browser information]) [platform] ([platform details]) [extensions]. Unfortunately, most browsers falsify part of their User-Agent header in an attempt to be compatible with more web servers. As LUCY also is only able to enumerate major versions (like IE 11) but not minor versions which would show the actual patch status, some results might be false positives. Example: if you don't use the latest IE (e.g. IE10) we will query the CVE database and present all vulnerabilities for IE10 ([http://www.cvedetails.com/vulnerability-list/vendor_id-26/product_id-9900/version_id-138705/](http://www.cvedetails.com/vulnerability-list/vendor_id-26/product_id-9900/version_id-138705/)). But that does not mean the IE is not patched. This only displays all possible vulnerabilities for this browser version. Within the campaign statistics the vulnerable clients are displayed with an exclamation mark: ![vulnerable_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=867fda&media=vulnerable_1.png) campaign_statistics_-_vulnerable_plugins.txt · Last modified: 2019/08/05 17:00 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 153,
      "source": "https://wiki.thrivedx.com/doku.php?id=mail_and_webfilter_test",
      "content": "mail_and_webfilter_test [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • mail_and_webfilter_test Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mail_and_webfilter_test Webfilter and mail filter test The Email and Internet malware protection test gives you an insight at how your mail server and web proxy handles different variations of test files. You can thus see whether potential malicious code, such as Java files, backdoors, scripts, embedded Office Objects are detected and blocked by the filter infrastructure. Based on these results, you can then carry out targeted phishing campaigns. ![webfiltertest.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=74d3f2&media=webfiltertest.png) With our software you can check which file types could potentially enter the company and which are blocked by the security infrastructure. LUCY works with a wide range of file types that can be brought to the end system via e-mail or on a website for download. You can thus see whether potential malicious code, such as Java files, backdoors, scripts, embedded Office Objects are detected and blocked by the filter infrastructure. Based on these results, you can then carry out targeted phishing campaigns. Main Questions answered by this tool: How can malware potentially enter your network? What type of file types can be send as attachments to the end user? What type of file types can be downloaded from a website by the user? Does your internet and mail protection software detect potential malware? Does your internet and mail protection software detect obfuscated malware? How to perform a mail- and webfiltertest Step 1: Select the mail & web filter test ![mailandweb_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c664d2&media=mailandweb_1.png) Step 2: Select a client, make sure the checkbox for the mail- and web filter test is enabled and click save. ![mailandweb_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e09cf1&media=mailandweb_2.png) Step 3: Choose a sender email, from where the mails will be sent. Please choose a sender domain that points to LUCY and where an MX record exists (otherwise the emails will be flagged as spam). Alternatively, you can whitelist the sender domain. However, this only makes sense if the unlocking does not also refer to the mail attachments and lets them through unfiltered. As a recipient choose a mail account on a standard PC from the company you test. The best is to perform this test within a lab/test-pc. Start with sending a plain text email and verify if it arrives. If the plain text email doesnt arrive, you do not need to proceed to the attachment tests. Try different methods to avoid ending up in spam ([Prevent SPAM issues](/doku.php?id=avoid_spam_issues)) ![mailandweb3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5ccf6d&media=mailandweb3.png) Step 4: Choose a domain (1), from where the files can be downloaded. Using an IP address is not recommended, as websites which run on IP's are generally blocked on most webfilters. Please use the [domain API from LUCY](/doku.php?id=domain_configuration), if you shouldnt have a domain yet. Once you have selected a domain, please click on file list (2) ![mailwebfilter4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=50c2fb&media=mailwebfilter4.png) Step 5: Select the categories you want to mail or download. You can select/deselect categories or single files. ![mailandweb4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fc449d&media=mailandweb4.png) Step 6: Once you started the campaign, LUCY will send the recipients the selected files. Every file that has been sent will automatically be displayed as sent (2). But you still manually need to verify, if the email actually arrived and the attachement was included. If it was, you can click on the according cross next to the file (3). If you click on the file name (1), you will be able to download the file. Also here: the file shows as downloaded the moment you clicked that link. But you will need to manually confirm (3) that the file actually could be downloaded. As a result you will get a matrix that shows the infrastructure team, what type of code can get mailed and downloaded in a company environment. ![mailwebfilter6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f9de9a&media=mailwebfilter6.png) How to configure the text of the test categories Go to settings –> scenario templates and edit the mail and web filter test template: ![mft11.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4f0ee1&media=mft11.png) Go to \"file list\" and then click on the \"edit symbol: ![mft12.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c832c7&media=mft12.png) Now you can edit the text of this text class: ![12323.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=713748&media=12323.jpg) Change the payload How to configure the existing payloads of the tests Go to settings –> scenario templates and edit the mail and web filter test template Go to \"file list\" Click on the link of the file you want to edit: ![mft14.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f88685&media=mft14.png) You can now upload/download the file: ![3d23.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ce5fd4&media=3d23.jpg) Additional settings ![mft13.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3685d4&media=mft13.png) 1) Create new file: click on new file 2) Create new class: click on new class 3) Change the order of the tests: select the category, press your left mouse button and move the category in your browser How to create reports or export the data You can export the results to CSV or XML using the export button (1) or create a report using the report button (2): ![mft15.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e484e3&media=mft15.png) mail_and_webfilter_test.txt · Last modified: 2021/09/16 11:00 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 154,
      "source": "https://wiki.thrivedx.com/doku.php?id=training_library",
      "content": "training_library [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • training_library Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 training_library Library setup Setting up the template Go to the settings → Templates → Awareness templates → Edit the library ![edit_aw_temp.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d30f1d&media=edit_aw_temp.png) Click \"Library\" Activate and Deactivate the \"Select All\" checkbox to deselect every default template in the Library. ![click_library.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5522ac&media=click_library.png) Now it is time to build your own library, activate every template you like for it to be in the library. In the example below, there are 7 templates activated. The next step is to go to the \"Content Template\" and to edit static/templates/init.js Make sure that the template names have correct names. The characters should match the names of the templates. In another case, a template with mismatching will not be visible in the Library. For example, the following names are not the same: 01 Mobilgeräten 01 Mobilgeraten Spaces are also important. ![edit_initjs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5100cb&media=edit_initjs.png) It is possible to check the media files added to the Library. ![files_in_the_lib.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e41e39&media=files_in_the_lib.png) It can be seen that 7 \"quiz-question-titles.js\" are in the Library. These files contain the names of the questions. If the number of questions is incorrect, it can cause unreliable statistics in a campaign. You can only experimentally determine which file belongs to which template. The easiest way to do this is: execute step 4 (that is, delete all templates from the library) Go to the \"Edit\" tab and click the \"Save\" button Go to the \"Content Template\" tab, delete all files \"quiz-question-titles.js\" and click the \"Save\" button (Note, that those quiz-quiestion-titles files would be there only in case the Quiz option is enabled for the template in the main edit setting. More details can be found [here](https://wiki.lucysecurity.com/doku.php?id=create_an_interactive_e-learning_template#how_to_create_an_interactive_elearning_page)). Go to the \"Library\" tab, add one template to the library, go to the \"Edit\" tab and click \"Save\" Go to the \"Content Template\" tab and edit the fresh file \"quiz-question-titles.js\". It will have a path \"static/library/1/static/quiz-question-titles.js\". Repeat steps 1 - 4 for any other templates you want to add to the library. The path of the next \"quiz-question-titles.js\" will contain \"2\", then \"3\" and so on. ![files_in_the_lib2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4a132f&media=files_in_the_lib2.png) Creating a campaign We recommend using Wizard since it is quite convenient. ![wzrd_for_lib.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0a0c0b&media=wzrd_for_lib.png) ![edct.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bd9936&media=edct.png) Next, follow the instructions on the screen, fill in the required fields. Using the wizard will help to avoid gross mistakes. There is no need for additional settings if you used the wizard. However, there is the possibility of additional verification of the library configuration. See the following points: Go to \"Awareness Settings\", click on the button \"Edit Awareness Settings\" and go to \"Website\": ![website_lib.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7b16c8&media=website_lib.png) Here are all of the files included in the library: ![files_in_the_lib.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e41e39&media=files_in_the_lib.png) For example, the image above shows the files related to the 2nd template. You can see what this template is by opening the index.html file. Thus, if you want to edit the questions of the 2nd template, you need to open the 2nd file \"quiz-question-titles.js\": ![q_in_the_lib.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f921eb&media=q_in_the_lib.png) Check all of the \"quiz-question-titles.js\" files! It should have questions of the appropriate templates. If something is wrong, it is possible to fix these files right here. Statistics In some time after the start of the campaign, statistics should appear. To check it, go to the Campaign → Statistics → Recipients and click on a user. ![john_stats.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=bc5eae&media=john_stats.png) It is possible to see that John has completed 2 trainings out of 7. Click on the training results to see the details. ![details_on_training_results.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d8c7ec&media=details_on_training_results.png) Export Results You can export results in two ways: \"[Reports](/doku.php?id=create_campaign_reports)\" → button \"New Report\" ![select_this_option.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=15bbcc&media=select_this_option.png) [Exports](/doku.php?id=export_campaign_data) ![exports_lib.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2916c6&media=exports_lib.png) training_library.txt · Last modified: 2021/10/18 15:16 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 155,
      "source": "https://wiki.thrivedx.com/doku.php?id=dlp_string",
      "content": "dlp_string [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • dlp_string Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 dlp_string DLP STRING DLP String option allows to insert specific data into email body. Enable this feature to classify emails. DLP data can contain such data as: Recipient Email Email's SHA256 hash Victim ID Campaign ID DLP String option can be enabled in the Settings → Advanced settings. ![dlp_string.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ccebb8&media=dlp_string.png) Enable this feature if it is necessary to sort victims' replies in the [Mail Manager](/doku.php?id=mail_manager) by folders. It is possible to make the DLP string invisible. To do this, simply set DLP String Font Size to 0px. As soon as enabled, DLP string will be inserted to every email sent from LUCY. dlp_string.txt · Last modified: 2020/08/10 11:34 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 156,
      "source": "https://wiki.thrivedx.com/doku.php?id=pdf_attacks",
      "content": "pdf_attacks [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • pdf_attacks Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 pdf_attacks Background Info Phishers unleash simple but effective social engineering techniques using PDF attachments. If you are creating a PDF document, you can bind other types of files to it as an attachment. One file you can attach is an EXE application. If the PDF contains instructions for a small application, binding the EXE to the PDF can give a user both files at once. Configuration To perform a PDF based attack, you must first select an attack template that contains a malware simulation (e.g. mixed template or file based template). In the next step you can \"hide\" the malware simulation within the scenario settings of the respective template in a PDF. Please go to the settings of the template in the lower area and select the PDF option in the dropdown: ![screen.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8e268e&media=screen.png) Security Update A major security update has been released in the new versions of Adobe Acrobat Reader. Since Aug 2020 builds it is not possible to open the attached \"-.exe\" files. More info here: [https://helpx.adobe.com/acrobat/using/attachments-security-risks-reader-acrobat.html](https://helpx.adobe.com/acrobat/using/attachments-security-risks-reader-acrobat.html) pdf_attacks.txt · Last modified: 2020/09/07 12:06 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 157,
      "source": "https://wiki.thrivedx.com/doku.php?id=awareness_diploma",
      "content": "awareness_diploma [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • awareness_diploma Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 awareness_diploma Background Info This feature allows your employees to print their own certificates of attendance and scores. Configuration The diploma can be edited under Templates→ Awareness Training Diploma: ![diploma.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ff0772&media=diploma.png) Once configured, the users can use this template in their [end user LMS page](/doku.php?id=end_user_e-learning_portal) to create and print their custom certificates: ![diploma2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=83023c&media=diploma2.png) Awareness Training Diploma Variables You may use the following variables in the template: %name% — name of the person who receives the certificate %awareness% — name of the awareness training %gender(\"MALE ADDRESSING\", \"FEMALE ADDRESSING\", \"NO GENDER\")% — recipient gender. The variable is not available for the use in preview mode, since the gender is determined per each recipient in the \"Gender\" attribute of the recipient in Recipient Groups. %score% — score of the person (in the percentage value out of 100%) %date% — date of the certificate %time% — time of the certificate Please note, that these variables are not available in CSS and Javascript files. Alternative training certificate creation Some of the awareness courses have a built-in feature that allows the user to create a training certificate directly within the course. Here is one of many examples in this template: ![example-cert.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=eaef37&media=example-cert.png) awareness_diploma.txt · Last modified: 2023/02/03 12:48 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 158,
      "source": "https://wiki.thrivedx.com/doku.php?id=mail_spoofing_test",
      "content": "mail_spoofing_test [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • mail_spoofing_test Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mail_spoofing_test Background Info Email spoofing is the forgery of an email header so that the message appears to have originated from someone or somewhere other than the actual source. Email spoofing is a tactic used in phishing and spam campaigns because people are more likely to open an email when they think it has been sent by a legitimate source. The goal of email spoofing is to get recipients to open, and possibly even respond to, a solicitation. Configuration The mail spoofing test can be configured under the according menu \"tools\": ![mailspoof_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=58e108&media=mailspoof_1.png) If you want to test your own domains exposure to mail spoofing, please (1) enter the domain name (example.com) and a (2) email address associated with the same domain (e.g. yourname@example.com) and press run. You will see the results at the bottom (3). ![sppof2.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e4568a&media=sppof2.jpg) mail_spoofing_test.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 159,
      "source": "https://wiki.thrivedx.com/doku.php?id=url_shortening",
      "content": "url_shortening [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • url_shortening Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 url_shortening SMS URL Shortening When you place the %link% variable within the message body and your scenario uses a public domain name, it will automatically be shortened. The link will look like “[http://is.gd/9VjDKF](http://is.gd/9VjDKF)” to fit into one text message. If you use an IP address for your landing page the link will be not shortened. URL Shortening with landing pages Within the scenario settings you can choose an URL shortening service from the dropdown menu. This only works for domain names (not IP's): ![undefined:url_short.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=434d9f&media=undefined:url_short.png) URL Shortening and false-positives The URL-shortening services may check the links. As a result, incorrect statistics will be displayed. To avoid this issue, please use [Antivirus/Firewall Protection Interval](/doku.php?id=antivirus_spam_protection_interval_setting), which can be set in the Base settings of the campaign. ![firewall_protection.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d82d4c&media=firewall_protection.png) url_shortening.txt · Last modified: 2022/06/15 13:30 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 160,
      "source": "https://wiki.thrivedx.com/doku.php?id=client_setup",
      "content": "client_setup [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • client_setup Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 client_setup Create a Client Create a client or choose the built-in client (a client can be your own organization or the company who asked you to perform a phishing test). ![new_campaign_client.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=8f1bf1&media=new_campaign_client.png) New clients can be created under \"clients\". In LUCY web interface this is created under settings –> clients. ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=158e28&media=new_client.png) Where to use clients? Restricted dashboard access: you can use the clients to create [view only accounts](/doku.php?id=user_management) which are associated with those clients. Client-specific reports: view all client-related reports ![client_specific_reports.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=2ac8cf&media=client_specific_reports.png) Client-specific campaigns: view all client-related campaigns ![client_specific_campaigns.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=2ed6c4&media=client_specific_campaigns.png) Branches In order to manage client-related Administrative Users, recipient groups and campaigns Branches functionality is introduced in Lucy starting from the 4.8 version. Branches can be created for a client under Branches and may represent practically anything - from a tier of management to physical locations, to languages, to organization divisions, to openly defined security levels. Branches are used to divide access to campaigns, custom templates and recipient groups between Lucy Users related to different clients. Campaigns, templates and groups related to a certain branch of a certain client will be seen only by the User associated with the same branch of the same client. How to use branches Every client can have multiple branches which are defined inside the client record in the Branches tab. Simply type in the name of the new branch into the accordant fields and click Create. ![create_branches_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=f96319&media=create_branches_new.png) Any piece of confidential data stored in Lucy can be associated with Branches: recipient groups, campaigns, templates and reports. Also, For example, proceed under Settings → Recipients and access any recipient group. On the Edit Group tab choose Client and Branch in accordant drop-downs. Hit Save. ![branches1_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=65e233&media=branches1_new.png) Now the recipient group is associated with the branch chosen and will be only available to Users from the same branch. In order to associate a template with a client, choose the template under Settings → Templates and click Edit. Then choose Client and Branch in accordant drop-downs. Hit Save. ![template_branch_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=7696f1&media=template_branch_new.png) Finally, in order to make use of the Branches, an Administrative User should be created under Settings → Administrative Users → +New User. Fill in the details and choose User from the Role drop-down and choose Client and Branch in accordant drop-downs. Hit Save. ![user_branch_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=1200&tok=032ffe&media=user_branch_new.png) Now that User will see only data associated with attributed branches and campaigns created by this User will be automatically associated with one of the branches available for him/her. client_setup.txt · Last modified: 2022/11/02 16:24 by editor5 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 161,
      "source": "https://wiki.thrivedx.com/doku.php?id=mail_manager",
      "content": "mail_manager [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • mail_manager Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mail_manager Mail Manager The mail manager allows interactive communication with the recipient. First of all, this type of communication must be activated in the campaign. Please make sure the MX record for the sender email points to LUCY. See [response detection chapter](/doku.php?id=response_detection). ![rainloop2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0eae1e&media=rainloop2.png) You can the see email replies in the mail manager which is accessible here: ![rainloop1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3ea821&media=rainloop1.png) ![mmanager.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=37fd85&media=mmanager.png) The multi-staged interactive communication can then continue within the mail manager. Responses Social engineering is possible within campaigns, in the \"Responses\" section. Three options are available: Reply Download Delete ![responses.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fca320&media=responses.png) It is also possible to review the content of the email by clicking on its timestamp. ![timestamp_reply.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9c04b7&media=timestamp_reply.png) ![content_of_reply.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=07a456&media=content_of_reply.png) In case if the \"Reply\" button is clicked, a pop-up window will appear. It allows composing the reply. ![compose_reply.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=0086ab&media=compose_reply.png) mail_manager.txt · Last modified: 2021/04/14 09:52 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 162,
      "source": "https://wiki.thrivedx.com/doku.php?id=automated_backup",
      "content": "automated_backup [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • automated_backup Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 automated_backup Automated Backup Starting from Lucy 4.6 has been added the ability to create and configure automatic backups. The administrator can configure automatic backups that are stored in local directory /opt/phishing/files/db-backups The Automated Backup Settings is available under the Settings menu: ![autobackup_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8a08e3&media=autobackup_1.png) Automated Backup Settings Backup Target You can select which components of the system should be backed up. Click \"Deselect All\" to turn off the backup task: ![autobackup_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=596fce&media=autobackup_2.png) Database - creates an SQL dump of the whole Lucy database; Files - creates an archived copy of the folder “/opt/phishing/files” that contain campaigns data, templates and etc. (it is recommended to use with Database); Rainloop - creates an archived copy of settings and all folders of the Mail Manager; Config - creates an archived copy of Lucy's configuration files (web server, mail server and etc.); Code - creates an archived copy of Lucy's source code and executables. Backup Frequency The frequency of running the backup tasks can be set to various intervals: Daily Weekly Monthly Yearly ![autobackup_3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9278ca&media=autobackup_3.png) Backup Time You can choose a convenient time to run the backup task. Depending on the components selected for backup, the task may take a long time, so we recommend that you schedule the time when the server load is minimal (usually at night). Backup Days Specify the days when the backup task should be run. Days of week or month: 1-7 for weekly, 1-31 for monthly. Days of the year: 1-12 (month numbers); 1-31 (days of the month) for yearly. Example for weekly: 1,3,5,7 Example for monthly: 1, 15, 25 Example for yearly: 1,3,5,7;1,15 ![autobackup_4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=16b96c&media=autobackup_4.png) automated_backup.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 163,
      "source": "https://wiki.thrivedx.com/doku.php?id=filters",
      "content": "filters [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • filters Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 filters Filters LUCY allows you to create filters within the campaigns that determine whether the victim is allowed to access the campaign. According to the rules set by the campaign administrator requests from certain mail clients, IP-addresses or IP-ranges are either denied or allowed to access the campaign. Filters can be defined within the particular campaign “Campaign Name” → Advanced Settings → Filters. ![filters.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=647b7b&media=filters.png) There are three policies available: Allow all (default) - allows all recipients to access the campaign, regardless of their IP address and browser. Allow only - allows only recipients that have an IP address or browser that matches one of the rules you add below, all other recipients will be blocked. Deny for - denies the access for recipients that have an IP address or browser that matches one of the rules you add below, all others will be allowed. ![filters_policies.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9d78df&media=filters_policies.png) ![filters_add.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fa870c&media=filters_add.png) In order to set the rule, choose the desired policy, and click Add, then choose the filter criteria (IP or User-agent) and click Save after. ![filters_criteria_correct.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a1fd3b&media=filters_criteria_correct.png) Preventing false clicks by Office 365 Advanced Threat Protection service In case there are strict policies within the network one is able to use filters in order to provide clear statistics gathering. For example, ATP policies for Office365 track user's clicks on phishing links and rewrite suspicious URLs. Thus, the first request to Lucy server is made by Microsoft services, and this request counts as the one made by the victim. As a result, unreliable statistics are gathered. In order to avoid such an issue, one might use filters feature and deny access for certain IP-addresses that belong to Microsoft protection services. IP-ranges for O365 ATP service are: 40.94.0.0/16 and 104.47.0.0/16 ![filters_atp.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1b0d08&media=filters_atp.png) Please note that the IP-ranges may vary from client to client and those from above are known by the LUCY team. In case aforementioned policies do not work, one will have to track which IP-addresses requests are made from. Otherwise, contact the support in order to receive help. filters.txt · Last modified: 2021/09/15 12:38 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 164,
      "source": "https://wiki.thrivedx.com/doku.php?id=scorm",
      "content": "scorm [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • scorm Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 scorm SCORM-compatible templates Short instruction on creating SCORM-compatible templates. The given instruction presents a short description of the issues that should be considered by the developer when developing the SCORM-compatible template. Before all, there are several ways of calling SCORM-functions. scormdriver.js driver usage is the most available (and also free) method. Although the driver is out-of-date, it still works and might be used. Further instruction concerns working with scormdriver.js functions. Directory structure Every template must have the following structure: common extend scormcontent static index.html scormdriver unique vocab Such a structure is achieved by uploading the LUCY template to SCORM. All the files connected with the template are located in scormcontent folder. The same folder contains a static folder where all necessary files (e.g. scripts or images) are located. Also, the static folder might as well contain various subfolders. The SCORM root folder contains imsmanifest.xml that allows defining templates names. For example: <?xml version=\"1.0\" standalone=\"no\" ?> <manifest identifier=\"RusticiSoftwareSCORMDriverTemplate\" version=\"1.3\" xmlns=\"http://www.imsglobal.org/xsd/imscp_v1p1\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:adlcp=\"http://www.adlnet.org/xsd/adlcp_v1p3\" xmlns:adlseq=\"http://www.adlnet.org/xsd/adlseq_v1p3\" xmlns:adlnav=\"http://www.adlnet.org/xsd/adlnav_v1p3\" xmlns:imsss=\"http://www.imsglobal.org/xsd/imsss\" xsi:schemaLocation=\"http://www.imsglobal.org/xsd/imscp_v1p1 imscp_v1p1.xsd http://www.adlnet.org/xsd/adlcp_v1p3 adlcp_v1p3.xsd http://www.adlnet.org/xsd/adlseq_v1p3 adlseq_v1p3.xsd http://www.adlnet.org/xsd/adlnav_v1p3 adlnav_v1p3.xsd http://www.imsglobal.org/xsd/imsss imsss_v1p0.xsd\"> <metadata> <schema>ADL SCORM</schema> <schemaversion>2004 4th Edition</schemaversion> </metadata> <organizations default=\"B0\"> <organization identifier=\"B0\" adlseq:objectivesGlobalToSystem=\"false\"> <!--****** Title ******--> <title>Name of your template</title> <item identifier=\"i1\" identifierref=\"r1\" isvisible=\"true\"> <!--****** Title ******--> <title>Name of your template</title> ... ... ... The <title> tag should contain the template’s name in both parts of the document. index.html file structure There is only one particularity about the file - file path. In LUCY path has the following structure: %static%/file. However. in SCORM all the paths should begin with ./static/… The template may contain any amount of HTML-files. Switching between files may as well be performed with plain links (e. g. <a href=\"file.html\"…) and by means of uploading files within AJAX. Thus there are no major differences between LUCY- and SCORM-templates in this respect. SCORM functions One has to enable the driver in order to use SCORM functions. The driver is enabled through the /imsmanifest.xml file: ... <resources> <resource identifier=\"r1\" type=\"webcontent\" adlcp:scormType=\"sco\" href=\"scormdriver/indexAPI.html\"> <file href=\"scormdriver/indexAPI.html\" /> ... <file href=\"scormdriver/scormdriver.js\" /> On the next step the driver is being initialized. Here is a rough example: var SCORMDriver; var fSCORM = false; $(function() { SCORMDriver = window.parent; if(typeof SCORMDriver.SetScore === 'undefined') { console.log(\"no SCORM\", SCORMDriver); } else { console.log(\"SCORM\"); fSCORM = true; } }); fSCORM variable is set as TRUE if the template is launched through SCORM, otherwise the variable is set as FALSE. Thus, one can create a template that operates both through SCORM and LUCY. The following functions are available for the template developer: The function below returns the Score variable value (it contains the result of course completion). function lucyGetScoreScorm() { if(fSCORM) { var score = SCORMDriver.GetScore(); if(score == \"\") { return 0; /* course is launched for the first time */ } return score; /* in case the course has already been launched the previous result is returned */ } return 0; /* the course is not launched through SCORM */ } This function stores the Score value. In this particular example the template contains a course that consists of 10 questions: var lucyQuizQuestions = 10; If user answers 4 questions as an example, lucySetScoreScorm(4) function is called. in this case the Score is calculated: score = 4 * 100 / 10 = 40 % function lucySetScoreScorm(nAnswers) { var score = nAnswers*100/lucyQuizQuestions; if(fSCORM) { if(score > 99) { SCORMDriver.SetScore(100, 100, 0); /* all the questions are answered, result = 100% */ SCORMDriver.SetPassed(); /* the course is considered passed */ } else { SCORMDriver.SetScore(score, 100, 0); /* transfering the result to SCORM */ } /* CommitData() function must be called in order to avoid data loss in case user closes the window unexpectedly */ SCORMDriver.CommitData(); } } The following function might be called in case one needs to set “Passed” status: function endCourse() { console.log(\"End of Course\"); if(fSCORM) { SCORMDriver.SetPassed(); SCORMDriver.CommitData(); } } Testing Free service [https://cloud.scorm.com](https://cloud.scorm.com) is recommended in terms of testing the template. Although it has templates size restrictions, any template might be debugged. Since the service has a friendly user interface it is rather easy to work with. However, one should remember that as a rule clients use custom shells, therefore, certain differences of the SCORM templates actions might occur. One should always keep in mind that the SCORMDriver.CommitData() function should be necessarily called every time the result is uploaded to SCORM. Languages Unfortunately there no shortcuts for creating multilingual templates. In order to create the template in any new language, one has to copy the whole directory structure creating a separate template as a result. Thus, if the template should include three languages one has to create three different templates (each for the particular language). LUCY- and SCORM-compatible templates creation First of all, the variables that store current state should be gathered in one particular place of the templates structure. For example: At the bottom of the index.html one enables the following script: <script type=\"text/javascript\" src=\"./static/js/ext.js\"></script> The script itself: $(function() { var sChunk = \"\"; //the template is launched within SCORM check SCORMDriver = window.parent; if(typeof SCORMDriver.SetScore === 'undefined') { //This is not SCORM console.log(\"no SCORM\", SCORMDriver); } else { //Yes, it is SCORM console.log(\"SCORM\"); fSCORM = true; //previous state check //current state is being saved periodically so one could //check the state when the script is started. sChunk = SCORMDriver.GetDataChunk(); console.log(\"chunk:\",sChunk); } //in case the state is not null one transforms the string //to javascript variables //in case the current state is null one saves a word “empty” //in order to be able to see it in $('div.debug-scorm') debug window //within the first launch there is no current state //thus SCORMDriver.GetDataChunk() returns an empty string. if(sChunk) Course.oState = JSON.parse(sChunk); else sChunk = \"empty\"; console.log(\"loadState\",Course.oState); sChunk = sChunk.replace(/,/g,\",<br>\"); //current state is transmitted to debug window. It is not vital in terms of the templates operation //but it is convenient in terms of debugging $('div.debug-scorm').html(sChunk); }); //save state //current templates state is being saved function saveState() { //transforming current state to string var s = JSON.stringify(Course.oState); //Course.oState.allPoints variable stores general result of course completion //(all the quizzes results ) //in this particular template user is able to reach maximum of 600 points //transforming points to percents. 600 points equals 100% var score = Course.oState.allPoints * 100/600; if(fSCORM) { //current state is saved to SCORM SCORMDriver.SetDataChunk(s); //600 points --> 100% //the result is saved in percents. //100% - maximum (The second parameter states that) SCORMDriver.SetScore(score, 100, 0); //400 points --> passed //lower threshold is 400 points for this particular course if(Course.oState.allPoints >= 400) SCORMDriver.SetPassed(); //the function is called in order to avoid data loss SCORMDriver.CommitData(); } console.log(\"saveState\", s, score); } // the following function is called in case the user passes through the whole course to its end function endCourse() { console.log(\"End of Course\"); if(fSCORM) { SCORMDriver.SetPassed(); //SCORMDriver.SetReachedEnd(); SCORMDriver.CommitData(); } } More of the code that is added to the template itself: var Course = { //this object stores current state of the template oState: { currLesson: 0, //current lesson number currFragment: 0, //current fragment number (in case the template includes several fragments) avatar: -1, //0 - Sam, 1 - Sue avatar: either female (Sue) or male (Sam) are available to choose //the course is divided into so-called cards. Each lesson contains several cards (sublessons) //when another card is passed a corresponding flag is marked f_card1: 0, //Klassifizierung bits: 0...4 - topic1...topic5 of the card1 are shown f_card2: 0, //Sichere E-Mail Kommunikation f_card3: 0, // f_card4: 0, //Bankkundendaten bei SIX lesson16 (bits: 0...2 - topic1...topic3) f_card21: 0, //Unterlagen und mobile Gerate f_card22: 0, //Gesprache in der Offentlichkeit f_card23: 0, //Nutzung privater oder offentlicher Gerate f_card24: 0, // f_card31: 0, //Sicheres Passwort f_card32: 0, //Clean Desk und Clear Screen f_card33: 0, //Badge f_card34: 0, // f_card41: 0, //Fluchtwege f_card42: 0, //Brandfall f_card43: 0, // nCards: 0, //collected cards nPoints: 0.0, //points allPoints: 0.0, //all points (cards and exams) //The course includes 4 challenges. Each challenge gives up to 100 points. //following variables contain points for each challenge nPoints11: 0.0, //Challenge1 nPoints26: 0.0, //Challenge2 nPoints31: 0.0, //Challenge3 nPoints41: 0.0, //Challenge4 //main menu allows to reach a particular lesson //at the very beginning of the course all the menu options are of restricted access //as soon as the lesson is passed the corresponding option becomes available fEnaLesson6: false, //true - enable menu \"Lesson1\" fEnaLesson20: false, //true - enable menu \"Lesson2\" fEnaLesson30: false, //true - enable menu \"Lesson3\" fEnaLesson40: false, //true - enable menu \"Lesson4\" fEnaLesson50: false //true - enable menu \"Lesson5\" }, ............... }; As one is able to see the Course.oState object stores the current state of the template. Depending on the particular template this object may contain different variables. One should keep in mind that Course.oState object has to be necessarily created when a new template is developed. Older courses store state within Lesson71.percent, Lesson72.percent, and etc. variables. Newer ones should have these variables stored inside of Course.oState SCORM Player Since LUCY build 4.8.6 there's a build-in support of SCORM import into LUCY. List of supported SCORM packets: 1.2 2004 3rd Edition 2004 4th Edition To import SCORM into LUCY proceed to Settings > Templates > Awareness Templates. Then press Actions > New SCORM ![scorm_player1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=500&tok=609e14&media=scorm_player1.png) Select a SCORM package file and the import will be initiated. Once complete, the user would be able to edit templates's properties and add message template for SCORM-based template. Important compatibility aspects: Message Template would support multi-language, though SCORM's content will be shown only in the language of SCORM LUCY does not track particular answers to questions. Victim will be trained only based on SCORM's design Video-watched percentage is not supported for SCORM Awareness Diploma/Certificate is not supported for SCORM Web Content of SCORM cannot be altered within LUCY web GUI scorm.txt · Last modified: 2022/08/05 08:35 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 165,
      "source": "https://wiki.thrivedx.com/doku.php?id=file_browser",
      "content": "file_browser [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • file_browser Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 file_browser Background info You can upload any file or image using the built-in File Browser. It is accessible within the scenario when you edit the landing page or message template. Where to find the File Browser In order to reach the File Browser, you need to open the drop-down Tools menu: ![tools_file_manager.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=tools_file_manager.png) The menu \"File Browser\" under the Tools gives access to the System folder (usually visible in Upload File or Image). This folder is common for all campaigns and can be used to store files in one place and use them in campaigns. It's also possible to access the File Manager within the according to a scenario when you edit the landing page from the WYSIWYG editor: Use the Upload File or Image button: ![upload_file_or_image.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=upload_file_or_image.png) Then click Browse Server button: ![browse_server.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=browse_server.png) You can use the upload button to upload the files or simply drag and drop one or multiple files into the browser. Depending on the file type LUCY will automatically place the files in the correct directory (images are later stored in a central image repository). The list of the directory tree is following: System Folder Campaign Folder Template Folder ![upload_file_manager.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=upload_file_manager.png) Therefore LUCY allows you to manage the files in your projects and supports subdirectories to store the content. file_browser.txt · Last modified: 2020/08/12 23:35 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 166,
      "source": "https://wiki.thrivedx.com/doku.php?id=system_notifications",
      "content": "system_notifications [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • system_notifications Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 system_notifications System Notifications You can define a system administrator email adress in advanced settings to receive important system notifications about important system events: ![s-notif.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=df6c2d&media=s-notif.png) system_notifications.txt · Last modified: 2021/08/04 21:28 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 167,
      "source": "https://wiki.thrivedx.com/doku.php?id=requesting_support_from_lucy_security",
      "content": "requesting_support_from_lucy_security [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • requesting_support_from_lucy_security Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 requesting_support_from_lucy_security Introduction This section describes the services that ‘the client’ will receive from “LUCY” and sets out how LUCY will provide support services. It describes for which items the supplier will provide free and paid support, what activities it will perform, and how the client can expect problems with LUCY to be handled. Dates and reviews LUCY warrants support-services on workdays, Monday through Thursday, between 8.00 am and 5.00 pm and Fridays between 8.00 am and 1.00 pm. CEST\\CET, CST\\CDT. Coverage and paid vs. free support This contract covers the LUCY software and eventually the infrastructure (VPS) that is provided by LUCY. All support activities related to software bugs are free of charge. All other issues will be charged. Examples of issues which are not considered as bugs: Application or System problems caused by changing anything within the Linux operating system on which LUCY runs. 3rd Party SPAM filters blocking mails from LUCY External Mail relays that do not work as expected External Proxy Settings preventing LUCY to receive updates DNS configuration issues caused by DNS entries not made by LUCY Issues based on unpatched LUCY versions Modified templates, different from its original state Having said all that, LUCY aims to be helpful and accommodating at all times, and will do its absolute best to assist the client wherever possible. This list may be updated at any time, with agreement from both the client and supplier. Responsibilities The client will ensure, that the LUCY software is always up to date with the latest patch before contacting our support. The client should: Provide LUCY with a detailed error description and references to the campaign, where the issue occurred (example: In campaign X it was not possible to add the recipient group y using the browser Z with an administrative user). The error must be reproducible. Include screenshots or access to the system (SSH or web based) for the purposes of a detailed investigation Keep LUCY informed about potential changes to its configuration. Support Contact All support issues beside obvious LUCY bugs in the latest software version should be raised via the generic mail address support@lucysecurity.com. Telephone Support is available only if we determine that other means of support are insufficient to resolve the issue and such communication would be of assistance. The client is obligated to communicate errors prequalified by him, including documentation, immediately and in writing to LUCY via Partner-Web or stating the possible cause, and to give LUCY the opportunity to resolve the error in question. Should it prove impossible to resolve an error directly within support-services, error resolution will be performed pursuant to Item 1.3. Charges and Billing The hourly price for support services is USD [130] per hour. Support bills will be created [ monthly | yearly ]. All invoices issued hereunder are due and payable within thirty (30) days of the date of the invoice. All amounts that are not paid on time by Customer shall be subject to a late charge equal to one and one-half percent (1.5%) per month, or, if less, the maximum amount allowed by applicable law. Response times The table shows the priority and response time assigned to faults according to the perceived importance of the reported situation. The priority assignment is to refer to the initial mail response to the client. Priority Level Response Time A - Business Critical Issue (e.g. full system or campaign inoperability) Same business day during LUCY working hours B - Important Issue (e.g. partial system or campaign inoperability) Within 48 hours from support notification Non-Business Critical (e.g. a generic support question) Within 72 hours from support notification Liability LUCY shall have no responsibility for loss of or damage to Customer’s data, regardless of the cause of any such loss or damage. There are no refunds on our support services. Activity Log All details of the activities performed for the client are saved in a table with the exact support day, time and activity and provided together with the invoice. requesting_support_from_lucy_security.txt · Last modified: 2021/08/02 19:11 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 168,
      "source": "https://wiki.thrivedx.com/doku.php?id=extending_a_logical_volume_in_vmware_machine",
      "content": "extending_a_logical_volume_in_vmware_machine [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • extending_a_logical_volume_in_vmware_machine Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 extending_a_logical_volume_in_vmware_machine Extending a logical volume in VMware machine This article provides steps for extending the root partition residing in a logical volume created with Logical Volume Manager (LVM) in a virtual machine running Lucy. A more complete guide with screenshots can be found [here](/lib/exe/fetch.php?media=guide.pdf). Caution: We recommend taking a complete backup of the virtual machine prior to making these changes. 1. Power off the virtual machine. 2. Edit the virtual machine settings and extend the virtual disk size. ![wmvare_01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=79d383&media=wmvare_01.png) For more information, see [Increasing the size of a virtual disk (1004047)](https://kb.vmware.com/s/article/1004047?r=2&KM_Utility.getArticleLanguage=2&KM_Utility.getArticle=1&KM_Utility.getGUser=1&KM_Utility.getArticleData=1&Quarterback.validateRoute=1). 3. Power on the virtual machine. 4. Print the partition table to verify the number of partitions by running the command: # fdisk -l By default, there are 3: sda1, sda2 and sda5. ![wmvare_04.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=dfce67&media=wmvare_04.png) 5. Create a new primary partition - sda3: Run the command: # fdisk /dev/sda Press <n> to create a new primary partition. Press <p> for primary. Press <3> for the partition number. Press <Enter> two times. Press <t> to change the system's partition ID. Press <3> to select the newly creation partition. Type 8e to change the Hex Code of the partition for Linux LVM. Press <w> to write the changes to the partition table. 6. Restart the virtual machine: # shutdown -r now 7. Verify whether sda3 has successfully created, by running the command: # fdisk -l ![wmvare_07.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=b15f34&media=wmvare_07.png) 8. Create another primary partition sda4: Run the command: # fdisk /dev/sda Press <n> to create a new primary partition. Press <p> for primary. Note. The number of partition <4> was selected automatically. Press <Enter> two times. Press <t> to change the system's partition ID. Press <4> to select the newly creation partition. Type 8e to change the Hex Code of the partition for Linux LVM. Press <w> to write the changes to the partition table. 9. Restart the virtual machine once again: # shutdown -r now 10. Verify whether sda4 has successfully created, by running the command: # fdisk -l ![wmvare_10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=9417cd&media=wmvare_10.png) 11. Run this command to convert the new partition to a physical volume: # pvcreate /dev/sda4 12. Run this command to extend the physical volume: # vgextend phishing–vg /dev/sda4 13. Run this command to verify how many physical extents are available to the Volume Group: # vgdisplay phishing–vg | grep \"Free\" 14. Run the following command to extend the Logical Volume: # lvextend -L+#G /dev/phishing-vg/root Where <#> is the number of Free space in GB available as per the previous command. Use the full number output from Step 13 including any decimals. 15. Run the following command to expand the ext3 filesystem online, inside of the Logical Volume: # resize2fs /dev/phishing-vg/root 16. Run the following command to verify that the / filesystem has the new space available: # df -h ![wmvare_16.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=de01c3&media=wmvare_16.png) extending_a_logical_volume_in_vmware_machine.txt · Last modified: 2021/12/20 12:29 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 169,
      "source": "https://wiki.thrivedx.com/doku.php?id=resend_mails_that_previously_generated_an_error",
      "content": "resend_mails_that_previously_generated_an_error [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • resend_mails_that_previously_generated_an_error Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 resend_mails_that_previously_generated_an_error How to deal with mail delivery errors It might happen in a campaign that mails get rejected, blocked or not delivered. You can [identify problems in mail delivery](/doku.php?id=mail_communication_issues:e-mails_do_not_arrive) at two sections in LUCY: mail log within the campaign postfix mail log The mail log can be located under \"support/service logs\": ![mail_log.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=83e68f&media=mail_log.png) The error log in a campaign can be located at the bottom of the overview page in that specific campaign: ![errors_where.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=74d47a&media=errors_where.png) If a mail receives a [smtp error message](/doku.php?id=smtp_status_codes) within the campaign, you can see the details here. The errors displayed in this log are the ones LUCY receives from the remote SMTP server. How to resend mails, which initially failed to deliver? If you want to resend them again you can go into the error log and then click the button \"resend\": ![resendmails.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=35a5b0&media=resendmails.png) The resend feature would not be available in case the scheduler rules are applied to the running campaign. Make sure to remove the scheduler plan to be able to resend errored messages. resend_mails_that_previously_generated_an_error.txt · Last modified: 2021/09/02 13:47 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 170,
      "source": "https://wiki.thrivedx.com/doku.php?id=remote_ssh_support",
      "content": "remote_ssh_support [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • remote_ssh_support Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 remote_ssh_support SSH in LUCY There are two SSH features build in LUCY: SSH outbound: this SSH access feature is used only for remote LUCY support by our support staff. Please use this feature only if it has been requested by the support service specialist. SSH inbound (port 22). This is enabled by default Configuration of SSH outbound support SSH access for our team is by default closed. Go to \"support –> Enable SSH Access\" and then click \"Open Access\" button to open the maintenance access to your system. ![ssh_access_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9667c1&media=ssh_access_1.png) If you want to enable SSH access for remote support, LUCY will connect via Port 22 to our SSH hopping station. As a result an outbound SSH connection will be established. We will need your Port number and password (on our internet facing SSH server) to be able to connect to your server. LUCY uses outgoing connection Port 22, please check that it is allowed through your firewall. SSH Inbound Access (port 22) Root access is possible (commercial clients). For Version below 2.6: if you need a shell access to your workstation, please contact us at info@phishing-server.com For Version above 2.6: a root password is displayed once upon installation (when you use the setup script). If you did not write down the root password you have two options: [restore the root password from the console](/doku.php?id=recover_your_root_password) reset the root password from the web gui (see screenshot below) ![ssh_access_2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=10dc92&media=ssh_access_2.png) The SSH Phishing account The phishing account is a system account. Here is the [link](/doku.php?id=technical_information) that describes the background info (check under accounts).If you want to harden access from remote you can either restrict access in SSH or disable SSH password authentication for that user. sudo /etc/ssh/sshd_config DenyUsers phishing OR sudo etc/ssh/sshd_config Match user phishing PasswordAuthentication no The SSH Phishing Account password can be [displayed within the GUI](/doku.php?id=recover_your_root_password). Installing your own software Warning: Do not change any system settings or install any additional software. Please note that changes to the system (change of host file, change of htaccess etc.) will most likely affect the functionality of LUCY. We cannot provide support for systems that have been modified. If you plan to install additional software, please make sure it wont create any conflicts with existing LUCY applications. You can ask our support if you are not sure (support@lucysecurity.com) remote_ssh_support.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 171,
      "source": "https://wiki.thrivedx.com/doku.php?id=reboot_lucy",
      "content": "reboot_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • reboot_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 reboot_lucy Sometimes an update might require a reboot. You can initiate the reboot within the admin console: ![reboot_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=088dbc&media=reboot_1.png) Unfortunately the reboot feature in the web based GUI is not working for all updates. In that case you need to do a hard reboot of the system. This can be done: Reboot within the [setup script](/doku.php?id=setup_script_tutorial): if you have the setup script window open you can choose menu item nr 7 \"reboot\" Reboot within your VMware/Virtual box/Amazon environment: you can initiate a hard reboot of the system within the admin gui of your virtualization software. Reboot via SSH using the system user \"phishing\": LUCY has a SSH port where you can connect to. You can use the phishing user to connect to port 22. In case you don't remember the password you can [reset it here](/doku.php?id=recover_your_root_password). Once you are in the setup menu please choose menu item nr 7: reboot. Reboot via SSH as root: If you have root access to the system you can sinply reboot it using the command \"shutdown -r now\". reboot_lucy.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 172,
      "source": "https://wiki.thrivedx.com/doku.php?id=send_us_logs_through_lucy",
      "content": "send_us_logs_through_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • send_us_logs_through_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 send_us_logs_through_lucy Lucy allows you to send us log file in order to investigate possible issues with your campaign. If you want to get an overview of all possible log files in LUCY please visit this [link](/doku.php?id=log_files_in_lucy). You can send us the LUCY logs under the navigation tab \"support/send logs\". You have the ability to download them yourself and investigate them prior to sending them to us by clicking on the \"download log\" button. ![send_logs_1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3cfb51&media=send_logs_1.png) send_us_logs_through_lucy.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 173,
      "source": "https://wiki.thrivedx.com/doku.php?id=network_communication_-_lucy_--_internet",
      "content": "network_communication_-_lucy_--_internet [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • network_communication_-_lucy_--_internet Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 network_communication_-_lucy_--_internet OUTBOUND COMMUNICATION REQUIRED: SORTED BY TYPE OF ACTION LUCY might initiate certain communication channels to servers on the internet: First Time Use - Obtaining Workstation ID: When you install LUCY for the first time, LUCY will connect via HTTP to a server to [get the current workstation key & ID](/doku.php?id=how_to_activate_lucy). LUCY can also operate without that ID & key. This ID can be used later to upgrade LUCY from a community edition to a commercial license. No information about your environment, besides the current built version, is transmitted to our server. Updates: When performing updates LUCY may connect to our update server (fixed IP) and occasionally to a Debian repository (in older versions < 2.5). SSH: If you enable SSH in the Help Menu, LUCY will initiate a SSH connection to our SSH Jump Host (outbound). By default this is disabled. It is the clients responsibility to enable/disable the SSH port on LUCY itself. Checks: When you perform campaign checks (test your campaign settings), LUCY will connect to a few fixed servers. Since we also test within those checks, if the server is reachable from the internet (via HTTP or HTTPS) we initiate a HTTP/HTTPS connection inbound to your installation. No data is transmitted - only the connectivity is tested. Running a Campaign: LUCY might need to communicate via Port 25 or 465 (SMTP) outbound if you send mails to users over the internet Vulnerability Checks: If you need the client vulnerability detection feature enabled, you should also allow port 80 connection to static.nvd.nist.gov (129.6.13.177). That host is used to download NIST CVE database with vulnerabilities. Logs: In the Send Logs (found under Support/Send Logs) Menu, you are able to send LUCY logs to us. Those logs contain only technical data about your installation (mainly Apache logs) - but all customized sensitive data is deleted (we don't collect any information about your campaign or the environment). ![98.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2ec31c&media=98.jpg) OUTBOUND COMMUNICATION: SORTED BY PORT & IP IP Function Port Protocol 162.55.130.83 (update.phishing-server.com) Lucy Update/License Server/HTTP proxy 80/443 (HTTP/HTTPS) TCP 162.55.130.83 (update.phishing-server.com) Linux repository 80 (HTTP) TCP 8.8.8.8 (or any other DNS Server) Your DNS Server 53 (DNS) UDP nvd.nist.gov NIST CVE database (Optional) 443 (HTTPS) TCP 0.0.0.0 (Any) Mail Communication (Optional) 25 (SMTP) TCP 116.203.185.12 (changelog.lucysecurity.com) Fetch LUCY Update News (Optional) 80 (HTTP) TCP is.gd URL Shortening service (Optional) 443 (HTTPS) TCP api-ssl.bitly.com URL Shortening service (Optional) 443 (HTTPS) TCP api.authy.com Two-factor authentication service (Optional) 443 (HTTPS) TCP INBOUND COMMUNICATION In order to reach LUCY from the internet port 80 and 443 (if you use SSL in a campaign) needs to be open. No other ports are required. If LUCY should forward mails from users that respond to a phishing simulation port 25 (SMTP) needs to be opened as well. Source IP Destination Port Prot Comment ANY Your LUCY Server IP 80/443 (HTTP/HTTPS) TCP Needed for accessing the landing pages & for certificate verification (http) ANY Your LUCY Server IP 25 (SMTP) TCP Only needed, if you want to catch email replies ANY Your LUCY Server IP 5001 (HTTPS) TCP Only needed, if you use Adapt authoring tool. Should be turned off if Adapt is not used (taking additional resources) MALWARE SIMULATION COMMUNICATION Upon execution, the malware simulation tool will open the built in Internet Explorer or other default browser (in hidden mode) and send out the collected data to LUCY via HTTP or HTTPS (it will automatically choose HTTPS if you run your campaign via SSL). This tool will also work in environments where the Internet is accessed with Proxy servers - only allowing access for authorized Windows users. network_communication_-_lucy_--_internet.txt · Last modified: 2022/03/23 11:30 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 174,
      "source": "https://wiki.thrivedx.com/doku.php?id=virus_alert",
      "content": "virus_alert [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • virus_alert Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 virus_alert We have identified an issue with the \"Download Files\" from our site and the SonicWall Gateway AV application. The SonicWall application reports our solution as being a Trojan and will either completely block the download or cause it to fail partway through the process. This is due to a False Positive detection from SonicWall. We would like to stress that no other security appliances or software are reporting this. This has been exclusive to SonicWall. To work around this issue, until SonicWall releases an update to fix this, please download your software from a location that is still protected but not behind the SonicWall application. ![sas.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=31e0e3&media=sas.png) virus_alert.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 175,
      "source": "https://wiki.thrivedx.com/doku.php?id=avoid_spam_issues",
      "content": "avoid_spam_issues [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • avoid_spam_issues Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 avoid_spam_issues Prevent SPAM issues Why are SPAM filters rejecting an email? Spam filters identify Spam based on a long list of criteria, but generally they consider: Relationship with subscriber Reputation of IP address and sender domain Quality of email subject line, teaser, and content Quality and safety of links in email Presence or absence of images (e.g. tiny size of a tracking images might cause a problem) Ratio of images to text and links to text Inclusion of text version of email etc. How can I get pass the common email defenses like SPAM filters? The goal of a phishing campaign is people testing. So you don't want to spend too much time in creating a hack that allows you to bypass an external email filter (as most email filters are \"black boxes\" the only way of preventing you from being filtered is using some very time consuming trial & error methodology). Therefore we strongly recommend creating a whitelist entry on your SPAM/Email defense solution (whitelist either LUCY's domain or IP). What can I do, when my emails get filtered? Use an external mail server Using an [external mail server](/doku.php?id=mail_delivery_methods_in_lucy) with an existing domain configured could be the easiest and quickest workaround to prevent SPAM issues. Set helo/ehlo SMTP host name in LUCY (only required if you use LUCY's build in mail server) It is recommended to create a SMTP server name (that is the server name of LUCY). Most SMTP servers will accept your mail if you simply have a reverse DNS entry. It does not have to match the domain name on your e-mail address. Some SMTP servers will reject mail if the reverse DNS doesn't match the HELO/EHLO hostname used in the connection. If your mail server's hostname is mail.example.com then your reverse DNS, MX record, HELO/EHLO, and SMTP greeting banner should all be mail.example.com as well. According to RFC 2821 the SMTP client MUST, if possible, ensure that the domain parameter to the EHLO command is a valid principal host name (not a CNAME or MX name) for its host. If this is not possible (e.g., when the client's address is dynamically assigned and the client does not have an obvious name), an address literal SHOULD be substituted for the domain name and supplemental information provided that will assist in identifying the client. An SMTP server MAY verify that the domain name parameter in the EHLO command actually corresponds to the IP address of the client. You can save this under the mail Settings: ![mail_settings_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5c2a6b&media=mail_settings_new.png) Review Your Email Content Spam filters consider a long list of criteria when judging the “spamminess” of an email. They’ll weigh each factor and add them up to determine a Spam score which then determines whether a campaign will pass through the filter. They might look for spammy phrases like “CLICK HERE!” or “FREE! BUY NOW!”. Then they'll assign points every time they see one of those phrases. Certain criteria get more points than others. Here’s a sample of criteria from SpamAssassin: Talks about lots of money (.193 points) Describes some sort of breakthrough (.232 points) Contains urgent matter (.288 points) Money back guarantee (2.051 points) LUCY allows you to review the mail content with the local SPAM assassin engine: ![spam_test_new.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=48d209&media=spam_test_new.png) Don't use a private account as your sender address If you use a major ESP and send email using personal email addresses such as paul@yahoo.com or paul@aol.com, ISPs like Google will block your email. Why? Yahoo and AOL tell them to! The solution is to use your corporate email address or a domain owned by you. But please watch out: if your Company domain is \"mycompany.com\", you probably won't be able to use this domain as a sender as spoofing attempts are most likely detected if your domain has a SPF entry. You can validate this here: [https://mxtoolbox.com/spf.aspx](https://mxtoolbox.com/spf.aspx) Use Descriptive Text Instead of URLs as Link Text Spam filters try to block phishing attacks where attackers encourage readers to click on a well-known text URL that links to a different URL (attacker website). For example, a victim of a phishing attack would see \"[http://chase.com](http://chase.com)\" in an email but upon clicking the link, they would be directed to \"[http://attackerwhostealsyouridentity.com](http://attackerwhostealsyouridentity.com)\". Because of this shady tactic, you should avoid using URLs as link text. Instead, use descriptive text. Make Sure You Are Not on Blacklists If you are sending from your own IP address, you can use tools like MX Toolbox ([https://mxtoolbox.com/blacklists.aspx](https://mxtoolbox.com/blacklists.aspx)) or LUCY's build in checks to verify and get alerted if your IP gets on a blacklist. It Matters Where You’re “From” Mailbox providers evaluate more than just the sender’s IP, domain and content. They also pay attention to your \"From\" field addresses. Therefore avoid obscure From field names, such as: “1338sdsd8@domain.com”, “noreply@domain.com”. Use clear, trustworthy From field names, such as: “contact@”, “newsletter@”, “support@”, feedback@” Keep the Format Simple Avoid the use of background colors, large or unusual fonts, or more than one font. In other words, don't make your email look like an advertisement or a brochure. Avoid coding sloppy HTML - usually from converting a Microsoft Word file to HTML. Avoid creating an HTML email that’s nothing but one big image with little or no text. Spam filters can’t read images, so they assume you’re a spammer trying to trick them. Using the word “test” in the subject line. Agencies can run into this issue when sending drafts to clients for approval. Limit the Number of URL Links Spam filters are wary of link-laden messages because spammers tend to scatter links around their messages, hoping that the reader will click on at least one. Create a Unique Subject Title In your e-mail header, include something unique to the recipient that's unlikely to be in a Spam message. Examples could include your company name, the name of one of your target's competitors, or the name of a person with whom the target is already familiar. Review Your Sending Method and Ask Your Client to Whitelist the IP Sending a test to multiple recipients within the same company might cause some problems. That company’s email firewall often assumes it’s a Spam attack. To perform a phishing attack, you might need to whitelist LUCY's IP on the remote firewall or SPAM filter. Optimize your DNS settings Don't use an existing common domain name (like apple.com) already reserved by a third party. Never use a domain that does not exist. Reserve a similar domain name or one that relates to the service you describe in the email (example: get-your-secure-mail.com). Set an MX, A & a SPF record for the domain you use in the test that all point to LUCY for that domain. Enable [LUCY's DKIM feature](/doku.php?id=dkim_support) and save the corresponding DNS txt record. Also check: Did you use an email address with a domain that points to a different MX record? If you use attacker@gmail.com as an example for the sender most email servers will block that email since LUCY is not the official email server for this service. Does the sender domain even exist? If you use a non-existing domain address as a sender or a domain which has no MX record, the mail will most likely be dropped by your mail server Watch out when you spoof your own domain or use a domain which is SPF protected Did you define your own company domain as a sender? Example: You try to phish your employees with the domain mycompany.com which is actually the official domain for your company? The problem is that there might be a DNS record (example SPF) that defines which mail server is allowed to send mails on behalf of this domain. You can check this here: [https://mxtoolbox.com/spf.aspx](https://mxtoolbox.com/spf.aspx). If such a record exists your email server will deny emails coming from a different server using this domain. The solution is: If you still want to perform a phishing test, with a domain like the one from your company, we recommend reserving a similar domain like “my-company.com” or strategically place a typo like “myconpany.com”. Most users won’t recognize the difference and you'll have an additional feature to test awareness. Set a PTR (reverse DNS) Some SPAM filters like [http://www.spamcannibal.org/](http://www.spamcannibal.org/) will put an IP address without a valid PTR & A-Record on a blacklist. To prevent this, we recommend defining a PTR (reverse DNS) for the IP address where LUCY is installed and sending mails. This must be a unique FQDN (like testing.example.com). You still will be able to associate more than one domain with LUCY. But it is only possible to define one PTR per IP. The PTR record can only created by your provider or us (in case you order our VPS). Avoid using a tracking image in the mail (Do not click: \"track opened mails\") Tracking images (the small size) lead to a higher SPAM score. So try to uncheck this option in case you get filtered. Avoid using advanced LUCY Features like \"advanced information gathering\" The advanced information gathering is often detected by scanners that follow the links. This will raise the chance your mail gets flagged as SPAM. Test your IP & Domain reputation If you mails still get flagged you can test your domain/reputation (see details in this article: [https://sendgrid.com/blog/5-ways-check-sending-reputation/](https://sendgrid.com/blog/5-ways-check-sending-reputation/)). Don't send too much at the same time If you send hundreds of mails without throttling down the delivery you might get flagged as SPAM very quickly. Please use the [scheduler](/doku.php?id=scheduler) to slow down mail delivery. Avoid potentially dangerous attachments Certain attachment types (e.g. exe within a zip) or word files with Macro's are automatically classified as dangerous and most likely will end up in SPAM. Rather provide such files as a download on the LUCY landing page than attaching it to an email. What is the best test procedure with LUCY to identify the source of SPAM issues? Step 1 - TEST MAIL Send to the desired recipient a [test mail](/doku.php?id=test_mail) using a sender with a 3rd party domain name that has no SPF (e.g. \"test@gaga.com; you can test the SPF here: [https://mxtoolbox.com/spf.aspx](https://mxtoolbox.com/spf.aspx)) or a valid domain (valid means, that the domain has a MX record) configured on LUCY. ![](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=be7b3a&media=spam_test_new.png) ![test_email1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5b45d5&media=test_email1.png) The test mail is always a text only mail with no suspicious content. If the test mail does not arrive it is possible that the email filter is blocking any mail communication from an unknown IP or an server with a neutral mail reputation (if there is no known activity log about that IP in the internet). In such a case you can try to configure an [external mail](/doku.php?id=using_an_external_mail_server_or_web_proxy) server. If you don't have a mail relay you can use, please set for the test the mail delivery method to (1) \"HTTP Proxy\" in the \"settings/mail settings\" menu and use one of the predefined domains (2): ![mail_settings1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5bdf08&media=mail_settings1.png) This will force all communication through the external mail relay from sendgrid. You can change this setting later on a campaign level (under \"Base Settings/Scenario Settings/Mail Settings\"). Step 2 - IDENTIFY THE ISSUE THAT TRIGGERS THE EMAIL FILTER If the test email arrives, you can start altering the message & domain settings: it is very important that you change the settings step by step, in order to identify the reason for getting filtered. One of the first changes you might want to try is playing around with different domain names (e.g. a different domain as a [sender mail](http://phishing-server.com/PS/doc/dokuwiki/doku.php?id=mail_settings&s[]=domain), the using a different domain for the landing page and maybe also just use a link with an IP address only). If there is no effect in using different domain names make sure that the domain settings are correct. Keep the mail & landing page as simple as possible in the beginning and then start adding content. Step 3 - TEST RUN After you identified and removed the issues that caused the mails to get filtered we recommend doing a test run. The test run should be done with one target email accounts to see if the email gets filtered and how the link is accessed (sometimes a SPAM filter can automatically access the link in the email before the user can. This will make it impossible for LUCY to know if the link was really clicked). Step4 - REAL CAMPAIGN Once you started the campaign you might still have a situation where mails get filtered. To investigate this: First check if the mail got send by clicking on the message log in the left navigation panel within a campaign ![message_logs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=ed990c&media=message_logs.png) Then check if there was a communication error by clicking on the error log in the left navigation panel within a campaign ![errors.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=d9515a&media=errors.png) There are three possible message scenarios in case mails are still being filtered: a) [No mails send](/doku.php?id=mail_communication_issues_-_mails_do_not_get_send_at_all): then you won’t see anything in the message log b) Mails send – but with error: then you will see an error in \"[Errors](/doku.php?id=resend_mails_that_previously_generated_an_error)\" c) Mail send – no error: mail communication has been established and mails have been accepted for delivery In case of \"c\" (if there is was no obvious error) you have two possibilities: 1) You know that the SMTP communication works and LUCY's IP is not filtered by any 3rd Party product. Therefore you experience a configuration issue in the campaign which causes the mail to get filtered (like using a spoofed sender domain which has an SPF record, using a sender domain that points to a different MX record or has no valid MX record at all or creating a campaign that gets filtered because of the SPAM score). Also make sure you even created a [message template](/doku.php?id=mail_settings) in the campaign). If the test mail does not go through: make sure port 25 is opened on your router/firewall and mails do not get filtered by SPAM filters. In case the firewall configuration is not allowing LUCY to send mails, you might also configure LUCY to use an external mail server. See [using_an_external_mail_server_or_web_proxy](/doku.php?id=using_an_external_mail_server_or_web_proxy). ![test_email2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8a0d3c&media=test_email2.png) 2) Investigate your [settings](/doku.php?id=i_started_my_campaign_-_but_no_mails_get_send_and_i_see_no_error) 3) In some cases there is a email threshold that limits the amount of emails you are allowed to send in a certain time frame. Amazon, Google & Microsoft have such limits. When you do a test run you might not experience any difficulties, but once you start sending out mass emails, the communication might get dropped by the remote mail server. Known Issues with Microsoft, Gmail etc. Some providers will block all mails or automatically flag them as SPAM from any new mail server that has no activity logs in the internet (like Microsoft or Gmail). Microsoft Points out that any new mail server will have a higher likelihood of getting blocked ([https://mail.live.com/mail/troubleshooting.aspx](https://mail.live.com/mail/troubleshooting.aspx)). In any case you could also request to get whitelisted (here a link for Microsoft: [https://support.microsoft.com/en-us/getsupport?oaspworkflow=start_1.0.0.0&wfname=capsub&productkey=edfsmsbl3](https://support.microsoft.com/en-us/getsupport?oaspworkflow=start_1.0.0.0&wfname=capsub&productkey=edfsmsbl3)) Note: If you are sending emails from a new or “cold” IP address, abrupt spikes in email sending volumes can harm your IP’s reputation. To prevent this, you need to warm your IP address up gradually over time to establish your IP address as a legitimate email sender among Internet Service Providers (ISPs). Properly warming up your IP address is a crucial step in building your email sending reputation and improving delivery performance. The key to warming your IP address is to spread out your initial sends over multiple days. If you cannot do that, use a our HTTP mail delivery method. This method will send the emails through trusted mail servers using Sendgrid's mail infrastructure. How do I improve my Sender Score? Your Sender Score can affect your deliverability in a few ways. Senders with scores below 70 generally have emails coming from their IP aggressively filtered – your emails are more likely to end up in junk folders. Senders with scores above 70 generally have filtering applied to individual emails and campaigns, rather than their IP address. There are several things you can do to improve and maintain a good Sender Score. Maintaining consistent sending volumes and schedules, staying off blacklists, and warming your IP address are all great ways to keep your Sender Score healthy. My IP got blacklisted. What can I do? You want to be removed from any blacklists because databases often share IP addresses that have been listed. If you you've fixed things on your end, go back to the blacklist's site and follow their instructions for the IP address removal process. Here's what you're likely to come across: Self-Service Removal. There are a few blacklists with a self-service removal feature that lets you take your IP address off the list without much trouble. Time-Based Removal. Most blacklists have a built-in, automatic process that removes lower-level listings (IP addresses that are light offenders) within a week or two. But if the IP address had sent spam more than once or did a high volume, the time period will be longer. In case you rent a VPS through LUCY Security, we kindly ask you first to contact the the blacklist site and request a de-listing. If you cannot get delisted in a reasonable time, please get in contact with us and we can request an IP address change. \"Deceptive site ahead\". What can I do? ![deceptive_site.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1c73fc&media=deceptive_site.png) If you are seeing a message like this, it means that the domain name was blacklisted by Google. Here are the different methods to resolve the issue (in order of recommendation): Option 1. Perform the Google Whitelisting procedure. To whitelist the domain please review this article: [Google Safe Browsing](/doku.php?id=google_whitelisting) Option 2. In case Option 1 doesn’t work, it's advised to choose another template for the Phishing Scenario and try again using the same domain in the scenario settings. Option 3. This option is the extended version of Option 2, but at this point also change the domain in the scenario settings. For the domain configuration please refer to a dedicated article [Domain Configuration](/doku.php?id=domain_configuration). Option 4. Repeat the recommended steps from Options 2-3 and check the domain status for the existing issues in the search console: [https://search.google.com/search-console/](https://search.google.com/search-console/) Then fix the issue and send the site again for a review confirming that the issues have been eliminated. Please refer to [Google Safe Browsing](/doku.php?id=google_whitelisting) at this step. Option 5. The fastest and easiest option is to abandon the current domain name and register a new one. The registration process is described here: [Domain Configuration](/doku.php?id=domain_configuration). Option 6. In case if LUCY administration domain got blacklisted, there's a way to still be able to access it, but this would require the deactivation of Safe Mode, which is not recommended. If access is needed urgently, follow these steps (WARNING! This setting is applied globally for the browser!): Open Chrome Go to Settings > Privacy. Toggle off Chrome's Safe Browsing mode. After the actions above, the Deceptive Site message won't appear in your browser and the LUCY administration panel is available again. You can check if your domain got blacklisted by Google via the link below: [https://transparencyreport.google.com/safe-browsing/search](https://transparencyreport.google.com/safe-browsing/search) Whitelisting in different products GSuite/Google Apps Please review [this](/doku.php?id=gsuite_whitelisting) article. Office365 Please review [this](/doku.php?id=o365_whitelisting) article. Proofpoint From your Proofpoint admin center, navigate to Email Firewall, then Rules. Select the \"On\" radio button for Enable, under Rule Settings. Name your rule ID In the \"Condition\" section whitelist LUCY's IP addresses using the \"Add Condition\" button. Under Dispositions, change the Delivery Method from the default selection to Deliver Now. Save your rule and allow time for this new setting to propagate before testing. Baracuda Log in to your Barracuda Email Security Gateway web interface. Go to the BLOCK/ACCEPT > IP Filters page. In the Allowed IP/Range section, enter the LUCY IP in the IP/Network Address field. In the Netmask field, type 255.255.255.255. Click \"Add\" to whitelist the IP address. You might need to whitelist us in Barracuda's Intent Analysis feature to prevent the URLs in simulated phishing tests from being altered. Here is an article from Barracuda about this topic: [https://campus.barracuda.com/product/emailsecurityservice/doc/3211276/intent-analysis-inbound-mail/?welcome-to-campus=techlibrary](https://campus.barracuda.com/product/emailsecurityservice/doc/3211276/intent-analysis-inbound-mail/?welcome-to-campus=techlibrary) If you'd like to spoof your own domain, you can exempt Trusted Forwarder IP addresses from SPF checks. Here is an article from Barracuda about this:[https://campus.barracuda.com/product/emailsecuritygateway/doc/3866643/sender-authentication](https://campus.barracuda.com/product/emailsecuritygateway/doc/3866643/sender-authentication) Forefront Protection 2010 for Exchange Server In the Forefront Protection 2010 for Exchange Server Administrator Console, click Policy Management, and then under the Filters section, click Filter Lists. In the Filters – Filter Lists pane, click the Create button. In the Select Filter Type dialog box, select Allowed senders and then click Next. In the Filter Details dialog box, specify the filter list name and filter details In the Filter list name box, type a name for the new list. In the Filter criteria box, type the e-mail address or e-mail domain to be included in the filter list, and then click Add. User addresses should be entered in the following format: user@customer.com E-mail domain names should be entered in the following format: domain.com, domain.edu, domain.org, and so on. You can repeat this process in order to add multiple addresses or domains, or you can add multiple items on the same line, provided that they are separated by a comma. To configure the filtering options that will be bypassed for the e-mail addresses or domains specified in the list, you can select the following check boxes: File—Skips file filtering. Keyword—Skips keyword filtering. Content—Skips subject line and sender-domain filtering. Click Next. In the Target dialog box, configure how you want the filter list to be applied to the Hub/Edge Transport Scan. To enable the filter list for use with the transport scan, using the Enabled drop-down list, select Yes (this is the default). Click Create. The filter list you just created appears on the Filters – Filter Lists pane. Click Save. MessageLabs or Symantec To add a global Approved Sender: Select Services > Email Services > Anti-Spam. Ensure that Global Settings is selected in the domains drop-down list. Click the Approved Senders tab. Click the Add Entry option. The Domain/Email/IP and Description fields become editable. In the Domain/Email/IP field enter the IP address of the LUCY server. In the Description field, enter brief details about the new entry. To add the entry to the list, click Update. This new policy will allow any inbound mail flow originating from LUCY's IPs to reach your users. Catenator scripted module Any LUCY instance can be optionally hardened with the additional scripted module Catenator. It allows intercepting and redirecting requests that analyze phishing activity, minimizing the chance of LUCY instance to be blocked / blacklisted. More info [here](/doku.php?id=catenator) avoid_spam_issues.txt · Last modified: 2022/11/02 12:23 by editor5 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 176,
      "source": "https://wiki.thrivedx.com/doku.php?id=gsuite_whitelisting",
      "content": "gsuite_whitelisting [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • gsuite_whitelisting Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 gsuite_whitelisting Google Workspace Whitelisting There are several options in G Suite that can be adjusted to improve the Phishing Simulation Experience. Whitelisting emails from LUCY. Whitelist LUCY to receive emails from the appliance. Log into [admin.google.com](http://admin.google.com), go to \"Apps\": ![appsgs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=abac68&media=appsgs.png) Navigate to \"Google Workspace\": ![googleworkspace.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5bf625&media=googleworkspace.png) Go to \"Gmail\": ![3_gmail.png.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ad002c&media=3_gmail.png.png) Choose the \"Spam, phishing, and malware\" at the very bottom of the list: ![spamphishingmalware.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4618cc&media=spamphishingmalware.png) Add LUCY IPv4 to \"Email Whitelist\". Click \"Save\" ![emailwhitelist.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7df039&media=emailwhitelist.png) As the result of steps above, G Suite will not reject email messages from LUCY host, however, if you do not want them to be considered as spam, please do some additional steps: Go to \"Inbound Gateway\" configuration on the same menu. ![inboundgateway0001.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7281ef&media=inboundgateway0001.png) Add LUCY IPv4. Activate Message Tagging. Add a random set of symbols to the Regular Expression field. Only emails with a header like this expression will be considered as spam. Check \"Disable Gmail spam evaluation on mail from this gateway; only use header value\". Click \"Save\" ![inboundgateway.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7a2b98&media=inboundgateway.png) Bypassing spam by Email Header. Inside of a campaign, it is possible to set a custom X-Mailer Header. G Suite can analyze the header to bypass SPAM detection. Steps to configure: Log into [admin.google.com](http://admin.google.com), go to \"Apps\". ![appsgs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=abac68&media=appsgs.png) Go to \"Google Workspace\". ![googleworkspace.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5bf625&media=googleworkspace.png) Go to \"Gmail\". ![3_gmail.png.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ad002c&media=3_gmail.png.png) Go to \"Compliance\" at the very bottom. ![compliance.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4d7667&media=compliance.png) Go to \"Content Compliance\" and click \"Configure\". ![contentcompliance.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3b10e9&media=contentcompliance.png) Add description (e.g. \"Lucy Email Phishing\") Check \"Inbound\" Check \"Internal - receiving\" Select \"If ANY of the following match the message\" ![addsettingcompliance.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=dc91c4&media=addsettingcompliance.png) Click Add Expression → Advanced content match → Headers + Body → Contains text. Content → Input your LUCY X-Mailer Header[1)](#fn__1) (e.g. \"LucyHeader\") and click Save. ![addexpression.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b4c42c&media=addexpression.png) Scroll down to the \"Spam\" section and activate \"Bypass spam filter for this message\". Click \"Save\". ![spam.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1f9022&media=spam.png) Suspicious link issue Sometimes a warning pop-up window appears when you are trying to open link from LUCY email. ![14_suspicious_link.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=01233b&media=14_suspicious_link.png) First of all, please enable SSL in LUCY campaign. More info can be found [here](/doku.php?id=ssl_configuration). It can be that Let's Encrypt certificate is not enough, so we recommend to obtain a paid certificate. You can contact our support team via support@lucysecurity.com or any SSL vendor you like. However, there are known cases when even a paid certificate can not solve the issue. In this case, you can try to disable this pop-up on G Suite side. Untrusted domains from suspicious emails still will be not affected. \"Gmail clients will show a warning prompt when users click on any link in email to untrusted domains (does not work on IMAP/POP email clients). If you don't activate this feature, warnings will only be shown for clicks to untrusted domains from suspicious emails.\" Steps to configure: Log into [admin.google.com](http://admin.google.com), go to \"Apps\". ![appsgs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=abac68&media=appsgs.png) Navigate to \"Google Workspace\": ![googleworkspace.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5bf625&media=googleworkspace.png) Go to \"Gmail\". ![3_gmail.png.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ad002c&media=3_gmail.png.png) Go to \"Safety\". ![15_safety.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a04b17&media=15_safety.png) Go to \"Links and external images\". ![16_links_and_external_images.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=dbb2ea&media=16_links_and_external_images.png) Deactivate \"Show warning prompt for any click on links to untrusted domains\" and click \"Save\". ![17_deactivate_warning_prompt.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=aa544b&media=17_deactivate_warning_prompt.png) Gsuite can scan links inside of phishing simulation emails which can cause false-positives. The feature is called \"IMAP view time protections\". ![imap_view_protections.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=132df4&media=imap_view_protections.png) [1)](#fnt__1) LUCY X-Mailer Header is being configured in your campaign, message section, find more [here](/doku.php?id=mail_settings) gsuite_whitelisting.txt · Last modified: 2021/12/21 19:41 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 177,
      "source": "https://wiki.thrivedx.com/doku.php?id=o365_whitelisting",
      "content": "o365_whitelisting [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • o365_whitelisting Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 o365_whitelisting Microsoft 365 Whitelisting Microsoft’s new secure by default feature may affect current whitelisting rules that your organization has in place. Due to this change, you can use Microsoft’s new Advanced Delivery Policies feature to whitelist. To create, modify, or remove settings in an advanced delivery policy, you need to be a member of these role groups: Security Administrator role group in the Microsoft Security & Compliance Center Organization Management role group in Microsoft Exchange Online Avoid Spam Issues related to Office365 How are Phishing Simulations mails whitelisted in O365? - Microsoft has made fundamental changes to mail flow and filtering in mid-2021. Any exceptions in mail flow rules are no longer mandatory, various security default settings are made that cannot be bypassed. For example, mails classified as 'High Confidence Phish' will no longer be allowed to pass through via an Exchange Online Rule. In this context, Microsoft has also created the possibility to store an extra configuration for phishing campaigns, so that the exceptions only have to be defined at a central point. In the Exchange Online Protection Policies there is the Advanced Delivery section and there Phishing Simulation. The domain names and senders of phishing simulations can be stored there. Details about the new behavior and the Advanced Delivery / Phishing Simulation can be found here: [https://techcommunity.microsoft.com/t5/microsoft-defender-for-office/mastering-configuration-in-defender-for-office-365-part-two/ba-p/2307134](https://techcommunity.microsoft.com/t5/microsoft-defender-for-office/mastering-configuration-in-defender-for-office-365-part-two/ba-p/2307134) [https://docs.microsoft.com/en-us/microsoft-365/security/office-365-security/configure-advanced-delivery?view=o365-worldwide](https://docs.microsoft.com/en-us/microsoft-365/security/office-365-security/configure-advanced-delivery?view=o365-worldwide) Navigate to the configuration via the security.microsoft.com website, alternatively directly via this link: [https://security.microsoft.com/advanceddelivery?viewid=PhishingSimulation](https://security.microsoft.com/advanceddelivery?viewid=PhishingSimulation) O365. Phishing simulation setup. Adding sending domain and Sending IP to whitelist Open the Microsoft 365 Defender portal at [https://security.microsoft.com](https://security.microsoft.com) and sign in with your Admin account. Under Email & Collaboration, navigate to Policies & Rules > Threat policies ![threat_policies.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5e3b9b&media=threat_policies.png) Choose Advanced delivery. ![advanced_delivery.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=f43cc2&media=advanced_delivery.png) On the Advanced delivery page, select the Phishing Simulation tab. Click the Edit icon or If there are no configured phishing simulations, click Add. ![editadd.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=513b24&media=editadd.png) In the Edit third-party phishing simulation modal, adjust the following settings: at least one Sending domain entry [one that you use as Sender email in Lucy ] AND at least one Sending IP(Lucy instance IP address) entry. Optionally enter specific URLs that are part of your phishing simulation campaign that should not be blocked, using the recommended URL syntax format: example.com/ ![domainipurl.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=c412a8&media=domainipurl.png) Click Add. Final result should look like this. ![final1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=398d6b&media=final1.png) Wait at least 30 minutes for changes to propagate before you start any phishing campaigns! Thank You! o365_whitelisting.txt · Last modified: 2021/12/17 11:00 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 178,
      "source": "https://wiki.thrivedx.com/doku.php?id=o365_delisting",
      "content": "o365_delisting [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • o365_delisting Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 o365_delisting Microsoft O365 Delisting Microsoft uses blacklist to protect the clients from spoofing and phishing attacks. IP address of the mail server may have been tagged by as a potential threat by Microsoft O365 protection systems. When Microsoft O365 adds the IP address to the list, it prevents all further communication between the IP address and any of Microsoft products customers through their datacenters. Delisting is an easy procedure that would help solving these issues. Step 1 Open the website [https://sender.office.com/](https://sender.office.com/) Step 2 Type in your Microsoft E-mail and the IP of Lucy's mailserver. ![delisting1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b51716&media=delisting1.png) Step 3 Confirm Email address (the email with confirmation link would be sent to the email) ![delisting2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9db4d8&media=delisting2.png) Step 4 Check and confirm ![delisting3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fd3354&media=delisting3.png) Please note, that delisting may take up to 30 minutes. Additional information about Office365 delisting issues is available at [Microsoft site](https://docs.microsoft.com/en-gb/microsoft-365/security/office-365-security/use-the-delist-portal-to-remove-yourself-from-the-office-365-blocked-senders-lis?view=o365-worldwide) o365_delisting.txt · Last modified: 2022/04/01 12:05 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 179,
      "source": "https://wiki.thrivedx.com/doku.php?id=google_whitelisting",
      "content": "google_whitelisting [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • google_whitelisting Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 google_whitelisting Google Safe Browsing There are several options to solve the problem with the \"Deceptive site ahead\" issue when the domain has been blacklisted by Google and to improve the Phishing Simulation Experience. ![deceptive_site.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1c73fc&media=deceptive_site.png) First of all, there's a procedure of verification and proving that the blacklisted domain is your property. Go to: [https://www.google.com/webmasters/tools/security-issues](https://www.google.com/webmasters/tools/security-issues) and press \"Add property now\" ![g_white01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=6295f8&media=g_white01.png) ![g_white02.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=7ed063&media=g_white02.png) Enter the URL of the property that you'd like to verify and press \"Continue\". ![g_white03.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=55d692&media=g_white03.png) Domain name provider Verify domain ownership via DNS record procedure interface would appear. From the dropdown menu choose your domain provider. Or select the option \"Any DNS provider\" for the TXT record whitelisting method. Sign in to your domain name provider and add a TXT record as instructed. ![g_white04.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=40c350&media=g_white04.png) ![g_white05.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1feb1c&media=g_white05.png) For more info please refer to the [Google Page](https://support.google.com/webmasters/answer/9008080#domain_name_verification) Please note, that domain verification method is the recommended one. For more options please check the alternative methods available via URL prefix. ![g_white06.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=7ccae2&media=g_white06.png) HTML file upload Upload an HTML file to your site. ![g_white07.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=1980fd&media=g_white07.png) This method should be used only in case the others did not resolve the issue with the blacklisted domain. In order to have a link for verification http://your-domain/file-provided-to-verify\u200b.html your admin Lucy domain must be changed to the target one. Warning! During the procedure there would be no access to the default Lucy's admin path (for example, access.cloudsuperservice123.com) Connect to your Lucy server and use the [setup script](/doku.php?id=setup_script_tutorial) to change the domain configuration: python /opt/phishing/current/tools/setup/setup.py Choose 1. Current Configuration. Make sure to save somewhere the default domain so it can be restored in further steps. Choose 5. Domain Configuration. Enter the domain you would like to whitelist. Choose 8. Logout Setup Menu. Put the provided html file into the directory /opt/phishing/current/web/ by pasting it or creating manually a full copy of the file. At this point confirm successful upload by visiting the link in your browser. And press Verify in the Google Search Console. After receiving the success confirmation message the domain can be restored to the default one. ![g_wl_08.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=89f7fd&media=g_wl_08.png) For more info please refer to the [Google Page](https://support.google.com/webmasters/answer/9008080#html_verification) HTML tag Add a meta tag to your site's home page. ![g_white08.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e931f3&media=g_white08.png) For more info please refer to the [Google Page](https://support.google.com/webmasters/answer/9008080#meta_tag_verification) Google Analytics Use your Google Analytics account. ![g_white09.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8d63ea&media=g_white09.png) For more info please refer to the [Google Page](https://support.google.com/webmasters/answer/9008080#google_analytics_verification) Google Tag Manager Use your Google Tag Manager account. ![g_white10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=ccef38&media=g_white10.png) For more info please refer to the [Google Page](https://support.google.com/webmasters/answer/9008080#meta_tag_verification) Manage Security Issues Now the target domain should be added to your property list here: [https://www.google.com/webmasters/tools/security-issues](https://www.google.com/webmasters/tools/security-issues) Otherwise, it can be reached via page [https://search.google.com/search-console/welcome](https://search.google.com/search-console/welcome) Enter the target domain and press Continue. The notification should appear if the ownership was verified previously for the domain. ![g_wl_09.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2ff08f&media=g_wl_09.png) Here you can manage the issues with it, resolving security problems. Find the issue, request a review, and write a reason, that the site does not contain any harmful content. ![g_wl_10.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=05bd7e&media=g_wl_10.png) Please note, that the process might take a few days to finish. Usually, it's about 48 hours. After it's finished the notification email should be received containing the result of a request. google_whitelisting.txt · Last modified: 2021/08/16 15:41 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 180,
      "source": "https://wiki.thrivedx.com/doku.php?id=password_recovery_options",
      "content": "password_recovery_options [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • password_recovery_options Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 password_recovery_options LUCY offers you to restore the passwords generated by the user or the system in different ways: Root Password: this can be restored only within the [setup script](/doku.php?id=setup_script_tutorial) or [starting LUCY in recovery mode](/doku.php?id=recover_your_root_password) System User (SSH) \"Phishing\": this user is allowed to access the setup script. The password to this user can be [restored within the GUI](/doku.php?id=recover_your_root_password) Web User: in LUCY user is able to restore his password via e-mail by clicking on the \"Forgot?\" link within the login: ![pass_recov.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a25c81&media=pass_recov.png) This will initiate an e-mail that allows the user to set a new password: ![pass_recov2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a152dc&media=pass_recov2.png) password_recovery_options.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 181,
      "source": "https://wiki.thrivedx.com/doku.php?id=recover_your_root_password",
      "content": "recover_your_root_password [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • recover_your_root_password Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 recover_your_root_password There are two was to recover or reset your root or phishing user password in case you did not write it down upon installation: Reset it via web gui Recover it from console Reset your phishing user password via web gui The phishing user is the one you need to start the [setup script](/doku.php?id=setup_script_tutorial). Under settings you find a navigation item called \"show ssh password\". Here you are able to reset the password for the user phishing (please consult the [technical background info](/doku.php?id=technical_information) for more details on those users). The new password will be displayed within the GUI. ![recover_root.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=113aa2&media=recover_root.png) ![recover_root2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=72b248&media=recover_root2.png) Reset your root password via console In case you don't have access to your root password you can still set a new root password using the following procedure: 1. Boot into grub (blue window after BIOS boot-up screen), select \"single user\" but DO NOT press enter. 2. Press \"e\" to go into edit mode. 3. Scroll down to the kernel line, it starts with \"linux /boot/vmlinuz\"… 4. Scroll to the end of that line and press space key once and type init=/bin/bash 5. Press Ctrl+X to boot 6. After a few moments, the workstation will boot up in recovery mode and you will see a command prompt. Type the following commands in there: mount -rw -o remount / passwd 7. The last command will prompt you for the new root password. Enter some simple password (we will change it later to the secure one), enter password confirmation and then enter this command: reboot recover_your_root_password.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 182,
      "source": "https://wiki.thrivedx.com/doku.php?id=system_performance_monitoring",
      "content": "system_performance_monitoring [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • system_performance_monitoring Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 system_performance_monitoring We have two performance monitoring tools in LUCY: Performance Test and System Monitoring Performance Test LUCY is designed to work with over 100 K parallel recipients on one instance. This will require a hardware with sufficient [RAM & CPU](/doku.php?id=hardware). If you are not sure if your hardware meets the campaign requirements you can run the build in test module. It allows you to run a performance test in order to verify if your hardware can handle the amount of recipients. It will also check the Campaign Settings. ![74.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=142c08&media=74.jpg) Once the test has finished, you can see the detailed report which will tell you, how many recipients your sever is able to handle within reasonable time frames. ![75.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=497aeb&media=75.jpg) Note: A test can run for more than 20 minutes - so be patient and don't use the LUCY server in this time period. System Monitoring Beside the performance test which allows you to verify that your hardware is sufficient for a planed campaign you can also monitor the hardware performance in real time under /admin/help/resources. ![system_monitoring.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=55927c&media=system_monitoring.png) On the System Monitoring page you also can to clean up Lucy from unnecessary or unused data: ![sysmon2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=41e21e&media=sysmon2.png) Please note that: cleaning templates, campaigns, etc. will delete all downloaded or created templates, campaigns, etc. and its files and related database records cleaning db-backups will delete all database backups from the Lucy server. It is a relatively safe action, because Lucy creates database backup daily Clear Database button will delete all campaigns and recipients that earlier have been deleted from the Lucy panel (in fact, deleting campaigns or recipients in the Lucy panel do not delete related database records, its only marked as 'deleted') Clear button opposed to incidents will delete thumbnails and attachments of the reports which take most of the disk space. The reported email itself is stored in the database and will still appear under the Incidents tab. system_performance_monitoring.txt · Last modified: 2021/05/24 20:47 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 183,
      "source": "https://wiki.thrivedx.com/doku.php?id=log_files_in_lucy",
      "content": "log_files_in_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • log_files_in_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 log_files_in_lucy Lucy comes with various log files that can be accessed through the web gui. Here are a few examples: System Logs (Apache Error Log, Apache Access Log & Postfix Mail Log) The system logs can be found under admin/help/servicelogs within the web gui. ![system_logs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=41e415&media=system_logs.png) Application Logs (Lucy specific logs) Within the [send log function](/doku.php?id=send_us_logs_through_lucy) (admin/help/logs) you have a download button that allows you to download all LUCY related log files. ![system_logs2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e0fb75&media=system_logs2.png) Lucy Core Application Logs BeEf Status & Error Logs Console Logs Rescue System & Worker Logs Scheduler Logs System Monitoring Logs Campaign Logs Within the campaign you can use the dashboard with its [campaign monitoring](/doku.php?id=monitor_a_campaign_statistics) to track all activities or use the [reporting](/doku.php?id=create_campaign_reports) to export the campaign data. Other than that you have as well some campaign specific error logs you can access: ![campaign_logs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9aee05&media=campaign_logs.png) Message log: contains all messages that have been successfully transmitted by LUCY Error log: contains all errors related to the campaign specific message transmission Status logs Under /admin/help/status LUCY keeps track of all user activities. You can filter for a specific date range. Each activity has a link. Details are visible when you click on the link. Example: ![status1.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=6fb814&media=status1.jpg) ![status2.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=a28f80&media=status2.jpg) Mail communication logs when using external mail server (mail relay) Communication with an external mail server is logged to the /opt/phishing/runtime/resque_worker.log. If there were any errors, they are displayed in more or less details. Example 1 of communication error: [notice] [11:55:05 2019-06-27] (Job{worker} | ID: 6064cd8dsdsd396d5b84c3e21d | AwarenessCampaignMailJob | [{\"campaign\":154,\"id\":\"phish.campaign.154.awareness\"}]) has finished Failed to connect to ssl:clientserver.mail.protection.outlook.com:587 [SMTP: Failed to connect socket: Connection timed out (code: -1, response: )] #0 /opt/phishing/versions/4.5/web/protected/jobs/ScenarioChecksJob.php(294): MailManager::send('test@phishing.s…', Array, 'phish:9300', Object(CampaignAwareness)) #1 /opt/phishing/versions/4.5/web/protected/jobs/ScenarioChecksJob.php(881): ScenarioChecksJob→_mailCheck(Object(CampaignScenarioCheck)) #2 /opt/phishing/versions/4.5/web/protected/jobs/ScenarioChecksJob.php(906): ScenarioChecksJob→_runCheck('mail_check') Failed to connect to ssl:smtp.server.mail.protection.outlook.com:587 [SMTP: Failed to connect socket: php_network_getaddresses: getaddrinfo failed: Name or service not known (code: -1, response: )] #0 /opt/phishing/versions/4.5/web/protected/jobs/ScenarioChecksJob.php(294): MailManager::send('test@phishing.s…', Array, 'phish:8153', Object(CampaignAwareness)) #1 /opt/phishing/versions/4.5/web/protected/jobs/ScenarioChecksJob.php(881): ScenarioChecksJob→_mailCheck(Object(CampaignScenarioCheck)) #2 /opt/phishing/versions/4.5/web/protected/jobs/ScenarioChecksJob.php(906): ScenarioChecksJob→_runCheck('mail_check') Example 2: [notice] [14:24:29 2019-06-18] Starting work on (Job{worker} | ID: ca6254f0362b003ad8b63a6b3c3159d1 | PostfixJob | [{\"campaign\":114,\"id\":\"phish.smtp.postfix\"}]) [notice] [14:24:31 2019-06-18] (Job{worker} | ID: ca6254f0362b003ad8b63a6b3c3159d1 | PostfixJob | [{\"campaign\":114,\"id\":\"phish.smtp.postfix\"}]) has finished [notice] [14:24:31 2019-06-18] Starting work on (Job{worker} | ID: 26425557e3b7b740a1476276a1854e34 | AwarenessCampaignMailJob | [{\"campaign\":114,\"id\":\"phish.campaign.114.awareness\"}]) PHP Error[8]: Undefined variable: php_errormsg in file /usr/share/php/Net/Socket.php at line 196 #0 /usr/share/php/Net/SMTP.php(440): Net_Socket→connect() #1 /usr/share/php/Mail/smtp.php(385): Net_SMTP→connect() #2 /usr/share/php/Mail/smtp.php(271): Mail_smtp→getSMTPObject() #3 /usr/share/php/Mail/smtp.php(258): Mail_smtp→send_or_fail() #4 /opt/phishing/versions/4.5/web/protected/components/MailManager.php(131): Mail_smtp→send() #5 /opt/phishing/versions/4.5/web/protected/components/CampaignAwarenessManager.php(748): send() #6 /opt/phishing/versions/4.5/web/protected/components/CampaignAwarenessManager.php(777): CampaignAwarenessManager→_prepareAndSendEmail() #7 /opt/phishing/versions/4.5/web/protected/jobs/AwarenessCampaignMailJob.php(90): CampaignAwarenessManager→sendAwarenessEmail() #8 /opt/phishing/versions/4.5/web/protected/vendor/chrisboulton/php-resque/lib/Resque/Job.php(198): AwarenessCampaignMailJob→perform() #9 /opt/phishing/versions/4.5/web/protected/vendor/chrisboulton/php-resque/lib/Resque/Worker.php(243): Resque_Job→perform() #10 /opt/phishing/versions/4.5/web/protected/vendor/chrisboulton/php-resque/lib/Resque/Worker.php(205): Resque_Worker→perform() #11 /opt/phishing/versions/4.5/web/protected/vendor/bin/resque(127): Resque_Worker→work() #12 /opt/phishing/versions/4.5/web/protected/commands/ResqueCommand.php(28): include() #13 /opt/phishing/versions/4.5/web/protected/components/ConsoleCommand.php(93): ResqueCommand→runUnlocked() #14 /opt/phishing/versions/4.5/web/protected/framework/console/CConsoleCommandRunner.php(71): ResqueCommand→run() #15 /opt/phishing/versions/4.5/web/protected/framework/console/CConsoleApplication.php(92): CConsoleCommandRunner→run() #16 /opt/phishing/versions/4.5/web/protected/framework/base/CApplication.php(180): CConsoleApplication→processRequest() #17 /opt/phishing/versions/4.5/web/protected/framework/yiic.php(33): CConsoleApplication→run() #18 /opt/phishing/versions/4.5/web/protected/yiic.php(13): require_once() #!/usr/bin/env php Successfully sent emails are not logged in details, it is a simple \"AwarenessCampaignMailJob\" record that indicate the email has been successfully sent: [notice] [14:34:18 2019-06-21] Starting work on (Job{worker} | ID: eed90cc4a2048479e59df3353481041f | AwarenessCampaignMailJob | [{\"campaign\":151,\"id\":\"phish.campaign.151.awareness\"}]) [notice] [14:34:19 2019-06-21] (Job{worker} | ID: eed90cc4a2048479e59df3353481041f | AwarenessCampaignMailJob | [{\"campaign\":151,\"id\":\"phish.campaign.151.awareness\"}]) has finished log_files_in_lucy.txt · Last modified: 2021/04/30 20:24 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 184,
      "source": "https://wiki.thrivedx.com/doku.php?id=updating_lucy",
      "content": "updating_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • updating_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 updating_lucy Where to Find the Update? The Update feature can be found under \"Settings/Update\". ![update.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=9767f9&media=update.png) How do I know about updates? LUCY will inform you on the dashboard if new updates are available: ![updatestatus.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=2cff07&media=updatestatus.png) How to Perform an Update? LUCY can be updated in two ways: Manual update: This feature may be helpful for clients that run LUCY without access to the internet. The updated file can be provided by us on request. Automatic Update: By clicking the Update symbol, you can initiate the update process. ![update1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=89dc91&media=update1.png) Where can you start the update process? LUCY can be updated through the web console: ![101.jpg](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=f59b0a&media=101.jpg) IF LUCY is able to connect to the internet, it will automatically tell you, if a newer version is available. If there is a newer version out there, but LUCY shows you n/a in the Update field, please make sure that: LUCY is able to connect to our Update Server via Port 80. You are running a Commercial Edition. Note: Even the smallest Commercial Edition (100 User License with Max 50 campaigns for $50 USD) gives you full access to the Update feature. Which servers/protocols are used during the update? In order for the update to work, LUCY needs to be able to connect to the internet via HTTP to our Update server.In LUCY versions < 2.3, we need to be able to communicate with certain Debian repositories via FTP/HTTP. Does the Update also include the operating system? Yes. When clicking the Update button all updates for the application, Apache, database and the underlying operating system are done. Prior to version 2.3, LUCY needs to communicate with certain DEBIAN repositories in order to do that. In v 2.4 and higher, LUCY will compile all updates including the DEBIAN files from a centralized DEBIAN mirror operated on our LUCY Update server. Will the update affect a running campaign? The update will not affect data from previous campaigns, but an update should never be done while there is an active campaign running. Do you need to restart the server after an update? Usually not. Although we have experienced in the past, a few cases where a restart of the server solved some minor issues after an update. LUCY can be restarted within the python based Setup Menu. Does LUCY need an internet connection to be able to update? Only if there is an internet connection, can LUCY check for new updates. However, in the case that you are running LUCY in an environment with no internet connection, you are able to get an update file from us directly. This update file can then be uploaded to your LUCY server. ![5354.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=b4e36f&media=5354.png) What update types are available for the community edition? There are two type of updates: Security Updates/Patch: Those updates are available for all users including Community Edition users. Product Updates: Product updates are only available for Commercial Licenses. Troubleshooting I pushed the \"Update\" button but the page keeps saying \"Updating\" without changing: Sometime the page does not refresh after an update automatically. In this case, if you see an update still in progress after 10 minutes, please refresh the page manually. I know there is a new hotfix (like 2.5.3) but I don't see any new updates: It can take up to 5 minutes after an update to get the new update list from the centralized update server. Please come back in a few minutes and refresh the Update site to see if there are any further updates available. I press the update but nothing happens: please refresh the site. If the update has not been applied: try again updating_lucy.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 185,
      "source": "https://wiki.thrivedx.com/doku.php?id=upgrade_to_43",
      "content": "upgrade_to_43 [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • upgrade_to_43 Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 upgrade_to_43 How to upgrade from 4.2 to 4.3 or newer using Migration Tool Note: An update from Lucy 4.2 to the version 4.3 is not possible. The update requires a new installation and a migration of the data using the steps provided in this guide. If you dont have any data to migrate, you can simply download ([https://lucysecurity.com/download/](https://lucysecurity.com/download/)) and re-install LUCY and then provide us with your [workstation ID](/doku.php?id=transfer_license) in case you have a commercial license. A PDF version of this guide is available [here](/lib/exe/fetch.php?media=upgrade_to_43_using_migration_tool.pdf). Required steps before beginning the upgrade Update the initial server to the latest patch for Lucy 4.2. The latest version of Lucy 4.2 is 4.2.19 (March, 2019). Refer to [this page](/doku.php?id=updating_lucy) on how to update Lucy; Make sure that you have at least 50% of available disk space on the server; Setup a new server with the latest version of Lucy, see the section \"[INITIAL INSTALLATION](/doku.php?id=start#initial_installation)\". Only basic setup and automatic configuration ([setup script](/doku.php?id=setup_script_tutorial)) are required. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) In case of installation based on Docker, please refer to [this article](/doku.php?id=upgrade_docker_to_43); Create a backup of the entire server with Lucy 4.2 using any available backup tools. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Caution: All campaigns must be stopped before the update. ![](https://wiki.thrivedx.com/lib/images/smileys/exclaim.svg) Caution: Do not terminate the server with Lucy 4.2 after upgrading to the latest version. Leave it alive until you are completely sure that all data has been restored to the new system and that you have not lost anything. Step 1. Export data Log in to your server with Lucy 4.2 and navigate to the Support menu → Migration Tool; Select only those parameters that need to be migrated: ![migrationtool_optionstoexport.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=migrationtool_optionstoexport.png) Warning: Exporting templates (scenario, report, awareness) can take quite a long time and consume a huge amount of disk space. If you have not created your own custom templates, do not select these options for export. You can download all new templates again through the Download Templates page. Click on the \"Create\" button to start the export; You will be forwarded to the \"Backups\" page to monitor the status of the export: ![migrationtool_backupinprogress.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=migrationtool_backupinprogress.png) Be patient, this procedure can take from several minutes to several hours, depending on the number of options you have chosen to export. When the process is completed, you can download the archive by clicking on the link in the \"Time\" column: ![migrationtool_downloadbackupfile.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=migrationtool_downloadbackupfile.png) Note: Large archives can be transferred to the new server directly through the terminal, for example, using SCP command: Find your backup file in /opt/phishing/files/backups Run the commands below: cd /opt/phishing/files/backups/<id> scp backup.tar.gz root@<IP_address_Lucy>:/srv where, <id> is an identification number of the backup (can be found in the link to the file); <IP_address_Lucy> - is an IP address of the new server with the latest version of Lucy. Step 2. Import data Download ([https://lucysecurity.com/download/](https://lucysecurity.com/download/)) and install the latest version of LUCY Send us your new [workstation ID](/doku.php?id=how_to_activate_lucy) in order to transfer the license Log in to your new server and install all latest updates: go to the Support menu → Update; Restart the server after the update; Navigate to the Support menu → Migration Tool → go to \"Import\" tab; Select the file you downloaded in Step 1 and wait for the process to complete (this can take a long time); restore the backup transferred via terminal please run the commands below: cd /opt/phishing/current/web/protected ./yiic restore <path_to_backup.tar.gz> Note. The \"./yiic restore\" command does not display the progress of the restoration process. You can track the progress by checking the log file /opt/phishing/runtime/resque_worker.log. The event indicating the end of the restore process will appear in the log as \"RestoreJob …..has finished\". Post migration steps (optional) Update and install all new available templates: go to the Support menu → Download Templates; Change\\update system domain via the [Setup Script](/doku.php?id=setup_script_tutorial) If you have domains purchased via Lucy, please give us know if you need to update DNS records due to IP address changes. upgrade_to_43.txt · Last modified: 2019/11/22 02:40 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 186,
      "source": "https://wiki.thrivedx.com/doku.php?id=factory_reset",
      "content": "factory_reset [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • factory_reset Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 factory_reset How to factory reset your LUCY instance Within the Settings > Advanced Settings menu you will find a Factory Reset button. This button will restore your original LUCY configuration and delete all data (recipients, logs, campaigns, configurations etc.): ![factreset.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=5e2ce8&media=factreset.png) factory_reset.txt · Last modified: 2020/12/01 15:50 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 187,
      "source": "https://wiki.thrivedx.com/doku.php?id=some_buttons_or_certain_features_don_t_work",
      "content": "some_buttons_or_certain_features_don_t_work [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • some_buttons_or_certain_features_don_t_work Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 some_buttons_or_certain_features_don_t_work Always make sure you are running the latest version of LUCY by [checking if there are any updates available](/doku.php?id=update_lucy). If updating the system via HTTP does not work: download the latest version from the internet. some_buttons_or_certain_features_don_t_work.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 188,
      "source": "https://wiki.thrivedx.com/doku.php?id=some_buttons_are_greyed_out_and_i_cannot_use_them",
      "content": "some_buttons_are_greyed_out_and_i_cannot_use_them [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • some_buttons_are_greyed_out_and_i_cannot_use_them Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 some_buttons_are_greyed_out_and_i_cannot_use_them If a button is greyed out it means that there is a configuration setting which won't allow you to use that button. Examples: You cannot add recipients to your campaign: because recipients need to be associated with a scenario, you always first need to create a scenario first. After that you will be able to add the recipient group and associate it with one or multiple scenarios within your campaign. ![add_trecepients.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=6784cd&media=add_trecepients.png) You cannot use the scheduler or other buttons are greyed out: make sure you are not trying to edit the configuration of a running campaign. First stop the campaign and then try again to use the buttons. some_buttons_are_greyed_out_and_i_cannot_use_them.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 189,
      "source": "https://wiki.thrivedx.com/doku.php?id=lucy_error_messages",
      "content": "lucy_error_messages [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • lucy_error_messages Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 lucy_error_messages Invalid CSRF token: this indicates that you access a page without a valid token. This might happen if your session has a timeout. To resolve this please refresh the page and log in again. 403 - access denied: this error happens if you access a page where you are not authorized to view or the page does not exist anymore (e.g. if you delete some pages like log files and then try to access an outdated link). Request failed: If you see this error it means that LUCY has a performance issue. Sometimes it happens if you run multiple processes within LUCY at the same time. Usually it does not affect your actions. But if this error keeps appearing at multiple points we suggest you verify that LUCY runs with [sufficient hardware](/doku.php?id=hardware) settings. Connection to Redis failed: Redis typically holds the whole dataset in memory. If you see this error messages it indicates that the redis service is not running. This might happen after a system update that required a reboot. To resolve this please reboot LUCY from the console or via SSH (not via web gui). 500 error: A 500 internal server error is a malfunction in LUCY. This error should never appear. Only if you just rebooted the server (or the server was rebooted based on an update) and you try to access the administrative frontend before all services are started it is normal that you see a 500 error message. In all other cases we recommend verifying if LUCY is updated with latest patches. If you applied all patches and still see this error we kindly ask you to contact us with the error detail and also a detailed description of all the steps you did before this error occurred. CDbException: This is the exception that Yii will throw when something has gone wrong with a database operation. It might be caused by a temporary issue (e.g. performance). If refreshing the page does not help we kindly ask you to verify if you have applied the latest patches & rebooted the system. If the problem remains please contact us with a detailed description of all the steps you did before this error occurred. Server API Error 400: This error may appear in the error log within a campaign that is using SMS as a communication method. It indicates, that the message could not be send. This might be caused by using a wrong sender Format (if you use a Name instead of a phone number as a sender) CException Property \"System.workstation_key\" is not defined.: This error may appear after the updating to Lucy 4.x. System restart & clear browser cache should help. lucy_error_messages.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 190,
      "source": "https://wiki.thrivedx.com/doku.php?id=gateway_timeout_when_doing_a_backup_restore_import_etc",
      "content": "gateway_timeout_when_doing_a_backup_restore_import_etc [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • gateway_timeout_when_doing_a_backup_restore_import_etc Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 gateway_timeout_when_doing_a_backup_restore_import_etc In certain environments you might get a gateway timeout if you use a LUCY feature, which is very time consuming (e.g. a campaign backup or recipient import). Such a timeout may happen in LUCY versions below 3.1 in environments where LUCY is accessed over a proxy. If the proxy has a connection timeout limit which is less than required for Lucy to perform the desired action, then you will get a timeout error from the proxy (not LUCY). In such a case the internal Lucy limit is not reached and feature works as expected, but the proxy breaks the connection while LUCY performs the action. If such an error occurs you can either: try to access LUCY without a proxy or increase the timeout of your web proxy gateway_timeout_when_doing_a_backup_restore_import_etc.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 191,
      "source": "https://wiki.thrivedx.com/doku.php?id=we_use_a_proxy_to_connect_to_the_internet",
      "content": "we_use_a_proxy_to_connect_to_the_internet [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • we_use_a_proxy_to_connect_to_the_internet Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 we_use_a_proxy_to_connect_to_the_internet Initial Position LUCY needs to access certain servers in the internet to download the latest templates or updates. This is done via HTTP. Therefore you need to make sure LUCY is able to communicate via HTTP to the [according servers](/doku.php?id=network_communication_-_lucy_--_internet). Some networks require, that the HTTP communication is handled by a proxy. In this case you can configure the proxy settings in LUCY. Proxy Configuration In the [Settings Menu](/doku.php?id=advanced_settings) you can specify a proxy server together with the port and login authorization. LUCY will use those settings to connect to the internet. ![proxy_int.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8c9b5e&media=proxy_int.png) we_use_a_proxy_to_connect_to_the_internet.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 192,
      "source": "https://wiki.thrivedx.com/doku.php?id=setup_issues:lucy_does_not_get_an_ip_address",
      "content": "setup_issues:lucy_does_not_get_an_ip_address [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • lucy_does_not_get_an_ip_address Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 setup_issues:lucy_does_not_get_an_ip_address Make sure your [Network Settings](/doku.php?id=vmware_setup) in your virtualization software is set to \"bridged\" (not NAT!) Use the built in network tools in the [Setup Script](/doku.php?id=setup_script_tutorial) to verify if you can reach external servers. setup_issues/lucy_does_not_get_an_ip_address.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 193,
      "source": "https://wiki.thrivedx.com/doku.php?id=when_you_perform_a_test_run_with_your_campaign_the_spam_check_hangs",
      "content": "when_you_perform_a_test_run_with_your_campaign_the_spam_check_hangs [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • when_you_perform_a_test_run_with_your_campaign_the_spam_check_hangs Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 when_you_perform_a_test_run_with_your_campaign_the_spam_check_hangs If you’re using Debian 7 and installing the software through the shell script, then you might need to reboot the system for the Spam Assassin to start. It may fail to start automatically sometimes - that’s why the Spam Check may freeze. This behavior has been fixed in LUCY 2.2. In LUCY 2.2-2.5 the SPAM check will verify over 200 online DB's. It takes at least 10-15 minutes for this check to be finished! Starting from 2.6 the SPAM check is optional and not enabled by default. when_you_perform_a_test_run_with_your_campaign_the_spam_check_hangs.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 194,
      "source": "https://wiki.thrivedx.com/doku.php?id=deleting_status_log_files_manually",
      "content": "deleting_status_log_files_manually [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • deleting_status_log_files_manually Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 deleting_status_log_files_manually LUCY provides status logs (/admin/help/status) in the Web GUI. Before LUCY 3.0 they cannot be deleted within the GUI. In order to delete them you should log into the system (using SSH or via console setup script) and run this command: sudo -upostgres psql phishing -c \"delete from license_logs\" In case you run a docker based LUCY installation you need to: enter into docker: docker exec -it `docker ps -q` /bin/bash run: sudo -u postgres psql phishing -c \"delete from license_logs\" exit from docker: bash - exit deleting_status_log_files_manually.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 195,
      "source": "https://wiki.thrivedx.com/doku.php?id=updating_issues",
      "content": "updating_issues [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • updating_issues Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 updating_issues Troubleshooting: I pushed the \"Update\" button but the page keeps saying \"Updating\" without changing. Sometime the page does not refresh after an update automatically. If an update is still in progress after 10 minutes, please refresh the page manually. Troubleshooting: I know there is a new hotfix (like 2.5.3) but I don't see any new updates. It can take up to 5 minutes after an update to compile the new updated list from the centralized update server. Please come back in a few minutes and refresh the Update site to see if there are any further updates available. Troubleshooting: I don't see any updates. If you have a community edition, you will only be able to install hotfixes, but no updates. If you have a commercial edition, you need a working license + a working internet connection (http/https) in order to see the latest updates. updating_issues.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 196,
      "source": "https://wiki.thrivedx.com/doku.php?id=smtp_status_codes",
      "content": "smtp_status_codes [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • smtp_status_codes Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 smtp_status_codes Here is a list of possible \"Reply codes\" grouped by command connect 220 domain Service ready 421 domain Service not available, closing transmission channel HELO 250 Requested mail action okay, completed 500 Syntax error, command unrecognised 501 Syntax error in parameters or arguments 504 Command parameter not implemented 521 <domain> does not accept mail [rfc1846] 421 <domain> Service not available, closing transmission channel EHLO 250 Requested mail action okay, completed 550 Not implemented 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 504 Command parameter not implemented 421 <domain> Service not available, closing transmission channel MAIL 250 Requested mail action okay, completed 552 Requested mail action aborted: exceeded storage allocation 451 Requested action aborted: local error in processing 452 Requested action not taken: insufficient system storage 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 421 <domain> Service not available, closing transmission channel RCPT 250 Requested mail action okay, completed 251 User not local; will forward to <forward-path> 550 Requested action not taken: mailbox unavailable 551 User not local; please try <forward-path> 552 Requested mail action aborted: exceeded storage allocation 553 Requested action not taken: mailbox name not allowed 450 Requested mail action not taken: mailbox unavailable 451 Requested action aborted: local error in processing 452 Requested action not taken: insufficient system storage 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 503 Bad sequence of commands 521 <domain> does not accept mail [rfc1846] 421 <domain> Service not available, closing transmission channel DATA 354 Start mail input; end with <CRLF>.<CRLF> 451 Requested action aborted: local error in processing 554 Transaction failed 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 503 Bad sequence of commands 421 <domain> Service not available, closing transmission channel received data 250 Requested mail action okay, completed 552 Requested mail action aborted: exceeded storage allocation 554 Transaction failed 451 Requested action aborted: local error in processing 452 Requested action not taken: insufficient system storage RSET 200 (nonstandard success response, see rfc876) 250 Requested mail action okay, completed 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 504 Command parameter not implemented 421 <domain> Service not available, closing transmission channel SEND 250 Requested mail action okay, completed 552 Requested mail action aborted: exceeded storage allocation 451 Requested action aborted: local error in processing 452 Requested action not taken: insufficient system storage 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 502 Command not implemented 421 <domain> Service not available, closing transmission channel SOML 250 Requested mail action okay, completed 552 Requested mail action aborted: exceeded storage allocation 451 Requested action aborted: local error in processing 452 Requested action not taken: insufficient system storage 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 502 Command not implemented 421 <domain> Service not available, closing transmission channel SAML 250 Requested mail action okay, completed 552 Requested mail action aborted: exceeded storage allocation 451 Requested action aborted: local error in processing 452 Requested action not taken: insufficient system storage 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 502 Command not implemented 421 <domain> Service not available, closing transmission channel VRFY 250 Requested mail action okay, completed 251 User not local; will forward to <forward-path> 550 Requested action not taken: mailbox unavailable 551 User not local; please try <forward-path> 553 Requested action not taken: mailbox name not allowed 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 502 Command not implemented 504 Command parameter not implemented 421 <domain> Service not available, closing transmission channel EXPN 250 Requested mail action okay, completed 550 Requested action not taken: mailbox unavailable 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 502 Command not implemented 504 Command parameter not implemented 421 <domain> Service not available, closing transmission channel HELP 211 System status, or system help reply 214 Help message 500 Syntax error, command unrecognized 501 Syntax error in parameters or arguments 502 Command not implemented 504 Command parameter not implemented 421 <domain> Service not available, closing transmission channel NOOP 200 (nonstandard success response, see rfc876) 250 Requested mail action okay, completed 500 Syntax error, command unrecognized 421 <domain> Service not available, closing transmission channel QUIT 221 <domain> Service closing transmission channel 500 Syntax error, command unrecognized TURN 250 Requested mail action okay, completed 502 Command not implemented 500 Syntax error, command unrecognized 503 Bad sequence of commands smtp_status_codes.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 197,
      "source": "https://wiki.thrivedx.com/doku.php?id=malware_simulation:the_malware_sample_gets_detected_blocked_by_my_antivirus",
      "content": "malware_simulation:the_malware_sample_gets_detected_blocked_by_my_antivirus [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • the_malware_sample_gets_detected_blocked_by_my_antivirus Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 malware_simulation:the_malware_sample_gets_detected_blocked_by_my_antivirus It is very unlikely that the file is classified as a virus since we don’t simulate any virus behaviors (we don’t do any changes to the system). But we have noticed that certain vendors have a category like “suspicious, insight” or “unknown”. Basically it gets classified as one because it comes from an unknown source and there is no record of this file on the internet. As a result any unknown software is often put in this category. malware_simulation/the_malware_sample_gets_detected_blocked_by_my_antivirus.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 198,
      "source": "https://wiki.thrivedx.com/doku.php?id=the_awareness_website_is_not_working",
      "content": "the_awareness_website_is_not_working [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • the_awareness_website_is_not_working Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 the_awareness_website_is_not_working Unlike the phishing website, the awareness website has to be started manually in order to work (it has to be published and started). Sometimes the automatic sending of the awareness site also depends if LUCY has recorded a successful attack. This depends on the scenario type. Example: if you create a file based campaign and then use a data entry template, LUCY won’t consider the login from the user as a “success”. Only the file download from a user would be a “success” and start the automatic awareness email. the_awareness_website_is_not_working.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 199,
      "source": "https://wiki.thrivedx.com/doku.php?id=i_stopped_a_campaign_accidentally_-_how_can_i_start_it_without_re-sending_all_mails",
      "content": "i_stopped_a_campaign_accidentally_-_how_can_i_start_it_without_re-sending_all_mails [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • i_stopped_a_campaign_accidentally_-_how_can_i_start_it_without_re-sending_all_mails Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 i_stopped_a_campaign_accidentally_-_how_can_i_start_it_without_re-sending_all_mails If you accidentally stopped a running campaign where all mails have been already send out you can simply start it again by clicking the \"Resume\" button. Lucy then won't re-send emails - it just continues from the point where you stopped before.DO NOT press \"Restart\". This will delete all campaigns statistics and re-send the mails. ![re-start_campaign.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7442d0&media=re-start_campaign.png) i_stopped_a_campaign_accidentally_-_how_can_i_start_it_without_re-sending_all_mails.txt · Last modified: 2020/08/20 09:04 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 200,
      "source": "https://wiki.thrivedx.com/doku.php?id=running_lucy_without_access_to_the_internet",
      "content": "running_lucy_without_access_to_the_internet [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • running_lucy_without_access_to_the_internet Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 running_lucy_without_access_to_the_internet LUCY can run without any internet connection. However, there are certain scenarios where an internet connection might be required: License: After booting LUCY tries to contact our licensing server to get a workstation ID & key. If no internet connection exists, no key will be downloaded. If you switch from the community edition to a commercial license, LUCY needs to be able to connect at least one time to our license server. Updates: All updates require a HTTP connection to our update server in Germany. SSH: If you want to enable SSH access for remote support, LUCY will connect via Port 22 to our SSH hopping station. On this host, we can connect via SSH as well with the Port and password which is provided by you. running_lucy_without_access_to_the_internet.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 201,
      "source": "https://wiki.thrivedx.com/doku.php?id=smishing_issues",
      "content": "smishing_issues [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • smishing_issues Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 smishing_issues Known Smishing Problems Issues with Delivery (sender):This usually means, that your provider did not accept your senders ID. Try different variations to solve this. Example: if your sender number is 0041793531111 (where 0041 is the country code, 79 the prefix and 3531111 the phone number) you could try to send as +41793531111 or 0041793531111 or +41.793531111. If all variations do not work, please leave the sender field empty. Our message provider will then replace it with the default sender name. If the message gets successfully delivered with the default message, you can try to enter your own sender name (e.g. Jon Smith) instead of a phone number. Issues when spoofing with same provider: Spoofing a message within same provider within the same country might not work. For example: if you want to send a spoofed message from a cell phone using “o2” to another cell phone using “o2” the message won't arrive. But if you send the same message from a phone using “telekom” to a cell phone using “o2” it will work No credit: In order to use the Smishing feature you will need enough credits. To see your current balance go to the license page in LUCY. Issues with delivery (recipient number): sometimes the message is not delivered, because the phone number under the recipient is saved with the wrong format. Make sure recipients phone number always has the country code included. Issues with specific countries: in certain countries SMS spoofing will not work at all or SMS might only arrive if the sender is using a different country code. Example: in Belgium the SMS sender will get replaced by a general number like “8850” when using a different country code. Delivery issues (content): Unfortunately some operators block links in SMS sometimes (for example, in Russia it's nearly impossible to send a link in SMS). You could try to remove http link or create a plain SMS without a link to test this feature. For further info please check out the support section at: [http://support.messagebird.com/hc/en-us](http://support.messagebird.com/hc/en-us) smishing_issues.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 202,
      "source": "https://wiki.thrivedx.com/doku.php?id=scheduler_is_not_working",
      "content": "scheduler_is_not_working [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • scheduler_is_not_working Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 scheduler_is_not_working If the scheduler is not working go through the following checks: Apply the latest patches (/admin/settings/update) and make sure you did a reboot after the updates Make sure the time & time zone are both correct (/admin/settings) and reboot the server after you applied any changes! If you updated LUCY from an older version (< 2.8) the time zone settings that have been applied before the update may not be effective. As a result all mails might be sent at once even though you configured a scheduler. To fix this please re-apply the time & time zone settings again even if they appear correct. Make sure your license has enough credits and is not outdated (/admin/settings/license) Set a scheduler for a campaign with one simple rule (a few minutes in the future), then start the campaign & wait at least one hour to exclude any problems with the accuracy of the time settings Did you start the campaign after setting the scheduler? Please note that setting the scheduler won't initiate the mail delivery. The campaign needs to be started as well. scheduler_is_not_working.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 203,
      "source": "https://wiki.thrivedx.com/doku.php?id=the_landing_page_within_a_campaign_does_not_get_displayed_correctly",
      "content": "the_landing_page_within_a_campaign_does_not_get_displayed_correctly [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • the_landing_page_within_a_campaign_does_not_get_displayed_correctly Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 the_landing_page_within_a_campaign_does_not_get_displayed_correctly A landing page might look ok in a preview mode, but when accessed within a campaign the links to the style sheet and all images are not displayed correctly: this might happen if you try to \"restore\" a page by copying the source code from a scenario template under settings into the source code of a landing page within a campaign. The only way to restore the page is to re-load the according scenario template within the campaign. It is not possible to copy the source code from a template and then paste it into a landing page within a campaign. To use a specific template from the general template section you need to create a new campaign, and when you select the template you need to press the \"USE\" button. Lucy will then translate all the paths )CSS,images, JS etc.) to that specific campaign. the_landing_page_within_a_campaign_does_not_get_displayed_correctly.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 204,
      "source": "https://wiki.thrivedx.com/doku.php?id=usb_attack_-_download_button_greyed_out",
      "content": "usb_attack_-_download_button_greyed_out [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • usb_attack_-_download_button_greyed_out Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 usb_attack_-_download_button_greyed_out The download button in the USB attack will be greyed out as long as you didn't add an USB recipient group to your campaign: Go to recipients Create a new group and make sure the checkbox \"USB attack\" is clicked Once you created that group and placed it in your campaign you will be able to download the files usb_attack_-_download_button_greyed_out.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 205,
      "source": "https://wiki.thrivedx.com/doku.php?id=usb_attack_error_message_saying_that_there_are_no_new_recipients",
      "content": "usb_attack_error_message_saying_that_there_are_no_new_recipients [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • usb_attack_error_message_saying_that_there_are_no_new_recipients Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 usb_attack_error_message_saying_that_there_are_no_new_recipients In order to be able to start a USB attack you need to: a) create a [new campaign](/doku.php?id=create_a_usb_campaign) that has no other scenarios associated than the USB scenario b) create a recipient group that contains only USB sticks (it must not have regular users). The group should look something similar to the following example: ![usb2help.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=fd8df2&media=usb2help.png) ![usb3help.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=2a6d5d&media=usb3help.png) usb_attack_error_message_saying_that_there_are_no_new_recipients.txt · Last modified: 2019/11/22 06:21 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 206,
      "source": "https://wiki.thrivedx.com/doku.php?id=update_does_not_work_clicking_on_the_update_message_does_not_update_the_system",
      "content": "update_does_not_work_clicking_on_the_update_message_does_not_update_the_system [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • update_does_not_work_clicking_on_the_update_message_does_not_update_the_system Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 update_does_not_work_clicking_on_the_update_message_does_not_update_the_system The update page is not changing after I clicked on the update Please refresh the update page manually if it does not refresh automatically The update is not working You have various possibilities to fix this: 1) Re-boot the server and try updating again. Please [do a hard reboot of the server](/doku.php?id=reboot_lucy) if the reboot within the web gui has no effect. 2) Re-fresh the webpage and push the update button again (sometimes there is a latency that causes the update to fail). We had reports that it needed up to 3-4 attempts where the user had to click the according update again. 3) Fix possible virtual host configuration via SSH/console: Sometimes apache virtual host configuration files of old scenarios don't get deleted. So when you delete a company with many SSL-enabled scenarios, it's possible that /etc/apache2/sites-enabled/scenario-<SCENARIO ID>-ssl file will remain in there and checking apache configuration may fail (as the scenario doesn't exist yet, and its directories on disk are cleaned up as well). This configuration check is performed during the update, so if it fails, the update is rolled back to the previous version. Solution: find such configuration files and remove them, then try to update again. The error might be located in /opt/phishing/runtime/resque_worker.log file - somewhere between latest UpdateJob start and UpdateJob finish log entries. 4) Update the repository list: We had reports that the update failed because LUCY was not using the latest repositories. You can [login](/doku.php?id=recover_your_root_password) via root by entering the following command: \"apt-get update\". After entering this command please try to login again. 5) Corrupt SSL files: You might have to check if there are any files which are corrupt and referencing to non-existent SSL. To do this login as root and execute the command \"/usr/sbin/apachectl configtest\". Such files should be deleted. Repeat the command to check if everything is fine after the deletion. If you don't manage to fix the updating issue please [enable remote support](/doku.php?id=remote_ssh_support) for us. update_does_not_work_clicking_on_the_update_message_does_not_update_the_system.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 207,
      "source": "https://wiki.thrivedx.com/doku.php?id=the_start_button_within_the_awareness_message_template_is_not_visible",
      "content": "the_start_button_within_the_awareness_message_template_is_not_visible [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • the_start_button_within_the_awareness_message_template_is_not_visible Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 the_start_button_within_the_awareness_message_template_is_not_visible Within the awareness message template you have the ability to manually send out all awareness mails by clicking on the start button. If you click start, all awareness mails will be sent immediately. This option is only available, if you did not select the option to send the mails automatically in case of a successful attack. In case you want to send them manually and you don't see that start button, deselect the option within the scenario settings \"send mails automatically\" (your campaign needs to be stopped to change the settings). the_start_button_within_the_awareness_message_template_is_not_visible.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 208,
      "source": "https://wiki.thrivedx.com/doku.php?id=stop_all_campaigns_manually",
      "content": "stop_all_campaigns_manually [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • stop_all_campaigns_manually Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 stop_all_campaigns_manually In case if you are running campaigns, campaign pages are not opening (due to errors or some other issues) and we released a patch, you will be unable to upgrade from the UI. In order to upgrade you will need to stop campaigns manually. That could be done by connecting to Lucy over SSH and issuing the following command under root account: sudo -upostgres psql phishing -c 'update campaign_scenarios set status = 0 where status = 10' After the command is done, you can safely upgrade to the newest version and start the campaigns you previously stopped again. The article applies only to Lucy < 3.5 - starting from Lucy 3.5 you can stop all campaigns before upgrading right on the update page. stop_all_campaigns_manually.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 209,
      "source": "https://wiki.thrivedx.com/doku.php?id=amazon_ses_smtp_server_configuration",
      "content": "amazon_ses_smtp_server_configuration [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • amazon_ses_smtp_server_configuration Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 amazon_ses_smtp_server_configuration Amazon SES SMTP server configuration First of all, please, make sure that LUCY version is updated to 4.6.7 or later. In case you are not aware of your Amazon SES SMTP credentials please follow this instruction from Amazon: [https://docs.aws.amazon.com/ses/latest/DeveloperGuide/smtp-credentials.html](https://docs.aws.amazon.com/ses/latest/DeveloperGuide/smtp-credentials.html) Proceed to Settings → SMTP Servers and click Add server button. ![amazon-ses.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=76ee50&media=amazon-ses.png) Enter chosen Amazon SES SMTP endpoint to the SMTP server field. List of Amazon SES SMTP endpoints is here: [https://docs.aws.amazon.com/ses/latest/DeveloperGuide/smtp-connect.html](https://docs.aws.amazon.com/ses/latest/DeveloperGuide/smtp-connect.html) Set SMTP port to 587 or 2587. In the SMTP Encryption drop-down menu, please, choose STARTTLS option Enter your credentials to SMTP login and SMTP password fields. Click Save ![amazon-ses2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=2da91c&media=amazon-ses2.png) amazon_ses_smtp_server_configuration.txt · Last modified: 2020/07/06 23:25 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 210,
      "source": "https://wiki.thrivedx.com/doku.php?id=lucy_logging_concept",
      "content": "lucy_logging_concept [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • lucy_logging_concept Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 lucy_logging_concept Log files explained The following article comprises an overview of Lucy's logging sequences. Lucy keeps an internal log of application events. Thus, besides analyzing service logs (apache2 web server, postfix mail server and etc), one can also monitor most of the application events and perform an investigation of occurring errors. Lucy internal logs Depending on the instance type (on-premise or our VPS) administrators can access Lucy log files from the web interface and/or from the backend. Directory /opt/phishing/runtime contains log files of the web application on the server. Same directory archive + webserver error log can be downloaded from Lucy web interface under Support → Send Logs. The only apparent distinction is that on the server, logs can be dynamically monitored in real-time. Here is the list of the log files followed by a short overview: application.log Application-related log that collects errors from database and webserver. resque_worker.log The file that stores the journal of all Lucy events. Every job produces at least 2 notifications: job start and finish. Notification messages consist of the timestamp, id of the process, arguments (e.g. campaign data), and job status. awarenessrescheduler.log File contains plain notifications of re-scheduled awareness sent to the recipients. console.log Log file that collects events from various services and utilities used by background processes. mailcrawler.log Events related to the [mail manager](/doku.php?id=mail_manager) job get logged in here. Mail manager work migration.log Journal that is filled only in case Lucy instance is being migrated from version to version (for Lucy version < 4.2) proxystat.log If Lucy is working behind the proxy, all the related events will appear in here. reminders.log Log file for events related to reminders in campaigns. resque_emailparse.log Contains log for email parse job resque_enduser.log Log file for job updating victims statistics. resque_letsencrypt.log This file keeps a log of events related to Let's Encrypt API. resque_scheduler.log File contains the log of the scheduler events: schedule rule start and finish for each recipient. resque_ssl.log All SSL-related events: certificate creation, renewal, import, and etc. resque_stats.log Log of the campaign statistics job that regularly updates campaign results in the web interface. resque_system.log Jobs that affect system performance, e.g. updates, reboots, shutdowns, process killjobs. resque_victim.log Events related to binding recipient groups to campaigns. resque_visit.log Log of recipients visits to scenario web pages (both attack and awareness). The recipient's personal data is represented only with the victim's id here. Thus, no sensitive data is exposed whilst visit data is attributed to the victim (IP address, user agent, OS and etc). scheduler.log Scheduler log file. systemmonitoring.log System status log file. Status - Log of user actions Lucy also provides an opportunity to monitor users' activity: login-logout, started campaigns, messages sent and etc. Log files can be found within the user interface under Support → Status. ![status_logs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=50d341&media=status_logs.png) As of the screenshot: Status logs are presented in the list: time of the event, type of the event, and username. Logs can be filtered on the right pane. You can filter events by the type of action and specify the time period. Logs can be exported in CSV or XML format by pressing the Export button. Lucy's log journal can also be removed from the instance by pressing the Clear button. By pressing on the date one can proceed to a more detailed view of the log. It contains events with short messages describing the event briefly. Also, on the right one can always find a pane with information about the current user: name, phone and etc. ![status_logs_event.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=207f2f&media=status_logs_event.png) Service Logs Lucy also keeps journaling service logs - apache2 web server log and mail server log. These can be accessed under Support → Service Logs. You can choose the file and specify the time period within the accordant fields. There are three files (and their older versions): mail.log - contains postfix mail server events. access.log - apache2 web server log that contains all requests received. error.log - apache2 web server errors. ![service_logs.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=800&tok=e10c1c&media=service_logs.png) lucy_logging_concept.txt · Last modified: 2021/05/12 02:10 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 211,
      "source": "https://wiki.thrivedx.com/doku.php?id=how_to_choose_sender_email_for_the_campaign",
      "content": "how_to_choose_sender_email_for_the_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • how_to_choose_sender_email_for_the_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 how_to_choose_sender_email_for_the_campaign Sender Email Lucy provides you with considerable freedom in campaign configuration. That allows users to create sophisticated and content-rich attacks which can repeat actual scam schemes or have a unique structure. However, such freedom is always accompanied by many possible mistakes during campaign configuration. As a result, phishing simulation emails appear in junk folders or get rejected by the recipient's mail server. Poorly configured Sender Email address is the most frequent reason for that. Since Lucy specifies that address as a resource of the emails sent to recipients. Thus, any inconsistency might provoke recipient mail server to reject emails which means failed attack Where sender email is configured? Email address can be specified either during the initial campaign configuration in Wizard (screenshot 1) or later under Attack Settings → Scenario Settings → Message Template (screenshot 2). Screenshot 1 ![sender_email_wizard.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=51b122&media=sender_email_wizard.png) Screenshot 2 ![sender_email_expert.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=81a379&media=sender_email_expert.png) How sender email should be configured? In order to provide the highest deliverability of simulation emails, it is recommended to specify an existing domain in the email address. The domain should have MX and SPF records pointing to Lucy - this will allow Lucy to send emails on the behalf of this domain. As a result, when the recipient's mail server receives a phishing simulation email and performs DNS lookup, it will not find any inconsistency between the specified sender email address and the actual source of the email. The domain can be acquired within the Lucy interface or from any registrar. The key to successful delivery is correct DNS records: SPF, MX and DMARC (optional but highly recommended). For domains acquired in Domain configuration (including DNS records management) is described [here](/doku.php?id=domain_configuration). Common mistakes Although it is indeed possible to spoof existing domains, it is highly recommended to avoid that and use self-registered domains that contain typos and look like real ones. Most of the mail services have built-in DNS checks which mean that spoofing real domains (especially of big corps like google.com or outlook.com might lead to IP address block from ISPs. how_to_choose_sender_email_for_the_campaign.txt · Last modified: 2021/05/12 15:52 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 212,
      "source": "https://wiki.thrivedx.com/doku.php?id=hsts_policy",
      "content": "hsts_policy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • hsts_policy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 hsts_policy How to Enable/Disable HSTS Policy for Admin Panel HSTS policy is enabled on every single Lucy instance by default. One can check whether the policy is enabled via dev tools in the Chrome browser. Simply proceed to Lucy admin console and send Ctrl+Shift+C hotkey combination. There proceed to the Network tab and open the Headers section. ![hsts_01.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=e21e5a&media=hsts_01.png) To enable/disable the header on the instance follow these steps: 1. Open ssh connection to the instance 2. Open the file nano /opt/phishing/files/system/vhost-templates/virtualhost-ssl.txt 3. Add or remove the following line at the beginning of the file (after <VirtualHost *:443> tag): Header always set Strict-Transport-Security \"max-age=63072000; includeSubDomains;\" 5. Restart the apache server: service apache2 reload service apache2 restart hsts_policy.txt · Last modified: 2022/01/20 15:42 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 213,
      "source": "https://wiki.thrivedx.com/doku.php?id=catenator",
      "content": "catenator [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • catenator Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 catenator Catenator Any LUCY instance can be optionally hardened with the additional scripted module Catenator. It allows intercepting and redirecting requests that analyze phishing activity. The requests from the anti-phishing programmed bots of the following networks: Google Microsoft Amazon that analyze phishing activity are being redirected to a page with neutral content. The content of the page and lists of known subnets and addresses from which analysis can be made are updated on a daily basis. As a result, the chance of the LUCY instance being blocked is highly decreased. This script can be implemented into VPS or on-premise linux-based system by request. Contact us via support@lucysecurity.com. Please note, the ssh access would be required for this feature. catenator.txt · Last modified: 2021/12/13 14:52 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 214,
      "source": "https://wiki.thrivedx.com/doku.php?id=i_started_my_campaign_-_but_no_mails_get_send_and_i_see_no_error",
      "content": "i_started_my_campaign_-_but_no_mails_get_send_and_i_see_no_error [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • i_started_my_campaign_-_but_no_mails_get_send_and_i_see_no_error Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 i_started_my_campaign_-_but_no_mails_get_send_and_i_see_no_error If you start a campaign and notice that mails don't get delivered at all you can check in the [message & error log](/doku.php?id=log_files_in_lucy) of the campaign for any log entries that might indicate the nature of the problem. If you don't see any log entries there are a few possible reasons for this behavior: Scheduling Issue: This might happen if you configured a [scheduling rule](/doku.php?id=scheduler) that is either in the past or in the future. Make sure the [time zone](/doku.php?id=advanced_settings) is also correct in order for this feature to work precisely. No new recipients: If you press “START” for a campaign that has been started & stopped before (so mails already have been sent out once before), the mails won't be resent (only the webpage will be started and the links become available again). To resend the mails in such a scenario please use the “RESTART” button. Please check out [this section](/doku.php?id=start_a_campaign_campaign_checks) for more info. Mail delivery issues: check out [this](/doku.php?id=mail_communication_issues_-_mails_do_not_get_send_at_all) WIKI article if mails are not sent at all or [this](/doku.php?id=mail_communication_issues:e-mails_do_not_arrive) WIKI if some mails get through. i_started_my_campaign_-_but_no_mails_get_send_and_i_see_no_error.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 215,
      "source": "https://wiki.thrivedx.com/doku.php?id=mail_communication_issues:e-mails_do_not_arrive",
      "content": "mail_communication_issues:e-mails_do_not_arrive [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • e-mails_do_not_arrive Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mail_communication_issues:e-mails_do_not_arrive Possible reasons for mail communication issues There are many reasons for email communication errors. Example: In LUCY, emails appeared to be sent to your recipients. But sometimes emails never arrive or arrive very late. In this case, there are a few issues you can check: Existing 3rd party mail domain: Did you use an email address with a domain that points to a different MX record? If you use attacker@gmail.com as an example for the sender most email servers will block that email since LUCY is not the official email server for this service. Non-existant mail sender: Did you use an email address as a sender that does not exist? This will get rejected by most mail servers. You use a file based attack scenario: many SPAM filters filter mails that contain an executable (even if they are zipped). Therefore those mails won't arrive. Solution: switch to a file based scenario where the user can download the file from a webpage. Invalid recipient: Did you use a valid recipient address? If you uploaded a recipient like “info@domain_does_not_exist.com no email will arrive since there is no email server for the domain \"domain_does_not_exist.com” SPAM issues: The email might have arrived in the Spam Inbox because some Spam filters may classify emails as Spam if the subject or body contains specific words. You can verify your email content by using a free service like [https://www.mail-tester.com/](https://www.mail-tester.com/) (german) or [http://isnotspam.com/](http://isnotspam.com/) (English). Please check out this [WIKI](/doku.php?id=avoid_spam_issues) on how to avoid SPAM issues. Incorrect mail domain: The email might have been rejected at the recipient's email server because many email servers reject emails from a server that has no valid MX record. You should see the status in the LUCY Error log. Firewall blocks port 25: LUCY is sending emails, in many cases, via SMTP (port 25). If you place LUCY in a company LAN, keep in mind that in many cases port 25 to your official MX (email server) is not opened from the LAN to the DMZ or wherever your email server is located. LUCY also needs to be able to resolve DNS (port 53) to do the MX lookup. Spoofing your own domain: Did you define your own company domain as a sender? Example: You try to phish your employees with the domain mycompany.com which is actually the official domain for your company? The problem is that there might be a DNS record (example SPF) that defines which mail server is allowed to send mails on behalf of this domain. If such a record exists your email server will deny emails coming from a different server using this domain. The solution is: If you still want to perform a phishing test, with a domain like the one from your company, we recommend reserving a similar domain like “my-company.com” or strategically place a typo like “myconpany.com”. Most users won’t recognize the difference and you'll have an additional feature to test awareness. Missing DNS entries (SPAM issues): Did you modify your DNS entries to match the scenario? Some SPAM filters will test if there is a valid PTR (reverse DNS) set for the host that sends an email. If it doesn't exist, it will be rejected. Most providers allow you to define MX, TXT, records for your domain/host. But not only the PTR is required. Your SMTP banner sometimes also gets checked, if it matches the hostname. To change the hostname in the email service, you can set the hostname within /etc/postfix/main.cf like this: \"myhostname=server.example.com\". Then restart the mail server: \"postfix stop && postfix start\". What logs do I have to investigate the issue? First check if the mail got send by clicking on the message log in the left navigation panel within a campaign ![mail_communication_issues:messagelog.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=7906ba&media=mail_communication_issues:messagelog.png) Then check if there was a communication error by clicking on the error log in the left navigation panel within a campaign ![mail_communication_issues:error_log.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=200&tok=bd2fe3&media=mail_communication_issues:error_log.png) Please also take a look at the[ Postfix mail log](/doku.php?id=log_files_in_lucy) to get a more detailed output. How to investigate mail delivery issues? There are a few possible scenario's: a) No mails send: then you won’t see anything in the message log. This could be caused by a misconfiguration of the campaign. Go [check your settings](/doku.php?id=mail_settings). b) Mails send – but with error: then you will see an error in “Errors”. LUCY displays the error message of the remote SMTP server. Example: if you want to send a mail to john@company.com LUCY will lookup the MX record for \"company.com\" and communicate via SMTP (port 25) to the server. If the server rejects the mail delivery you will see the remote smtp server's [status code](/doku.php?id=smtp_status_codes) in the error log. c) Mail send – no error: mail communication has been established and mails have been accepted for delivery, but no mail arrives. Try to send a test mail under support/test mail. ![mail_communication_issues:testmail.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=d33b21&media=mail_communication_issues:testmail.png) If the test mail arrives you know that the SMTP communication works and LUCY's IP is not filtered by any 3rd Party product. Therefore you experience a configuration issue in the campaign which causes the mail to get filtered (like using a spoofed sender domain which has an SPF record, using a sender domain that points to a different MX record or has no valid MX record at all or creating a campaign that gets filtered because of the SPAM score). Also make sure you even created a [message template](/doku.php?id=mail_settings) in the campaign). If the test mail does not go through: make sure port 25 is opened on your router/firewall and mails do not get filtered by SPAM filters. In case the firewall configuration is not allowing LUCY to send mails, you might also configure LUCY to use an external mail server. See [using_an_external_mail_server_or_web_proxy](/doku.php?id=using_an_external_mail_server_or_web_proxy). Also please investigate your [configuration](/doku.php?id=i_started_my_campaign_-_but_no_mails_get_send_and_i_see_no_error) d) Mails start sending - but it stops after a while. Please [check this chapter](/doku.php?id=not_all_mails_are_send_after_a_campaign_is_started). How can you resend mails that generated an error? Yes - please consult [this](/doku.php?id=resend_mails_that_previously_generated_an_error) chapter. mail_communication_issues/e-mails_do_not_arrive.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 216,
      "source": "https://wiki.thrivedx.com/doku.php?id=mail_communication_issues:lucy_says_mail_test_failed_when_i_start_a_campaign",
      "content": "mail_communication_issues:lucy_says_mail_test_failed_when_i_start_a_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • lucy_says_mail_test_failed_when_i_start_a_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mail_communication_issues:lucy_says_mail_test_failed_when_i_start_a_campaign To make sure emails arrive, we recommend defining a test email recipient and conducting a test run. By default LUCY sends an email to the email address [defined in the user list](/doku.php?id=user_management) (admin user). mail_communication_issues/lucy_says_mail_test_failed_when_i_start_a_campaign.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 217,
      "source": "https://wiki.thrivedx.com/doku.php?id=mail_communication_issues:mails_may_arrive_delayed",
      "content": "mail_communication_issues:mails_may_arrive_delayed [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • mails_may_arrive_delayed Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mail_communication_issues:mails_may_arrive_delayed This is usually not caused by LUCY. If we cannot establish a SMTP connection, we won’t retry until a few hours have gone by. This is easy to verify: LUCY tells you if all emails have been sent. Usually this is done within seconds or minutes and can be tracked with Wireshark or similar tools. If all the emails have been sent, then technically there is nothing left for LUCY to do to accelerate the delivery. So in over 95% of cases, the process of delivery takes less than a minute. In a few cases, the message could take as long as 5 days to complete its trip from sender to recipient. It rarely takes more than 5 days as one of the SMTP servers will send the message back as undeliverable. And yes, the email that contains the Error message could take 5 days to get back! You also have to remember that there is a lot of software and hardware in between that your email has to pass through to get from the point of origin to its destination. Whether it is server hardware, software, routers, switches, copper or fiber optic cables, power grids, or even your own computer, there are many potential points of failure along the way. If any one of these has an outage or is overloaded, a delay can occur. mail_communication_issues/mails_may_arrive_delayed.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 218,
      "source": "https://wiki.thrivedx.com/doku.php?id=mail_communication_issues_-_mails_do_not_get_send_at_all",
      "content": "mail_communication_issues_-_mails_do_not_get_send_at_all [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • mail_communication_issues_-_mails_do_not_get_send_at_all Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mail_communication_issues_-_mails_do_not_get_send_at_all There are a few possible reasons why mails are not being send out: there is an error in the SMTP communication (e.g. the remote server rejects the delivery) the SMTP communication is being blocked (e.g. PORT 25 is not opened) LUCY is configured to use a mail relay which either is not allowed to relay mails or LUCY is not provided with the correct credentials. there is a domain configuration issue. Example: If you configure a scenario, which has specified as a sender email like \"user@mydomain.com\" configured and also at the same time email forwarding enabled for the domain, Lucy will add the sender email account (and its domain; in this case \"mydomain.com\") to the internal mail server and waits for incoming email for that user. So if Lucy added mydomain.com to the list of mail domains for incoming mail and you try at the same time to send email using the internal mail server, LUCY will actually not try to send mails anywhere, instead it will try to send mails to itself, assuming mydomain.com mail server is configured on Lucy itself. mail_communication_issues_-_mails_do_not_get_send_at_all.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 219,
      "source": "https://wiki.thrivedx.com/doku.php?id=not_all_mails_are_send_after_a_campaign_is_started",
      "content": "not_all_mails_are_send_after_a_campaign_is_started [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • not_all_mails_are_send_after_a_campaign_is_started Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 not_all_mails_are_send_after_a_campaign_is_started There can be several reasons why LUCY might stop sending mails after a campaign has been started: Too high memory usage (fixed in 3.0) The user can save advanced system settings or change campaign configuration during a campaign. That will trigger the background worker queue to restart and may result in stopping the email queue (fixed in 3.0) There might be some email formatting issues (fixed in 3.0 as well) that do not allow to process a mail In such a case you can try to STOP the campaign and then START it again. Do not use the restart function! When you simply START the campaign again, LUCY will try to continue sending mails right where it stopped. There won't be any mails send to recipients again who already received a mail. not_all_mails_are_send_after_a_campaign_is_started.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 220,
      "source": "https://wiki.thrivedx.com/doku.php?id=accessibility:i_cannot_reach_lucy_web_gui",
      "content": "accessibility:i_cannot_reach_lucy_web_gui [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • i_cannot_reach_lucy_web_gui Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 accessibility:i_cannot_reach_lucy_web_gui In case you try to reach LUCY with a private domain name: Did you setup a host file with a server name that points to the IP where you have configured the initial setup script? In case you try to reach LUCY with a public domain name: Did you point the correct domain name to LUCY's IP in your provider's DNS settings? Are you using the correct IP address/port? You cannot reach a private IP address from the internet if you don’t have a public IP address. You need to create a free DynDNS or similar service account to be able to match the private IP address with a public reachable DNS name. Make sure the firewall allows access to LUCY on Port 80/443. Make sure you have a NAT rule with Port Forwarding defined on your firewall in case you access a LUCY server with a private IP from a public location. accessibility/i_cannot_reach_lucy_web_gui.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 221,
      "source": "https://wiki.thrivedx.com/doku.php?id=accessibility:i_changed_the_admin_port_for_the_user_interface_but_my_firewall_blocks_access_to_that_port",
      "content": "accessibility:i_changed_the_admin_port_for_the_user_interface_but_my_firewall_blocks_access_to_that_port [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • i_changed_the_admin_port_for_the_user_interface_but_my_firewall_blocks_access_to_that_port Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 accessibility:i_changed_the_admin_port_for_the_user_interface_but_my_firewall_blocks_access_to_that_port If you change the admin port in LUCY from 443 to a custom port (in this example port 8081), you might find yourself in a situation that a security device (e.g. Firewall) is blocking access to that port. In order to turn the settings back to port 443 please do the following via SSH (port 22) or directly on the system: Login via terminal and execute these commands: cd /etc/apache2 nano ports.conf comment two lines: #Listen 8081 #NameVirtualHost *:8081 Save and exit Press Ctrl+O+Enter and Ctrl+X to save&exit. Change virtual host configuration nano sites-available/phishing-ssl edit the first line like to: <VirtualHost *:443> Save & Exit Press Ctrl+O+Enter and Ctrl+X to save&exit. Remove entries rm sites-enabled/phishing-ssl-extra rm sites-available/phishing-ssl-extra Change IP-Tables iptables -F LUCY_ADMIN iptables -D INPUT -j LUCY_ADMIN iptables -X LUCY_ADMIN iptables -N LUCY_ADMIN iptables -I INPUT -j LUCY_ADMIN iptables-save Update database For Lucy 4.1 and older: sudo -upostgres psql phishing UPDATE system SET admin_port=null; \\quit For Lucy 4.2 and newer: sudo -u postgres psql phishing -c \"UPDATE system SET value=null WHERE name='admin_port'\" Restart Apache service apache2 restart Try to login again [https://your-ip/admin](https://your-ip/admin) accessibility/i_changed_the_admin_port_for_the_user_interface_but_my_firewall_blocks_access_to_that_port.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 222,
      "source": "https://wiki.thrivedx.com/doku.php?id=accessibility:i_can_reach_lucy_via_http_s_but_i_only_see_the_pink_lucy_404_not_found_page",
      "content": "accessibility:i_can_reach_lucy_via_http_s_but_i_only_see_the_pink_lucy_404_not_found_page [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • i_can_reach_lucy_via_http_s_but_i_only_see_the_pink_lucy_404_not_found_page Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 accessibility:i_can_reach_lucy_via_http_s_but_i_only_see_the_pink_lucy_404_not_found_page * This might happen, if your webserver is running and the port is accessible, but you either mistyped the URL or used a domain name that is not configured in the initial VMware setup. For example, your server is configured with VMware with a private IP 192.168.10.10 and a domain like lucy.local but it wants to access LUCY with a domain like example.com which you defined for that IP on your DNS server. To solve this, you simply need to go into the VMware setup again and define your domain (e.g. example.com) as a domain name. If you stopped a campaign and click on the old link, you will get a 404 page. You might see a 404 when you try to access the landing page from a phishing email created by LUCY. This might happen if you have accessed the scenario already as an LUCY administrator before accessing the link in the email. In that case LUCY will have set a cookie that causes the problem. This cookie will tell LUCY to directly forward you to the authenticated landing page which sometimes causes a 404 error. The solution is to delete all cookies in your browser and restart the browser and try to access the link in the email again. accessibility/i_can_reach_lucy_via_http_s_but_i_only_see_the_pink_lucy_404_not_found_page.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 223,
      "source": "https://wiki.thrivedx.com/doku.php?id=i_see_way_more_page_views_in_the_statistics_than_send_out_mails",
      "content": "i_see_way_more_page_views_in_the_statistics_than_send_out_mails [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • i_see_way_more_page_views_in_the_statistics_than_send_out_mails Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 i_see_way_more_page_views_in_the_statistics_than_send_out_mails It is possible a user forwards the email or clicks on the same link more than one time. It is possible the user has revisited or refreshed the page. Page views are always higher than the amount of emails sent since each page, login page, account page or refresh of the browser counts as a page view. i_see_way_more_page_views_in_the_statistics_than_send_out_mails.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 224,
      "source": "https://wiki.thrivedx.com/doku.php?id=the_link_in_the_campaign_does_not_work_anymore",
      "content": "the_link_in_the_campaign_does_not_work_anymore [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • the_link_in_the_campaign_does_not_work_anymore Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 the_link_in_the_campaign_does_not_work_anymore After starting your campaign, the users will get a randomized URL sent via email that might look like this: [https://phishing.withlucy.net/a5b371863fc2d6b5e2bf2bc2199597135f3db17c9a9194247002ae86e24c75ff](https://phishing.withlucy.net/a5b371863fc2d6b5e2bf2bc2199597135f3db17c9a9194247002ae86e24c75ff). This is a system generated link that cannot be altered! Each user gets a different link. If you have changed the link in the email manually, it will not work. Another reason why the URL is not reachable anymore is when the campaign is stopped. Only when it is started will the URL work. the_link_in_the_campaign_does_not_work_anymore.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 225,
      "source": "https://wiki.thrivedx.com/doku.php?id=it_takes_me_automatically_to_the_authenticated_account_page_when_i_click_on_the_url_in_the_mail",
      "content": "it_takes_me_automatically_to_the_authenticated_account_page_when_i_click_on_the_url_in_the_mail [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • it_takes_me_automatically_to_the_authenticated_account_page_when_i_click_on_the_url_in_the_mail Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 it_takes_me_automatically_to_the_authenticated_account_page_when_i_click_on_the_url_in_the_mail This means that you have already clicked on that URL in the email before and it has been authenticated or verified. As a verified user, you will have a session cookie stored in your browser which takes you automatically to the authenticated page. This is intended since we don’t want users to be verified twice. By deleting your browser cache, you will get to the login page again after clicking on the link in the URL. Starting from Version 2.6.4 the Cookie will only be stored in Memory. Therefore closing the current browser session before accessing the URL or deleting the session cookie (please note that in IE you can only delete session cookies by clicking F12 and then the button \"clear the session cookies\") will prevent this behavior. it_takes_me_automatically_to_the_authenticated_account_page_when_i_click_on_the_url_in_the_mail.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 226,
      "source": "https://wiki.thrivedx.com/doku.php?id=links_in_mails_in_my_company_cannot_be_opened",
      "content": "links_in_mails_in_my_company_cannot_be_opened [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • links_in_mails_in_my_company_cannot_be_opened Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 links_in_mails_in_my_company_cannot_be_opened You might not be allowed direct access to the internet via a web browser. Instead you may be allowed access to the internet using a physical different PC or a different infrastructure (e.g. accessing the internet via Citrix etc.). As a result, a link sent in a mail can’t be opened). The only way to conduct a phishing attack in such an environment, without having the user type a long randomized URL into a different system, is by setting a directory within the URL manually. This can be done in the recipient file. There is a variable which you can set called “Link” – a unique link part for the landing page. If you specify this, please make sure it is unique across all recipients in the scenario and does not contain any special characters. If you skip this, the link will be generated automatically. You can choose a simple name for a link for a group of recipients (keep in mind that you can upload different recipient groups per scenario). Please find more info [here](/doku.php?id=configuration_for_clients_that_cannot_click_on_links_in_mails). links_in_mails_in_my_company_cannot_be_opened.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 227,
      "source": "https://wiki.thrivedx.com/doku.php?id=malware_data:lucy_cannot_see_any_data_from_users_that_clicked_on_the_executable",
      "content": "malware_data:lucy_cannot_see_any_data_from_users_that_clicked_on_the_executable [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • lucy_cannot_see_any_data_from_users_that_clicked_on_the_executable Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 malware_data:lucy_cannot_see_any_data_from_users_that_clicked_on_the_executable Is the Exe running on a Win7/Win8 host with Internet Explorer? If not, it won’t work (i.e. if it's executed on a MAC or Linux Host). We support Mozilla Firefox too, although there might be issues depending on the browser settings (e.g. if you use a different browser than IE to access the internet with proxy settings). Can you reach LUCY from the internet via HTTP or HTTPS from your PC, where the file gets executed? If not, the tool also won’t be able to save the data. Make sure the DNS resolution works and the corresponding firewall Port mappings are configured properly. Is there a local firewall or security product blocking untrusted code from being executed or communicating back to LUCY? Does the UAC settings ([https://msdn.microsoft.com/en-us/library/windows/desktop/bb648649](https://msdn.microsoft.com/en-us/library/windows/desktop/bb648649)(v=vs.85).aspx) block the file or is it configured in a way, that the user is not even notified? Is the exe only not communicating back to LUCY or is it maybe getting blocked from running? As all LUCY's file templates only run for a few seconds in the memory beside the interactive console post, you could try to generate a campaign with interactive sessions ([http://phishing-server.com/PS/doc/dokuwiki/doku.php?id=interactive_reverse_http_s_sessions](http://phishing-server.com/PS/doc/dokuwiki/doku.php?id=interactive_reverse_http_s_sessions)) and check in the process explorer, if you see the file.exe running as a process in the context of the user. If you don't see the file, you know that something is blocking the execution or your windows version is not compatible with the file templates. In that case you can download our malware testing toolkit which will generate a lhcf.txt file on your desktop with debugging info that can help us investigate the issue. You can then send us this text file. Here is the link to our test file:[malwaretestingtoolkit_logile.zip](/lib/exe/fetch.php?media=malware_data:malwaretestingtoolkit_logile.zip) malware_data/lucy_cannot_see_any_data_from_users_that_clicked_on_the_executable.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 228,
      "source": "https://wiki.thrivedx.com/doku.php?id=collected_data_got_corrupted_after_update_to_4.x",
      "content": "collected_data_got_corrupted_after_update_to_4.x [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • collected_data_got_corrupted_after_update_to_4.x Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 collected_data_got_corrupted_after_update_to_4.x When you click \"Click to View\" on the Collected Data page an empty form appears: ![collected_data_empty_form.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=432317&media=collected_data_empty_form.png) Follow the steps below to restore the data: 1. Connect to the server via SSH. 2. Execute the commands below one by one: cd /tmp sudo -u postgres psql phishing -c \"UPDATE collected_data SET type=1 WHERE type=0\" 3. Check whether the collected data is restored. collected_data_got_corrupted_after_update_to_4.x.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 229,
      "source": "https://wiki.thrivedx.com/doku.php?id=false_positives_in_campaign_statistics",
      "content": "false_positives_in_campaign_statistics [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • false_positives_in_campaign_statistics Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 false_positives_in_campaign_statistics Why are there false positives in the campaign? Sometimes, it happens that campaign statistics do not correspond to the real number of clicks. For example, a campaign has just been stopped, the report has been generated and sent to the client. And the client responds that some of the recipients shown as clicked or successfully attacked did not actually click on the phishing link (or input data/download file). In 100% of cases, statistics discrepancy is produced by automated security measures and services. Why this happened? Most probably, Lucy IP address or domains used in the campaign has not been properly whitelisted on the recipient's side. Most of the mail servers and clients utilize global and built-in security measures that study the content of incoming email before delivering them to the recipient. In the case of Lucy emails, phishing links get clicked by such services in order to gather information about the source. Thus, Lucy web-server receives requests to unique URLs and considers those as clicks from real users. Some of the mail security tools before showing to the recipient put incoming email into the sandbox and proceed to all links and even download attachments or files from the landing page. Which may as well produce incorrect statistics from [Tracked opened emails tool](/doku.php?id=track_opened_mails). How to avoid such issues in future camapigns? Whitelisting Kindly contact the mail admins and security team in order to verify that tLucy IP address and/or domain names are properly whitelisted within the infrastructure. Though even arriving at the recipient's inbox, emails can produce incorrect statistics because the link has been already clicked by the bot. Firewall Protection Interval The following [feature](/doku.php?id=antivirus_spam_protection_interval_setting) provides a short interval at the beginning of the campaign (after email is sent) during which every click would be considered as automatically produced by security policies on the recipients end. Filters [Functionality](/doku.php?id=filters) that allows defining IP addresses from which Lucy will ignore any requests (clicks). Testing The only way to find out if there are any security policies that may produce false positives mid-campaign is only to run several test campaigns to a small group of the recipients. During tests, one can find out IP addresses and policies prevent possible incorrect statistics. false_positives_in_campaign_statistics.txt · Last modified: 2021/06/28 15:02 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 230,
      "source": "https://wiki.thrivedx.com/doku.php?id=recipient_import_and_syntax_issues",
      "content": "recipient_import_and_syntax_issues [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • recipient_import_and_syntax_issues Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 recipient_import_and_syntax_issues Your recipients lists must follow a certain syntax. If there is a obvious error in the syntax (e.g. a missing character) LUCY will import the mail, but the campaign log will display an error and the mail server might stop sending mails at the position where the error happened. Here is an example of such an error: ![err_syntax.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=8d580e&media=err_syntax.png) To resolve this click on the recipient link in your campaign ![err_syntax2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4f058a&media=err_syntax2.png) and then delete the recipient(s) that caused the error: ![err_syntax3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=818889&media=err_syntax3.png) In order for LUCY to start the mailing service again and continue sending mails within the campaign you need to STOP the campaign and then immediately START it again. LUCY will start sending mails again (but it won't send mails, which have already been sent). Attention: DO NOT press \"RESTART\". This will delete all your statistics and resend mails to all users again. recipient_import_and_syntax_issues.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 231,
      "source": "https://wiki.thrivedx.com/doku.php?id=i_updated_the_recipient_group_used_in_a_campaign_-_but_new_mails_are_not_being_processed_in_the_campaign",
      "content": "i_updated_the_recipient_group_used_in_a_campaign_-_but_new_mails_are_not_being_processed_in_the_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • i_updated_the_recipient_group_used_in_a_campaign_-_but_new_mails_are_not_being_processed_in_the_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 i_updated_the_recipient_group_used_in_a_campaign_-_but_new_mails_are_not_being_processed_in_the_campaign To solve this, you simply need to stop the campaign, delete the recipient group, then add the same recipient group again and restart the campaign. Please note: deleting the recipients within a running campaign will delete all stats! In LUCY 2.6 and higher, you can simply add a new group and LUCY will ask you if the emails should be sent out immediately in the same campaign. i_updated_the_recipient_group_used_in_a_campaign_-_but_new_mails_are_not_being_processed_in_the_campaign.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 232,
      "source": "https://wiki.thrivedx.com/doku.php?id=i_want_to_add_a_few_extra_mails_into_a_running_campaign",
      "content": "i_want_to_add_a_few_extra_mails_into_a_running_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • i_want_to_add_a_few_extra_mails_into_a_running_campaign Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 i_want_to_add_a_few_extra_mails_into_a_running_campaign LUCY allows you to add new recipients in an existing group, which is used in a running campaign. To add a recipient to a group, you can follow the instructions here: [Add Mail Recipients](/doku.php?id=add_mail_recipients) If you added new recipients within the existing campaign group LUCY will ask you if you want to send the mails immediately. If you don't click yes, the new recipients will not be added in the running campaign. If you want to send the mails immediately make sure the \"send mails immediately\" check is selected. ![new_mails.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9ae809&media=new_mails.png) Please note: You cannot add a new group to a running campaign. In case you want to add a new group you have to stop the campaign and start it again. Make sure you [don't restart](/doku.php?id=i_stopped_a_campaign_accidentally_-_how_can_i_start_it_without_re-sending_all_mails) it. i_want_to_add_a_few_extra_mails_into_a_running_campaign.txt · Last modified: 2021/12/13 10:37 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 233,
      "source": "https://wiki.thrivedx.com/doku.php?id=user_unknown_virtual_alias_table",
      "content": "user_unknown_virtual_alias_table [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • user_unknown_virtual_alias_table Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 user_unknown_virtual_alias_table User unknown in virtual alias table The error is usually happening because of misconfiguration. If you use the sender email \"sender@mydomain.com\" and you have the \"[Track Responses](/doku.php?id=response_detection)\" feature enabled at the same time. With the feature enabled, all of the emails that are purposed to be delivered to *@mydomain.com will be intercepted by LUCY, since LUCY expects a response to this domain. So an email to a recipient with *@mydomain.com domain will never be delivered. To resolve the issue it is recommended to deactivate the \"Track Responses\" feature in all campaigns that have sender email matching with recipients domain or to use another sender email. user_unknown_virtual_alias_table.txt · Last modified: 2020/05/13 11:13 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 234,
      "source": "https://wiki.thrivedx.com/doku.php?id=technical_information",
      "content": "technical_information [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • technical_information Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 technical_information Technical Information This page describes the technologies and software used by LUCY. The information herein applies mostly to VM-based LUCY distributions (VMware Workstation, VMware ESXi, VirtualBox and Amazon) as LUCY installations on custom dedicated servers may have different configurations. The LUCY server contains different components. Those components are already installed when using our images (Vmware/AMI etc.) or are installed when using the Linux installer. ![setup_all_in_one.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=6c4829&media=setup_all_in_one.png) LUCY Vmware technical components When you download and boot the VMware Image, all software components are integrated in that image. There is no need to install any additional software. All components (DB, mail server, web server etc,) are bundles within the VMware images and controlled by the internal LUCY software, which runs transparently in the background. The updating of those components is also done within the LUCY software through internal processes, which are not visible to the end user. ![vmwared1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=65e729&media=vmwared1.png) Browser & OS support The list of supported browser and OS can be found [here](/doku.php?id=supported_operating_systems). Hardware requirements The hardware requirements may vary depending on the amount of recipients you upload for testing, your campaign type and also how you run the campaign. More info [here](/doku.php?id=hardware). External service API's LUCY offers different API's to third party services or via REST API: URL Shortening services DynDNS services External mail relays (Sendgrid) SMS (Messagebird) Domain (Godaddy) LUCY REST [API](/doku.php?id=api) Installation Lucy can be installed on premise or in the internet. More info [here](/doku.php?id=network_design_-_where_to_setup_lucy). Network communication LUCY may require certain communication channels to servers on the internet. More info [here](/doku.php?id=network_communication_-_lucy_--_internet). Operating System Starting from 4.3, LUCY is running on a 64-bit Debian 9 (Stretch) system. There are no system patches or hardenings applied - LUCY uses a vanilla Debian distribution without any additions. The system is configured to download updates and new packages from a custom LUCY apt mirror, which has the same IP address, as LUCY license server (make sure it is open on your corporate firewall). The operating system gets updated only when you upgrade LUCY to a new version. Security Settings [Create custom firewall rules (iptables) in LUCY](/doku.php?id=create_custom_firewall_rules_iptables_in_lucy) [SSL Configuration](/doku.php?id=ssl_configuration) [Custom Admin URL & Title](/doku.php?id=custom_admin_url_title) [Confidentiality of Campaign Data](/doku.php?id=confidentiality_of_campaign_data) [Security Considerations](/doku.php?id=security_considerations) [Firewall & Security Settings](/doku.php?id=firewall_security_settings) [Password Policies, Login Protection & Strong Authentication](/doku.php?id=password_policies_login_protection_strong_authentication) [2-Factor Authentication (2FA)](/doku.php?id=2-factor_authentication_2fa) Accounts There are a few accounts on the system like \"phishing\" or \"support\". The \"phishing\" account is the one that is used for Lucy file permissions. Also you can SSH to Lucy using \"phishing\" account and it will automatically launch the console setup program. The \"phishing\" account is required for Lucy to function properly, so it's not recommended for removal. If you SSH to the \"phishing\" account the console setup program ([python setup script](/doku.php?id=setup_script_tutorial)) is launched (with elevated privileges). So it can't be used as a full-featured SSH login. The purpose is to only run the setup console. The \"support\" account is used to log into the system over SSH when user turns on SSH access for support. It's safe to remove the \"support\" account, but then we won't be able to log into that system over SSH for support purposes. Web Server Lucy web interface uses Apache 2.4 as a web server. The server utilizes \"mod-security\" and \"mod_headers\" modules to hide underlying software signatures from external visitors. Database LUCY stores all related data in PostgreSQL 9.6 RDBMS. All sensitive information stored in there is encrypted as PostgreSQL is available only for internal connections. There are no configurable options for the DB encryption. The encryption is mandatory for all data and is performed automatically with the following settings: It’s a column-level encryption performed on both the application and DB layers before storing any data in the database. We don’t use TDE (transparent database encryption), as PostgreSQL doesn’t support it, so we encrypt only a subset of columns in DB – everything that holds client/attack/recipient-related data. We mostly perform the encryption/decryption on the application level, but there are certain queries that decrypt data on the DBMS level for convenience – for sorting & data search. The encryption is performed using AES-256-CBC. On demand we can provide a HSM solution, that will allow us to use a HSM-based encryption – in that case the encryption key will be stored on the external hardware module with anti-tampering protection. Intermediary storage LUCY also uses Redis Server 3.2 as an intermediary storage (task queue) when passing input data and results between users and background system workers. The data stored in Redis is not encrypted. Software, secure coding & hardening LUCY code is a PHP application based on Yii Framework. Certain parts of the system (some background scripts) are implemented using the Python programming language. We follow the following security principles: OWASP Top 10 / 2017 Framework-level SQL injection prevention Framework-level CSRF prevention Lucy partially conforms to \"CIS Debian 9\" checklist (50% conformance: we can provide a detailed list of non-conforming items upon request. There are no critical issues in uncovered parts) Lucy partially conforms to \"CIS PostgreSQL 9.5\" checklist (50% conformance: we can provide a detailed list of non-conforming items upon request. There are no critical issues in uncovered parts) PHP 7.1 is being updated using mirrored [repo](https://deb.sury.org/), which contains security patches developed by Microsoft. [Source](https://github.com/microsoft/php-src/blob/PHP-5.6-security-backports/NEWS) of the patches. VPS servers provided by us are having additional layers of protection. More can be found [here](/doku.php?id=vps_hardening). Folders Almost all LUCY files are located in /opt/phishing folder, which contains the system code, user files and settings. Normally, you shouldn't have to deal with LUCY code, so the most useful directories are those where user files are stored. All user-related files are placed in /opt/phishing/files folder: Attachment-templates — File templates for file-based attacks (exes and macro files) Awareness-templates — Awareness template storage Campaigns — Campaign and scenario files storage Domains — Domain DKIM configuration storage Header-images — Header images for report templates Page-templates — System page templates (for example, 404 page template) Recipient-groups — Recipient group storage Report-templates — Report templates file storage Scenario-templates — Scenario templates file storage System — Keeps system files: Custom logo, system SSL certificates and system-wide static files for landing pages Logs There are several places in the system where you can find LUCY-related logs. They can be helpful to resolve or diagnose issues using your own technological resources without involving LUCY support. First of all, you should look at Apache web server logs directory /var/logs/apache2, where web server saves access and Error log files: access.log error.log The next place with logs is /opt/phishing/runtime, where LUCY application logs are stored: application.log — Web application log - here you can find all web interface error notifications. beef.log — BeEF vulnerability detection framework log. console.log — Console commands log - Contains errors and issues for periodical background commands. resque_system.log — System background tasks log. resque_worker.log — Service background tasks log - Almost all background tasks you use in LUCY (including sending emails, copying websites, etc.) write logs to this file. scheduler.log — Scenario scheduler log. Critical Services There are several system services that are critical for LUCY. You can check if they are running by executing \"ps aux\" command. If some of required services are not running, then they should be started using \"service NAME start\" command (where NAME is the name of the service you are going to start): apache2 postgres redis-server supervisor Frequently asked questions (FAQ) Which components are installed with the installer script? What modifications are made to Linux OS by the installer? When Lucy is installed as a docker image, it gets downloaded from [https://hub.docker.com](https://hub.docker.com) (you can search for Lucysecurity there) to internal docker storage that is managed by docker itself – as any other usual docker image. Usually it’s /var/lib/docker/. After that the installer launches the image with specific parameters, extracts a management script (that launches Lucy’s console setup tool) to /tmp/files, moves it to /usr/bin/lucy-setup.sh and removes the /tmp/files folder. These are all changes that the docker-based installer does, all other software and files are within the container. When installing Lucy in a \"legacy\" way (which is possible only for Debians, as the installer requires some Debian-specific packages and software versions), the installer adds around 500 new packages, does very deep system changes, including configuring the login shell, changing other services (postfix, apache, etc). The installer checks if docker is installed and installs it from the official docker website. Are there any downsides of having docker engine pre-installed? No, pre-installed docker engine is just fine and will work completely the same. Just make sure it will be updated on time. Who patches the Docker Runtime and host Linux system when security vulnerabilities become known? When using a Docker-based installation, the Docker engine and all packages on the host are managed by the host package management system – be it RHEL package management or Debian/Ubuntu APT. Lucy’s docker container has no access to outer system and therefore cannot install any updates there. When using a \"legacy\" installation, all software packages are updated along with Lucy updates using Lucy's Debian mirrors. How does Lucy update when it’s running in Docker? After installing a Docker container with Lucy, Docker's container system is not involved anymore - all updates are performed within the container using container's APT system with our custom package mirror. Is the container included in the installer payload or is the container loaded via docker pull? Lucy's container is downloaded from [https://hub.docker.com](https://hub.docker.com) (official Docker Hub) during installation. When configuring proxy in Lucy, what software is affected? In case of Docker installation, only software inside the container is affected. There are no consequences for the software on the host system. When using a legacy installer, the proxy configured will be used as a default proxy for the whole Linux system. How do you back up Lucy? Speaking of Docker container installation, the backup is seamless and is a peace of cake. First of all you \"commit\" the container, making a static image of it with all files, changes, etc: docker commit lucy lucy-backup After that you: either save it as a tar file: docker save -o /path/to/lucy-backup.tar lucy-backup or export it to your private docker registry: docker push lucy-backup The backup image can be recovered easily from file by docker load -I /path/to/lucy-backup.tar (in case of local file) or docker pull lucy-backup (in case of private docker registry) After that you can start your container as a regular docker container with this command: docker run –privileged -v /proc/sysrq-trigger:/sysrq -d -p 80:80 -p 443:443 -p 25:25 -p 5001:5001 –name lucy –restart=always lucy-backup /bin/bash /etc/run-services.sh Things get a bit more difficult in case of \"legacy\" installation - you should back up multiple directories, where configurations and files are stored: /opt/phishing /etc/ /var/lib technical_information.txt · Last modified: 2023/02/08 12:05 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 235,
      "source": "https://wiki.thrivedx.com/doku.php?id=release_notes",
      "content": "release_notes [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • release_notes Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 release_notes 4.9 Release Notes This release, version 4.9, focuses on our exciting new UI (User Interface). The new look and feel gives ThriveDX’s Security Awareness Training solution a more intuitive and sleek look that is easier to navigate. With the aim to delight our customers, this UI enhancement puts the users in the center so that they can focus on what matters most, providing effective security training to their colleagues. 1. Main Updates Brand new User Interface including: New color scheme and styles Reorganized main menu and lower-level menus Smishing in the USA - ability to use custom domain for URL Shortener Security improvements 2. Detailed Description of UI Changes 2.1 Login Page Updated look and feel with new brand colors ![playground:image1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=7fb4aa&media=playground:image1.png) 2.2 Main Menu Relocated from the very top to the left Added minimize & expand option Added icons Some items changed location to create a flatter menu Some items were grouped under new tabs for better organization and to minimize the need to scroll ![playground:image2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=62b7c4&media=playground:image2.png) ![playground:image3.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=5f5b6c&media=playground:image3.png) Details of changes in locations of tabs in the main menu: Profile moved to the right License moved from Support to Profile Password moved under Account (in Profile menu) Changes in the order of main menu tabs: Campaigns → Templates → Users → Settings → Incidents → Support Templates moved one tier up from underneath Settings to the main menu User related settings moved one tier up from underneath Settings to the main menu Settings: Domain related settings were grouped under “Domain Management” Backup, Migration Tool, and Exports moved from Support to Settings under “Backup & Restore” Support: Some items were grouped in new sub-tabs: Status, System Tests, and System Logs Tools tab was canceled and the items underneath it moved: Mail Spoofing Test moved from Tools to Support→System Tests Mail & Web Filter Test moved from Tools to Support→System Tests File Browser moved from Tools to Settings Sessions functionality was canceled altogether 2.3 Campaigns Page All functionalities remained Some actions moved location for more intuitive use ![playground:image4.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=f8de79&media=playground:image4.png) Details of updates: Widgets moved from the right to the left New Campaign moved from the left to the right Select button was removed and instead Select All functionality was added to the table itself Search moved from the left to the right 2.4 Campaign Wizard ![playground:image5.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=c7b7d8&media=playground:image5.png) Campaign Wizard Type - three options available: Attack Simulation Educate Employees Infrastructure Tests The link to Engage Employees was removed from this location (it was already deactivated in previous versions). 2.5 Campaign Summary Page ![playground:image6.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=0892f8&media=playground:image6.png) Minor design changes: Exposed elements in tier 1 are now aggregated in tier 2 under Actions: Reset Stats, Report, and Save as Template Some pie charts are now presented at bar charts Timeline at the end of the page is now horizontal instead of vertical 2.6 Templates ![playground:image7.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=400&tok=1af973&media=playground:image7.png) List View and Grid View are now icons: ![playground:image8.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=100&tok=86de55&media=playground:image8.png) Delete functionality was moved under Actions Sort By functionality was reorganized under one button: Sort by name Sort by updated on release_notes.txt · Last modified: 2022/09/21 11:32 by editor8 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 236,
      "source": "https://wiki.thrivedx.com/doku.php?id=release_notes_4_9_1",
      "content": "release_notes_4_9_1 [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • release_notes_4_9_1 Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 release_notes_4_9_1 4.9.1 Release Notes This release, version 4.9.1, focuses on fixing several bugs related to the new UI (User Interface), tracking quiz results, and performance issues with high load campaigns. 1. Fixed Bugs - New UI 2FA (two factor authentication) when updating from 4.8.8 to 4.9 A bug with SSO SAML configuration A bug of a wrong chart clicked appearing in awareness campaign Displaying an incorrect fraction of the average score in awareness campaigns Mail & Web Campaign - results were not clickable Wizard would sometimes close when pressing Search 'Anonymous Visibility' - textbox that was set to value 10 instead of being empty by default Update of login page with new design (also solving the 'forgot password' button displacement) Match new UI design specs Missing administrative features - administrative user should be able to delete exports and resend emails A bug with missing campaign filters 2. Detailed Description of UI Changes A bug with tracking quiz results of html-type content Optimizing SQL queries for campaigns with high loads release_notes_4_9_1.txt · Last modified: 2022/11/24 17:23 by editor3 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 237,
      "source": "https://wiki.thrivedx.com/doku.php?id=release_notes_4_9_2",
      "content": "release_notes_4_9_2 [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • release_notes_4_9_2 Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 release_notes_4_9_2 4.9.2 Release Notes This hotfix release, version 4.9.2, focuses on enabling the ability to track quiz results and progress of SCORM type content, as well as fixing some content related bugs. 1. The following topics were addressed Tracking statistics of SCORM awareness templates: Quiz results, answer to each question, and time each answer took Properly displaying \"Training Completed\" and \"Average over all users\" values on End User Portal Saving edited awareness email templates (bug fix) release_notes_4_9_2.txt · Last modified: 2022/12/08 10:18 by editor3 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 238,
      "source": "https://wiki.thrivedx.com/doku.php?id=release_notes_4_9_3",
      "content": "release_notes_4_9_3 [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • release_notes_4_9_3 Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 release_notes_4_9_3 4.9.3 Release Notes In this release, version 4.9.3, we are proud to announce several updates that aim to enhance the overall customer experience. From the new Certificates Gallery to the reinstated link to the Manual (Wiki), we are confident that these changes will improve the ease and efficiency of your use of the platform. Additionally, this release includes important bug fixes, security enhancements, and an updated platform’s Terms & Conditions page. We are committed to delivering the best possible experience for our customers, and we hope that you find these updates beneficial. 1. The following topics were addressed New Certificates Gallery: Select from a variety of certificates to reward employees upon completion of their security awareness training. Customize the certificate with your own text, colors, and logo. Reinstated link to the manual (Wiki): A link to the manual has been added back to the platform, along with a search bar for both the system and the Wiki. SCORM template export: You can now export SCORM templates as ZIP files. Loading indicator: A loading indicator has been added to show when a page is being loaded. Whitelabel login page: The Login page can now be whitelabeled. Support contact link: You can now easily contact Support directly from the platform, either by submitting a ticket or by email. Session timeout redirect: Upon session timeout, you will be automatically redirected to the Login page to prevent data loss. UI bug fixes General bug fixes Security enhancements. Terms & Conditions update: The platform's Terms & Conditions have been updated. You can access them [here](/doku.php?id=terms_and_conditions). release_notes_4_9_3.txt · Last modified: 2023/02/13 08:04 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 239,
      "source": "https://wiki.thrivedx.com/doku.php?id=release_notes_4_9_4",
      "content": "release_notes_4_9_4 [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • release_notes_4_9_4 Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 release_notes_4_9_4 4.9.4 Release Notes Patch release that includes bug fixes following [version 4.9.3](/doku.php?id=release_notes_4_9_3). release_notes_4_9_4.txt · Last modified: 2023/02/19 15:25 by editor3 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 240,
      "source": "https://wiki.thrivedx.com/doku.php?id=release_notes_4_9_5",
      "content": "release_notes_4_9_5 [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • release_notes_4_9_5 Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 release_notes_4_9_5 4.9.5 Release Notes Patch release that includes bug fixes following version 4.9.3 and 4.9.4, and stability improvements. [version 4.9.3](/doku.php?id=release_notes_4_9_3). [version 4.9.4](/doku.php?id=release_notes_4_9_4). release_notes_4_9_5.txt · Last modified: 2023/03/11 20:11 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 241,
      "source": "https://wiki.thrivedx.com/doku.php?id=differences_between_community_commercial_edition",
      "content": "differences_between_community_commercial_edition [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • differences_between_community_commercial_edition Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 differences_between_community_commercial_edition There are two license types: The Community Edition: The Community Edition is designed to increase security awareness and can run 5 campaigns with 100 users per campaign (max 500 users in total). The maximum amount of users per campaign is 100. But if you run a campaign with only 1 user, it also counts as 1 campaign. The counter doesn't reset if you delete a campaign after you have started it. The Community Edition has a few limits regarding the available features (e.g. no possible updates, very restricted Malware tests, etc.) and only limited support. The Community Edition will still help smaller companies conduct fully functional awareness campaigns. Bug fixes are not included in the security patches - only with the regular updates which are available for commercial clients. Available features: Basic attack templates Data entry attacks Hyperlink & Multilingual libraries Active and Passive vulnerability detection Comprehensive reporting Realtime dashboard SSL certificate support etc. The Commercial Edition: There are usually have no limits regarding the number of campaigns or the number of recipients. Also, any limitations regarding Malware attack simulations are lifted and all LUCY features are available. The commercial license also includes free Setup/Campaign support and additional services like custom awareness or scenario template creations, help/support during a campaign, etc. Here are some of the features which are only available in the Commercial Edition: Raw Data Export Advanced Reporting Multiuser right assignment (view only clients) Admin GUI customization (LOGO/Copyright) E-Learning (interactive & static) Interactive Tunneling Session Feature Access to all malware simulations LHCF: Assess your technical infrastructure & monitoring with our custom tools Scheduling Product & Template Updates Advanced Support Features etc. differences_between_community_commercial_edition.txt · Last modified: 2020/08/07 13:23 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 242,
      "source": "https://wiki.thrivedx.com/doku.php?id=how_to_purchase_lucy",
      "content": "how_to_purchase_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • how_to_purchase_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 how_to_purchase_lucy In-product purchase LUCY offers In-App Purchase options. Download the community edition and simply navigate to support/license and purchase the product. This will activate the license key and no further software or license keys need to be downloaded. ![buy1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7380a0&media=buy1.png) ![buy2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=b5dbdd&media=buy2.png) Mail Order As an alternative you can place an order using this [order form](/lib/exe/fetch.php?media=order_form.doc) via email that contains the following information: Type of [License](/doku.php?id=lucy_pricing) (variable vs. fix priced license) Your Company Details Preferred payment method (PayPal, Wire Transfer) Optional Modules ([VPS rent](/doku.php?id=advantage_of_using_our_vps)) Web Shop You can buy LUCY in our shop located here: [http://www.lucysecurity.com/resources/shop/](http://www.lucysecurity.com/resources/shop/). Next Steps after purchasing If you purchased the software via mail, order form or the webshop, we kindly ask you to download the latest LUCY version from our homepage ([http://www.lucysecurity.com/resources/download/](http://www.lucysecurity.com/resources/download/)). Once you downloaded and installed LUCY, you can mail us your workstation ID ([http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=how_to_activate_lucy#where_to_find_the_workstation_id](http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=how_to_activate_lucy#where_to_find_the_workstation_id)). We will then create a license on a centralized server for you. As a last step you can fetch the license file by clicking \"[check for updates](/doku.php?id=update_lucy)\" within the support navigation menu. add credits | top up balance You can add credits to perform smishing attacks or buy licenses through the LUCY API by clicking the \"add\" button under support/license: ![add_credits-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=4abfc4&media=add_credits-1.png) ![add_credits2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=7a047b&media=add_credits2.png) Payment Terms Payment can be done via wire transfer or Paypal within a 30 days period End of License Period / Renewal of License The license does not get renewed automatically. It will terminate after the purchased period (1-3 years) without notification. After the license expires, LUCY will automatically become a community edition. All data and functions will still be accessible, but you won't be able to send more message with LUCY. how_to_purchase_lucy.txt · Last modified: 2019/11/22 09:25 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 243,
      "source": "https://wiki.thrivedx.com/doku.php?id=how_to_activate_lucy",
      "content": "how_to_activate_lucy [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • how_to_activate_lucy Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 how_to_activate_lucy License Keys Every LUCY installation has a unique, randomized Workstation ID (after downloading LUCY, you will automatically receive a workstation ID in key as soon as you connect to the internet. If you decide to purchase LUCY a license key will be created on a central server that associates that workstation ID with the license key. LUCY just needs to connect one single time via HTTPS to our license server to be activated as a commercial version. Where to find the workstation ID? To locate the workstation ID, please navigate to the top right corner of your profile and select \"License\" from the drop-down menu. The workstation ID will be prominently displayed on the page. ![121-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=3416da&media=121-1.png) ![workstationid-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=9e9736&media=workstationid-1.png) Where can I see how many messages are sent in LUCY? Under support/license you can identify how many e-mail recipients you used in your current installation: ![license_saved.png](https://wiki.thrivedx.com/lib/exe/fetch.php?w=600&tok=28a4ac&media=license_saved.png) Migration of LUCY keys As the license file is stored on a central server and associated with a unique workstation ID, we cannot simply migrate it to a new workstation ID. If you would like to delete the old installation and create a new one, please email us the new workstation ID, provide your up to date usage by sending us a screenshot of the old license page or tell us the number of recipients tested in previous campaigns. Due to privacy reasons, we do not keep track of your license usage. For previously purchased a user based license transfer, please provide your up to date usage by sending us a screenshot of the old license page or tell us the number of recipients tested in previous campaigns. Purchase of LUCY Lucy can be purchased through the web-based console under support/license or you can place an order. More details [here](/doku.php?id=how_to_purchase_lucy). how_to_activate_lucy.txt · Last modified: 2023/01/27 14:27 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 244,
      "source": "https://wiki.thrivedx.com/doku.php?id=commercial_license_disappeared",
      "content": "commercial_license_disappeared [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • commercial_license_disappeared Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 commercial_license_disappeared Commercial License Disappeared For some reason, the Commercial license is changed to Community and extra features are not available again despite the fact that a long-term license just has been activated. Q: Why did this happen? A: It happened because of our Anti-Piracy protection. Lucy Security License Server detects a LUCY instance with a particular Workstation ID and binds it to a public IPv4. So in case if public IPv4 is changed, the Workstation ID is reset by force to avoid piracy. Q: What to do? A: Simply contact our support@lucysecurity.com, the license will be transferred from old Workstation ID to the new one. The situation might appear in case if there is no static external IPv4 or after a proxy configuration. Q: What do I do if my external IPv4 is dynamic and this can not be changed? A: Anti-Piracy protection can be deactivated by request. commercial_license_disappeared.txt · Last modified: 2020/11/25 13:19 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 245,
      "source": "https://wiki.thrivedx.com/doku.php?id=happens_after_license_expires",
      "content": "happens_after_license_expires [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • happens_after_license_expires Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 happens_after_license_expires What happens after the license expires Q: Is there an automatic renew of license? A: No, to renew LUCY license please contact a Manager or email to support@lucysecurity.com Q: What features exactly are available and what happens with data after it expires? A: All of the features of community license will be available, More [here](/doku.php?id=differences_between_community_commercial_edition). All of the data will be safe and some of its parts will become available as soon as license is activated again. Q: What happens when the end of a license occurs? A: Only community license features will become available. Q: Does the software still work but fail to receive updates? A: Yes, the LUCY phishing simulation tool will still be available. You'll be able to receive minor updates. Update to a next major version is not available. Q: What will happen if I rent a cloud LUCY when my license expires? A: Do not worry, we will not cancel the instance immediately. Most likely a Manager will contact you to have further discussion regarding the matter. happens_after_license_expires.txt · Last modified: 2020/08/07 12:34 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 246,
      "source": "https://wiki.thrivedx.com/doku.php?id=lucy_reseller_conditions",
      "content": "lucy_reseller_conditions [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • lucy_reseller_conditions Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 lucy_reseller_conditions If you want to apply as a reseller please request or reseller agreement and contact us under info@lucysecurity.com for more details. lucy_reseller_conditions.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 247,
      "source": "https://wiki.thrivedx.com/doku.php?id=hosting:data_center_info_s",
      "content": "hosting:data_center_info_s [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • data_center_info_s Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 hosting:data_center_info_s Data Center Infrastructure LUCY runs on a dedicated VPS (virtualized server / OpenVZ) with full root access. The technical infrastructure consists of components from Cisco Systems and Juniper Networks which ensure a professional operation. The systems are connected with 3 Gbit/s and the current infrastructure is able to be connected with 6.4 Gbit/s without a hardware upgrade. Router We use the manufacturer Juniper Networks with its high-end products in the sector of carrier-class routers. The M10 is at the heart of our routing. Security Reliability, DoS attack protection, and secure service delivery can be ensured by a number of functions such as the J-Protect filtering capabilities, the restriction of high data throughput rates, the Junos software and the industry-leading ASIC technology. Reliability A singular architecture, power and cooling system, the fail-safe Junos software and rigorous system testing ensures that all M-series platforms are highly reliable. We are using the Cisco® Catalyst® 4900M with the following characteristics: 320 Gbit/s. The Cisco Catalyst 4900 has a maximum data throughput of 320 Gbit/s so no data packet has to wait long. IPv6: The impending difficulties of IPv4 will cause a timely switch to IPv6. Just as our router, the Cisco Catalyst 4900M supports both protocols. The hardware of the switches is also singular. They have hot swappable (removable during operation) power supplies and coolers. They also have a high degree of reliability. Carrier Our connectivity is provided by three independent carriers and allows us to guarantee availability of 99% per year. We have chosen two international and regional carriers - KPN, Tinet, and Cogent. With this mix, we ensure the high availability and speed at an international and regional level. We are housed in the data center of KPN EuroRings B.V. in Duesseldorf (Germany) which fulfills the high standards and provides a high-performance connection. The data center is equipped with a singular power supply via UPS (uninterruptible power supply) and emergency power generators, climate control, and a gas extinguishing system. KPN is the leading telecommunications and ICT service provider in the Netherlands and offers their end users-products (telephone, internet, and television) well as B2B benefits. hosting/data_center_info_s.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 248,
      "source": "https://wiki.thrivedx.com/doku.php?id=terms_and_conditions",
      "content": "terms_and_conditions [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • terms_and_conditions Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 terms_and_conditions TERMS AND CONDITIONS [ThriveDX - Platform Terms and Conditions - February 2023 (English)](/lib/exe/fetch.php?media=08.02.22_eula.pdf) terms_and_conditions.txt · Last modified: 2023/02/08 17:35 by editor6 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 249,
      "source": "https://wiki.thrivedx.com/doku.php?id=advantage_of_using_our_vps",
      "content": "advantage_of_using_our_vps [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • advantage_of_using_our_vps Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 advantage_of_using_our_vps VPS Hosting & dedicated root server hosting with LUCY Security AG Clients have the possibility to rent a VPS or dedicated physical server from LUCY Security AG. The servers are located in Europe by default, but can also be set up in any other country on request. In Switzerland, we work together with Hosttech. EU data center used by LUCY security Our partners Hetzner Online is a professional web hosting provider and experienced data center operator. Since 1997 the company has provided private and business clients with high-performance hosting products as well as the necessary infrastructure for the efficient operation of websites. The company owns several data centers in Germany and Finland. Hetzner Online is certified in accordance with DIN ISO/IEC 27001. The ISO 27001 certificate, an internationally recognized standard for information security, certifies that Hetzner Online GmbH and Hetzner Finland Oy have established and implemented an appropriate information security management system (ISMS). Сloud servers are located in their own state-of-the-art data centers. You get best-in-class performance with AMD EPYC 2nd Gen, Intel® Xeon® Gold processors and speedy NVMe SSDs. Virtualized Private Server implies 8 vCPU, 16 GB RAM, 240 GB SSD, 20 TB Traffic. US data center Lucy Security partners Hetzner Online now provide an opportunity to request VPS in Ashburn, Virginia, in a region called Data Center Alley. Simply mention that Lucy should be located in US zone when requesting VPS. High Availability Downtimes could always happen even with the best infrastructure concept. In addition to DDoS-Attacks, power failures or hacked customer servers there are various reasons that can lead to interrupted services. We have a very own interest in everything running normally and without problems, because a failure also means stress for us. You can be sure that we are monitoring our whole infrastructure 24/7 from different locations spread around the world. In case a server has a problem, you can be sure that our NOC has already been informed about it and is currently working on solving the issue. Please keep in mind that our VPS are not designed for high availability. Therefore we guarantee a minimum availability of 99.9% per year. That means that your VPS can be unavailable for around 9 hours/year. In case of a longer downtime please get in touch with us for a refund. Advantages of Using our VPS/Dedicated physical server Depending on your infrastructure, there are advantages to choosing our VPS: Sufficient bandwidth: Guaranteed 1 Gbyte Public IP address outside your network range: Prevents your infrastructure from being blacklisted. Dedicated full root access with optimized OS: We ensure the hardware and OS is optimized for best results. DNS: We will create the necessary DNS entries to prevent SPAM (e.g. correct PTR). Direct access: The server will not be blocked by any security products already in place. Application checks: To ensure that LUCY works smoothly, we perform all the necessary tests (such as creating test campaigns, running performance tests, etc.). Secured data center ([more info](/doku.php?id=hosting:data_center_info_s)) VPS Dedicated Root Server: Technical Details A dedicated root server is opposite to a VPS (virtual private server) not sharing the hardware with other clients. The dedicated root server has the best performance (up to 100'000 users) results and meets the highest security requirements. We work with two different main providers (but a server in other countries are possible as well). Location Switzerland: USD 220 RENTAL FEE (ROOT Server located in Switzerland RAM: 12 GB DDR3, RAID 2 x 1 TB SATA, 6 Gb/s, 7200rpm, AMD Bulldozer FX 6300 6 x 3.5 GHz); Min 12 month Location Germany: Same specs, but USD 110/month advantage_of_using_our_vps.txt · Last modified: 2022/05/29 09:20 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 250,
      "source": "https://wiki.thrivedx.com/doku.php?id=request_free_access_to_a_lucy_demo_server",
      "content": "request_free_access_to_a_lucy_demo_server [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • request_free_access_to_a_lucy_demo_server Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 request_free_access_to_a_lucy_demo_server Introduction We offer the possibility to test LUCY on one of our VPS on the Internet. The server will run the latest LUCY software with an unlimited license. How long can you test LUCY on our VPS? We provide you with a 7 days access to one of our LUCY servers. If you need a longer time period please let us know. How do you access that server? The server will be accessible on a public host via HTTPS. We will provide you with the login link & credentials. I want to start testing. How do I proceed? Drop us a mail and request access to a demo server including your company details and the time frame, when you would want access to the system. If the VPS is available we can give you access within the same business day. request_free_access_to_a_lucy_demo_server.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 251,
      "source": "https://wiki.thrivedx.com/doku.php?id=transfer_license",
      "content": "transfer_license [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • transfer_license Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 transfer_license LUCY License Files Every LUCY installation has a unique, randomized Workstation ID (after downloading LUCY, you will automatically receive a workstation ID in key as soon as you connect to the internet. If you decide to purchase LUCY a license key will be created on a central server that associates that workstation ID with the license key. Transferring LUCY License Files The license file is stored on our centralized server. Therefore moving an existing license is easy: just tell us the new workstation ID ([see this article](/doku.php?id=how_to_activate_lucy) how to identify your workstation ID) and we will update that information on our licensing server. transfer_license.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 252,
      "source": "https://wiki.thrivedx.com/doku.php?id=lucy_partner_selling_process",
      "content": "lucy_partner_selling_process [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • lucy_partner_selling_process Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 lucy_partner_selling_process LUCY Partner Selling Process Step 1: Place an Order You can place the order via email or as an alternative you can place an order using this [order form](/lib/exe/fetch.php?media=order_form.doc). Please include in your order the following information: Type of [License](/doku.php?id=lucy_pricing) (variable vs. fix priced license) Your Company Details Preferred payment method (PayPal, Wire Transfer) Optional Modules ([VPS rent](/doku.php?id=advantage_of_using_our_vps)) Step 2: Download and install the software & components Download the latest LUCY version here: [http://www.lucysecurity.com/resources/download/](http://www.lucysecurity.com/resources/download/). Then follow our installation instructions ([VMware](/doku.php?id=download_and_install_lucy_in_vmware), [Amazon](/doku.php?id=installing_lucy_in_amazon), [Linux](/doku.php?id=installing_lucy_on_linux), Open Virtualization). Make sure you apply all [patches](/doku.php?id=update_lucy) Download all latest [templates](/doku.php?id=download_templates) Reserve a [domain](/doku.php?id=domain_configuration) name in LUCY Create a [user](/doku.php?id=user_management) to access LUCY Step 3: Send us the workstation Key Once LUCY is installed, you need to send us the workstation ID via mail. The ID can be found here: [http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=how_to_activate_lucy#where_to_find_the_workstation_id](http://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=how_to_activate_lucy#where_to_find_the_workstation_id) We will be able to activate the installation within 4 hours. Step 4: Download the license file The license file we create on a centralized server can be downloaded by clicking \"[check for updates](/doku.php?id=update_lucy)\". lucy_partner_selling_process.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 253,
      "source": "https://wiki.thrivedx.com/doku.php?id=eula",
      "content": "eula [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • eula Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 eula Please download a copy of the EULA here: [eula_may_2018.doc](/lib/exe/fetch.php?media=eula_may_2018.doc) eula.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 254,
      "source": "https://wiki.thrivedx.com/doku.php?id=invoices_and_balance_refill",
      "content": "invoices_and_balance_refill [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • invoices_and_balance_refill Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 invoices_and_balance_refill LUCY offers you extra content and features using in‑app purchases — including premium content, digital goods, and subscriptions — directly within your workstation. How to know the current balance Workstation's available Balance can be obtained using a LUCY GUI. To determine whether you have enough money in your account to cover your overall campaign needs simply navigate to Support → License. On this page, you can find Workstation ID, License Type, Balance, Support hours, and many other details. License For more information on how to purchase lucy consult this chapter [ how to purchase lucy](/doku.php?id=how_to_purchase_lucy) How to refill balance You can add credits to perform smishing attacks or buy domains through the LUCY API by clicking the Add button: ![add_credits-1.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=add_credits-1.png) The balance will be refilled in a few minutes after the transaction is complete. ![add_credits2.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=add_credits2.png) If you top up your Balance, LUCY creates a PDF invoice for you automatically. Invoices Under the Support menu navigate to item Invoices located under License. In this menu, you can download your invoices. Therefore invoices can be archived and accessible using the button: ![invoices.png](https://wiki.thrivedx.com/lib/exe/fetch.php?media=invoices.png) Please, note that it requires to enter your company data when you purchase something. Payment Terms Payment can be done via wire transfer or Paypal within a 30 days period. invoices_and_balance_refill.txt · Last modified: 2021/12/22 15:17 by lucysecurity Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 255,
      "source": "https://wiki.thrivedx.com/doku.php?id=legal_aspects_of_phishing_spoofing_etc",
      "content": "legal_aspects_of_phishing_spoofing_etc [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • legal_aspects_of_phishing_spoofing_etc Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 legal_aspects_of_phishing_spoofing_etc About this chapter The information presented in this wiki is not a legal advice and is subject to change without notice. What is a copyright? From the legal point of view, Copyright in Web is often considered as the grey area. But in the English law everything created privately is copyrighted “automatically”. Explicit copyright is not necessary. The default you should assume for other people’s works is that they are copyrighted and may not be copied unless you know otherwise. Example: you are contracted to test the company \"example\". In that case, you can copy their webpage [www.example.com](http://www.example.com) for a phishing simulation. In English law, permissions to use copyright works (also known as licenses) do NOT need to be in writing. For instance, when you make a website available to the world, you grant an implied license to internet users to copy that website for the purpose of viewing it on a web browser. Therefore we recommend using the website cloner and logo's only from your own corporate site. Can you use 3rd party logos/content for your phishing simulation? When our customers incorporate another company’s logo in a simulated phishing email, that logo is not used in a way that confuses customers into believing that their goods or services originate with, are related to, or are sponsored by the company whose logo is displayed. As the customers are actually not branding goods or services with anyone else’s logo; rather they are engaged in security awareness training. Potential confusion is mitigated by a corrective landing page and/or instructional video that launches at the conclusion of a simulated phishing attack, advising users to be more wary of phishing scams. So as long as the clients are reinforcing, that any third party logo is for illustrative or instructional purposes only and there is no affiliation or relationship between the mark owner and LUCY or LUCY's customer, there is no legal issue. But customers should not omit this important information when customizing landing pages. So from a copyright perspective, incorporating a third party logo in a simulated phishing email serves an entirely new, transformative purpose, and as such, constitutes fair use. The logo is employed in a different manner (unrelated to the offering or sale of goods or services) and for a different purpose (aimed at security awareness and educating the public about how to avoid phishing scams). This transformative use does not undermine the copyright holder or any market that the copyright holder would reasonably exploit. Example legal disclaimer Please use a legal disclaimer for your email or landing page in case you spoof a third party brand for educational purposes. Example: Please note that the third-party logos and trademarks used in this email or landing page are used for illustrative or instructional purposes only and there is no connection or relationship between the trademark owner and Lucy Security or the LUCY Security customer. Is impersonating an email even allowed? If you are hired to test another company you should have the properly written contract in place. When testing your own company mail spoofing is allowed in most countries. Spoofing (mail or SMS) is only illegal in cases where it’s used to commit fraud or otherwise perpetrate a crime. Is SMS spoofing legal? There are entirely legitimate reasons to spoof text messages, as well as less legitimate ones and the legality of this practice varies worldwide. Some nations have banned it due to concerns about the potential for fraud and abuse, while others may allow it. Individual carriers may also restrict SMS spoofing even if it is legal in a given nation. It is illegal to send anonymous SMS messages in Australia legal_aspects_of_phishing_spoofing_etc.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 256,
      "source": "https://wiki.thrivedx.com/doku.php?id=privacy_data_protection_and_gdpr",
      "content": "privacy_data_protection_and_gdpr [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • privacy_data_protection_and_gdpr Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 privacy_data_protection_and_gdpr PRIVACY Where is LUCY storing and processing data? This information can be obtained by finding out where the data is being hosted. Lucy can be installed On-Site or on a cloud server. If installed on a cloud server, all data is stored on that specific server. Where is data sent? It’s also important to remember that data can be moved around between an app’s different data centers. That depends on the feature used in LUCY. As you can see in [this chapter](/doku.php?id=network_communication_-_lucy_--_internet), LUCY uses some connections to centralized servers (e.g. update server). But no personalized information that falls under GDPR ever gets transmitted. Data processing agreement: Please visit this [chapter](/doku.php?id=company_application_and_data_security) Protecting personal data: It is crucial for users to have good security measures in place to protect personal data against alteration, loss and unofficial processing. Lucy encrypts the data and offers many possibilities to [secure access to the data](/doku.php?id=security_considerations). But this hardening must be done by the LUCY client. Collecting personal data: In certain countries (e.g. Germany), you are not allowed to collect personalized data (e.g. who failed a phishing simulation and who did not pass a training). In such a case you need to [enable anonymous mode in LUCY](/doku.php?id=confidentiality_of_campaign_data). privacy_data_protection_and_gdpr.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 257,
      "source": "https://wiki.thrivedx.com/doku.php?id=company_application_and_data_security",
      "content": "company_application_and_data_security [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • company_application_and_data_security Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 company_application_and_data_security Company, Application, Data Security and Privacy LUCYs Security & Privacy Policies Organization of Risk & Information Security Questions Response Comments Is there a comprehensive, documented information security & privacy policy in place? yes Yes, \"Management-Handbook-Security-Policy\" and a GDPR Code of Conduct for LUCY Employees Are the policies communicated to all individuals with access to IT systems or access to tenants data? yes Personal information, part of the employee contract, availability for everybody Is there a comprehensive, documented information security concept including access management for your service in place? yes Tenant Model, Role Model and ACL in Place (Access control list) Is a risk management process implemented dealing with the periodical identification, valuation of risks and the implementation of mitigation controls? yes It's in Management Handbook Security Policy. Each employee is encouraged to report risks. This applies in particular to IT and Cyber risks. A risk catalog is kept. At least once a year a risk assessment is carried out. The obligation is with the DPO / Chief Security and Risk Officer. Is a periodic assessment conducted of how well the security policies and procedures are respected within the company? partially We have two roles DPO & CSRO (chief sec and risk officer). There's a regularity done by the CSRO himself. . Allocation of information security responsibilities Questions Response Comments Do you have a dedicated person or team that is formally chartered with responsibility for information security? yes dpo at lucysecurity dot com Allocation of IT risk management responsibilities Questions Response Comments Do you have a dedicated person or team that is formally chartered with responsibility for IT risk management? yes dpo at lucysecurity dot com Security Audits Questions Response Comments Do you regularly conduct internal/external audits? Annually Internal Audit Providers & external Suppliers Physical Protection Physical entry controls Questions Response Comments Is physical access to buildings that house critical IT facilities restricted to authorized individuals? yes Access to the building is possible with a fingerprint in addition to an RFID key card. Without it no access is not possible. Policy for DC and IT System access Questions Response Comments Are policies and procedures implemented to specify proper use of and access to IT systems and network components. yes Access to Routers / Network components is only possible through a separate VPN network. Authentication on Firewalls / Routers is only possible through SSH-Key. All Logs are stored on a separate logging device, all configuration changes are monitored, saved and alerted. Physical Access is only possible for certified network admins. Secure disposal or re-use of IT equipment Questions Response Comments Is a secure decommissioning process in place? (E.g. wiping data from old hard drives, secure deletion of network configurations from routers.) yes We don't apply secure deletion. When applying dedicated deletion orders it is done with an overwrite routine using shred (Linux Software). Human Resources Security Roles and responsibilities Questions Response Comments Are security roles and responsibilities of employees defined and documented? yes A member of the top management. Security awareness of LUCY staff Questions Response Comments Is staff made aware of the key elements of information security and why it is needed (i.e. segregation of duties, need to know)? yes All staff that has any relation to the software code and our infrastructure (software engineers, QA engineers, support engineers, system admins, etc) pass internal information security courses. Are service administrators properly educated on their responsibilities with regard to security? yes All employees are getting an internal lesson on cybersecurity and passing security courses that include basic vulnerabilities overview, penetration technologies, mitigation methods, etc. It is an internal training based on the one-to-one introduction and a combination of Webinars / Practical Laboratory courses using Kali Linux. Security Policies for LUCY staff LUCY employees must agree to the policy at the time they start work on the following topics: Responsibility in safe data handling Secure Traveling Reporting Security Incidents Workplace conduct Use of email and awareness against cyber risks Internet use Using passwords Data Classification Protection from social engineering Social Networking Virus protection Hardware and software measures Violation of protective measures and reporting obligation Identity and Access Management Authentication Questions Response Comments Which method is used to authenticate a user against the provided service (user ID/password, OTP, SMS, etc.). yes Username & Password and we use SMS-based one-time passwords. Access control policy Questions Response Comments Is the access to the service and data restricted to authorized individuals and based on an established access control policy? yes Physical access is protected with a fingerprint in addition to an RFID key card and the keys of the rack. \"Virtual\" access via SSH-Keys. No written policy for that and not mandatory for a company of this size. Do access control arrangements restrict access to only approved system capabilities? yes Physical access is protected with a fingerprint in addition to an RFID key card and the keys of the rack. \"Virtual\" access via SSH-Keys. No written policy for that and not mandatory for a company of this size. Data access Questions Response Comments Is a Data Loss Prevention System in use? Who has the ability to accesses tenant data? no NO DLP System is in place and no alerting system is used at LUCYs promises Data integrity Questions Response Comments Are controls implemented to confirm that customer data has not been improperly altered or destroyed yes NO DLP System is in place and no alerting system is used at LUCYs promises Password policy Questions Response Comments Will the allocation of passwords be controlled through a formal password policy process? partially When choosing passwords they need to have more than 8 characters and they must be a mix of capital/lower letters, numbers and special characters. If there is a possibility for two-factor authentication (2FA), then 2FA should be applied. User registration & management Questions Response Comments Is there a formal user registration and de-registration procedure in place for granting and revoking access to all systems and services and to tenants data? yes An engineer may obtain access to a single tenants data only in case there is a need for maintenance, based on tenants request. An engineer sends a request to the systems admin or to the tenants responsible person (there is an option to grant access from the tenant's side). The permission is immediately revoked after the maintenance is finished. The permissions are granted and revoked within a few minutes. Is a user management process in place (creation, revocation, provisioning, and termination of rights, etc.)? yes After contract termination the LUCY Server Instance is safely reset. This is a built-in and secure feature in LUCY Server. [https://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=factory_reset](https://www.lucysecurity.com/PS/doc/dokuwiki/doku.php?id=factory_reset) Session time-out Questions Response Comments Do inactive end-user sessions shut down after a defined period of inactivity? yes The end-user session terminates after 1 hour of inactivity Vulnerability Reporting and Management Alerting Questions Response Comments Do you have an easy way for externals to report security vulnerabilities in your systems? yes Write a mail to support@lucysecurity.com or dpo@lucysecurity.com . Every employee needs to react as stated in the GDPR code of contact Information about inappropriate access Questions Response Comments Will you share user entitlement remediation and certification reports with your tenants, if inappropriate access may have been allowed to tenant data? yes With a dedicated form, within 72 hours after discovery Notification of customers Questions Response Comments Do you inform your customers about vulnerabilities in your products once you had a chance to address them, regardless of whether they were discovered internally, or reported to you? yes with a dedicated form and a direct mailing put in place already Vulnerability Rating Our vulnerabilities are rated based on CVSS standard ([https://www.first.org/cvss/v3-1/cvss-v31-user-guide_r1.pdf](https://www.first.org/cvss/v3-1/cvss-v31-user-guide_r1.pdf)) Operations Management and Security Controls Separation of development, test and operational facilities Questions Response Comments Are development, test and operational facilities separated from each other to reduce the risk of unauthorized access or change to the operational environment. yes Operational facilities are completely separated. Network hardening Questions Response Comments Is hardening for Firewalls and Routers performed? yes On all routers and firewalls, management access is only possible via VPN. There are separate users for monitoring and configuration. All configuration changes are automatically reported and saved. In general, all firewalls and routers only run SSH for management access and otherwise only the necessary routing processes such as BGP, OSPF or just the firewall software. Operating system hardening Questions Response Comments Is an operating system hardening performed for all systems involved? yes OS is protected by internal firewall (iptables), SSH access keys are randomly generated, removed USB/firewire drivers, the app runs under a limited user account, etc. Application Server hardening Questions Response Comments Is hardening performed for all relevant application server? yes App servers are hardened using common approaches: proper file permissions, non-privileged account, removed version banner, disabled directory indexes, disabled ETags, secure cookie flags, etc. The system partially conforms to \"CIS Debian 8\" checklist (50% conformance), we can provide a detailed list of non-conforming items upon request. Database hardening Questions Response Comments Is hardening performed for all relevant database management systems? yes Only local connections are allowed and the system partially conforms to \"CIS PostgreSQL 9.5\" checklist (50% conformance), we can provide a detailed list of non-conforming items upon request. Security Updates Questions Response Comments Is a process in place to install emergency patches outside of the regular patching schedule for security updates that address high-risk vulnerabilities? yes Critical and high-risk patches are issued within 24 hours, medium - up to 1 week, low-risk - up to 1 month Vulnerability management Questions Response Comments Do you regularly perform penetration tests on all systems relevant to your service? yes We use various web application vulnerability scanners and OS security auditing tools (Burp Suite, OpenVAS, Lynis, Nessus). Even though we've done our own human-based penetration tests in the past we do not perform human-based penetration assessment on a regular basis. How often are penetration tests done for the above scope (on average)? yes LUCY software is not a classic SaaS Plattform or Software. We do not perform penetration tests on client production instances. We release new Major updates of the software every 1-2 months, the software is mostly distributed as a virtual appliance (VMWare ESXi or Amazon image) and the process of automated penetration testing is tied to the release process - we perform such testing on the final stage of the release lifecycle. The set of application versions and software configurations of the version we are going to roll out exactly corresponds to the state of all systems after they migrate to the new version. For example, we are preparing version 5.0 for release and run penetration tests against it, within a virtual appliance. After all tests passed and all vulnerabilities are closed, we release the update, which is distributed over all existing software installations on different servers. All existing installations switch their state (install all required packages, remove old ones, change configuration, etc) to the state of the new version automatically, so all vulnerabilities closed on the pre-release stage will be closed on all tenants servers automatically. We never change anything on tenants servers directly. On what standards does LUCY perform Penetration tests? Yes OSSTMM [https://www.isecom.org/OSSTMM.3.pdf](https://www.isecom.org/OSSTMM.3.pdf) Security incident detection and correlation Questions Response Comments Does your infrastructure include a capability for security incident detection e.g. file integrity (host) and network intrusion detection (IDS) tools? partially These tools are used on infrastructure servers. Workstation installations do not have file integrity or IDS tools installed. Protection of data storage media Questions Response Comments Is tenets data held on data storage media (including magnetic tapes, disks, printed results, and stationery) protected against corruption, loss or disclosure? yes Tenants data is entirely stored on a disk on the server, and the only measure against data loss we perform _by default_ is a local daily database backup, which can help to prevent minor data loss. As an additional measure, we can set up RAID0 or RAID5 array, which can add an additional layer of protection against data loss or corruption. There is no access to other storage media from the server. The information in DB is encrypted using AES-256 (so it's stored int he encrypted form) and the key is built into the application, so there's minimal protection from data disclosure. Malware/ Defacement Questions Response Comments Are controls in place to protect the service and our tenants from malware? yes Infrastructure servers have anti-malware software installed. Security gateways Questions Response Comments Is network traffic routed through security gateways like web application firewalls or reverse proxies, prior to being allowed access to target service? partially WAFs and reverse proxies are used on infrastructure servers, though that is not the case on workstation installations. Data encryption Questions Response Comments Do you encrypt tenant data in storage and server side? yes Data is encrypted using AES-256. The application server gets data over HTTP/TLSv1.1+ connection and operates the data in cleartext form. The information is encrypted by the application before storing it into the DB, so the DB engine receives the information in an encrypted form (and therefore stores it to the storage media). The application decrypts the information from the DB before processing it. There are no other types of encryption beyond these. Network encryption Questions Response Comments Do you encrypt tenant data in transit (network - e.g. TLS)? yes The system uses TLSv1.1+ Logging & Monitoring Questions Response Comments Are a process and audit trails in place to monitor and record exceptions and other security-relevant events to assist in investigations and in access control monitoring? yes All actions are monitored and logged in order to help investigating any incidents. Service Development Data input and output validation Questions Response Comments Do you provide secure software development training to your engineers, that teaches them about common threats and countermeasures related to the software they are writing? yes Software engineers are trained to avoid OWASP top 10 vulnerabilities identify any existing vulnerabilities and mitigate them during the software development. Use of productive Data for test purpose Questions Response Comments Will you use tenant data for testing purposes? no Using of tenant data is prohibited in test and development environments Data input and output validation Questions Response Comments Are data input and output integrity routines (i.e., reconciliation and edit checks) implemented for application interfaces and databases to prevent manual or systematic processing errors or corruption of data? yes Built-in validations in the application Business Continuity Management Plans and procedures Questions Response Comments Has the provider a defined and documented method for coping with a business continuity situation? yes There is a Business Continuity Plan Plans and procedures Questions Response Comments Has the provider implemented, tested and documented a set of procedures and actions for a contingency situation? yes There are tested and documented procedures for a contingency situations Data and production recovery Questions Response Comments Is the data security ensured by redundant systems? no The software has not mission criticality for the business Crisis management Questions Response Comments Does the provider have an emergency and crisis management with defined contact people? yes It's in LUCYs Management Handbook Security Policy. GDPR Agreement Please download our GDPR agreement [here](/lib/exe/fetch.php?media=gdpr_agreement.docx) Auftragsdatenverarbeitungsvertrag (German) Please download our Auftragsdatenverarbeitungsvertrag [here](/lib/exe/fetch.php?media=auftragsverarbeitung.docx) company_application_and_data_security.txt · Last modified: 2021/09/01 15:11 by lucy Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 258,
      "source": "https://wiki.thrivedx.com/doku.php?id=vmware_setup",
      "content": "vmware_setup [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 vmware_setup This page does not exist anymore You've followed a link to a page that no longer exists. You can check the list of [old revisions](/doku.php?id=vmware_setup&do=revisions) to see when and why it was deleted, access old revisions or restore it. Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 259,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_data_entry_phishing_campaign",
      "content": "create_a_data_entry_phishing_campaign [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_data_entry_phishing_campaign This page does not exist anymore You've followed a link to a page that no longer exists. You can check the list of [old revisions](/doku.php?id=vmware_setup&do=revisions) to see when and why it was deleted, access old revisions or restore it. Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 260,
      "source": "https://wiki.thrivedx.com/doku.php?id=create_a_campaign_with_interactive_sessions",
      "content": "create_a_campaign_with_interactive_sessions [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • create_a_campaign_with_interactive_sessions Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 create_a_campaign_with_interactive_sessions VIDEO URL [https://www.youtube.com/watch?v=mSA8jMXYlJU&feature=player_embedded](https://www.youtube.com/watch?v=mSA8jMXYlJU&feature=player_embedded) create_a_campaign_with_interactive_sessions.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 261,
      "source": "https://wiki.thrivedx.com/doku.php?id=ssl_check",
      "content": "ssl_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • ssl_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 ssl_check Issue: Outdated SSL certificate. Browsers show a warning message when opening websites with such certificates. It's recommended to generate a new certificate for this scenario. Please visit the chapter [Create a Certificate within a Campaign](/doku.php?id=ssl_configuration) for more info. Issue: Certificate is self-signed. Browsers show a warning when opening websites with self-signed certificates. It's recommended to use a trusted certificate signed by Certificate Authority to make victims less suspicious. Please visit the chapter [Create a Certificate within a Campaign](/doku.php?id=ssl_configuration) for more info. ssl_check.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 262,
      "source": "https://wiki.thrivedx.com/doku.php?id=accessibility_check",
      "content": "accessibility_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • accessibility_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 accessibility_check * Issue: The URL is not accessible from the Internet. Please visit the chapter [i_cannot_reach_lucy_web_gui](/doku.php?id=accessibility:i_cannot_reach_lucy_web_gui) for more info. accessibility_check.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 263,
      "source": "https://wiki.thrivedx.com/doku.php?id=ip_check",
      "content": "ip_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • ip_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 ip_check Issue: The URL may be not accessible from the Internet. In case you try to reach LUCY with a private domain name: Did you set up a host file with a server name that points to the IP where you have configured the initial setup script? In case you try to reach LUCY with a public domain name: Did you point the correct domain name to LUCY's IP in your provider's DNS settings? The URL is resolving to a private IP address. Private IP addresses are not accessible from the Internet. In case you run the campaign only within your own network, this message can be ignored. Otherwise, make sure LUCY is reachable from the internet (will require you to create a port forwarding rule with NAT on your firewall device) ip_check.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 264,
      "source": "https://wiki.thrivedx.com/doku.php?id=mx_check",
      "content": "mx_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • mx_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 mx_check Issue: MX records are not pointing to Lucy. This can cause mail delivery failures. Please your MX records to the system. Please visit the chapter [What to do?](/doku.php?id=mail_communication_issues:e-mails_do_not_arrive) for more info about mail delivery issues and MX Setup. mx_check.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 265,
      "source": "https://wiki.thrivedx.com/doku.php?id=email_delivery_check",
      "content": "email_delivery_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • email_delivery_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 email_delivery_check Issue: E-mail delivery check has failed. In the email check LUCY sends out an empty test mail to a predefined LUCY mail address (@lucysecurity.com or test@phishing.services) to verify that the SMTP communication works. We do not use any data from your system or any mail address from the campaign within this check. Please check your e-mail settings or visit the chapter [lucy_says_mail_test_failed_when_i_start_a_campaign](/doku.php?id=mail_communication_issues:lucy_says_mail_test_failed_when_i_start_a_campaign) and [What to do?](/doku.php?id=mail_communication_issues:e-mails_do_not_arrive) for more info. email_delivery_check.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 266,
      "source": "https://wiki.thrivedx.com/doku.php?id=settings_check",
      "content": "settings_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • settings_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 settings_check Issue: No recipients are defined. Please visit the chapter [How to Enter Your Recipients](/doku.php?id=add_mail_recipients) for more info. Issue: Sender mail is not defined. Please visit the chapter [Edit the Basic Email Settings](/doku.php?id=mail_settings) for more info. Issue: email or SMS has an empty body. Please visit the chapter [Edit the Basic Email Settings](/doku.php?id=mail_settings) for more info. Issue: The Scenario has recipients with empty phone, which is required for the selected type of message. Please visit the chapter [create_a_smishing_campaign](/doku.php?id=create_a_smishing_campaign) for more info. Issue: The workstation balance is not enough to cover SMS expenses for all recipients. Please visit the chapter [create_a_smishing_campaign](/doku.php?id=create_a_smishing_campaign) or the chapter [smishing_issues](/doku.php?id=smishing_issues) for more info. settings_check.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 267,
      "source": "https://wiki.thrivedx.com/doku.php?id=schedule_check",
      "content": "schedule_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • schedule_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 schedule_check Issue: Schedule is invalid. Please visit the chapter [scheduler](/doku.php?id=scheduler) or the chapter [the_scheduler_uses_a_wrong_time_zone_to_send_out_mails](/doku.php?id=the_scheduler_uses_a_wrong_time_zone_to_send_out_mails) for more info. schedule_check.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 268,
      "source": "https://wiki.thrivedx.com/doku.php?id=sender_email_check",
      "content": "sender_email_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • sender_email_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 sender_email_check Issue: Sender e-mail domain doesn't exist - that may cause receiving mail servers to reject all e-mails from Lucy. Please change the domain name of your sender e-mail address. Please visit the chapter [Introduction](/doku.php?id=domain_configuration) or the chapter [What to do?](/doku.php?id=mail_communication_issues:e-mails_do_not_arrive) for more info. sender_email_check.txt · Last modified: 2019/07/25 12:50 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 269,
      "source": "https://wiki.thrivedx.com/doku.php?id=spamming_check",
      "content": "spamming_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • spamming_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 spamming_check Issue: Email message is recognized as spam by SpamAssassin. We use SpamAssassin to check if your mail might get blocked (please note: even if our internal SPAM check gives you a good SPAM score it does not mean that other SPAM filters might still block your mail!). Please visit the chapter [Steps to Avoid Being Rejected by SPAM Filters](/doku.php?id=avoid_spam_issues) or the chapter [What to do?](/doku.php?id=mail_communication_issues:e-mails_do_not_arrive) for more info on this subject. Issue: Reverse DNS of email mail server is not available or not pointing to Lucy. Some SPAM filters test, if a reverse DNS entry exists for an IP. A reverse DNS can only be set by your provider. Issue: No DKIM signature in email message. The [DKIM feature](/doku.php?id=dkim_support) attaches a new domain name identifier to a message and uses cryptographic techniques to validate authorization for its presence. The identifier is independent of any other identifier in the message, such in the author's From: field. DKIM is a way of 'signing' emails to prove they came from you. It is a form of email authentication that works via a digital signature and makes it easier to identify spoofed emails. The sending mail server signs the email with the private key, and the receiving mail server uses the public key in the domain's DNS information to verify the signature. One domain can have several DKIM keys publicly listed in DNS, but each matching private key is only on one mail server. When you send emails through the LUCY mail server and have this option enabled, they will be automatically signed. Please note, that it's just a notification. More than likely, your emails won't be blocked and you don't have to change anything. Please visit the chapter [DKIM Background Info:](/doku.php?id=dkim_support) for more info. Issue: No SPF record for sender e-mail domain or Lucy host doesn't match it. An SPF record is a type of Domain Name Service (DNS) record that identifies which mail servers are permitted to send email on behalf of your domain. The purpose of an SPF record is to prevent spammers from sending messages with forged From addresses at your domain. Please note, that it's just a notification. More than likely, your emails won't be blocked and you don't have to change anything. Please visit [Steps to Avoid Being Rejected by SPAM Filters](/doku.php?id=avoid_spam_issues) for more info. Issue: SMTP server has been found in blacklists. A DNS-based Blackhole List (DNSBL) is an effort to stop email spamming. It is a \"blacklist\" of locations on the Internet reputed to send email spam. The locations consist of IP addresses which are most often used to publish the addresses of computers or networks linked to spamming; most mail server software can be configured to reject or flag messages which have been sent from a site listed on one or more such lists. Please go to the according to blacklist webpage ([https://en.wikipedia.org/wiki/Comparison_of_DNS_blacklists](https://en.wikipedia.org/wiki/Comparison_of_DNS_blacklists)) to get your server removed from the list. spamming_check.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    },
    {
      "id": 270,
      "source": "https://wiki.thrivedx.com/doku.php?id=language_check",
      "content": "language_check [] skip to content User Tools Log In Site Tools Search ToolsShow pagesourceCopy this pageExport Page to HTML/PDFBacklinksMedia ManagerLog In> Media Manager Trace: • language_check Sidebar LUCY MANUAL Applies to LUCY versions above 4.7 language_check Issue: The Scenario has recipients with a specific language defined, but the scenario does not have this language configured. In this case please either set the language within the recipient to \"default\" (see details about adding recipients here:[How to Enter Your Recipients](/doku.php?id=add_mail_recipients)) or create a scenario with the language of the recipient. language_check.txt · Last modified: 2019/07/25 12:49 by 127.0.0.1 Page Tools Show pagesourceBacklinksCopy this pageExport Page to HTML/PDFBack to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Share Alike 4.0 International"
    }
  ]
}
